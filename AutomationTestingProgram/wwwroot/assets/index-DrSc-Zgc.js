var BB=Object.defineProperty;var HB=(e,t,n)=>t in e?BB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Yu=(e,t,n)=>HB(e,typeof t!="symbol"?t+"":t,n);function GB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var b0={exports:{}},Gm={},R0={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),WB=Symbol.for("react.portal"),UB=Symbol.for("react.fragment"),zB=Symbol.for("react.strict_mode"),$B=Symbol.for("react.profiler"),jB=Symbol.for("react.provider"),KB=Symbol.for("react.context"),qB=Symbol.for("react.forward_ref"),YB=Symbol.for("react.suspense"),QB=Symbol.for("react.memo"),XB=Symbol.for("react.lazy"),mT=Symbol.iterator;function JB(e){return e===null||typeof e!="object"?null:(e=mT&&e[mT]||e["@@iterator"],typeof e=="function"?e:null)}var E0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P0=Object.assign,T0={};function Au(e,t,n){this.props=e,this.context=t,this.refs=T0,this.updater=n||E0}Au.prototype.isReactComponent={};Au.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Au.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A0(){}A0.prototype=Au.prototype;function bb(e,t,n){this.props=e,this.context=t,this.refs=T0,this.updater=n||E0}var Rb=bb.prototype=new A0;Rb.constructor=bb;P0(Rb,Au.prototype);Rb.isPureReactComponent=!0;var vT=Array.isArray,I0=Object.prototype.hasOwnProperty,Eb={current:null},x0={key:!0,ref:!0,__self:!0,__source:!0};function D0(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)I0.call(t,r)&&!x0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sp,type:e,key:o,ref:s,props:i,_owner:Eb.current}}function ZB(e,t){return{$$typeof:sp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pb(e){return typeof e=="object"&&e!==null&&e.$$typeof===sp}function eH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var CT=/\/+/g;function EC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eH(""+e.key):t.toString(36)}function Uf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case sp:case WB:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+EC(s,0):r,vT(i)?(n="",e!=null&&(n=e.replace(CT,"$&/")+"/"),Uf(i,t,n,"",function(c){return c})):i!=null&&(Pb(i)&&(i=ZB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(CT,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",vT(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+EC(o,a);s+=Uf(o,t,n,l,i)}else if(l=JB(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+EC(o,a++),s+=Uf(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Up(e,t,n){if(e==null)return e;var r=[],i=0;return Uf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function tH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zr={current:null},zf={transition:null},nH={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:zf,ReactCurrentOwner:Eb};function F0(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:Up,forEach:function(e,t,n){Up(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Up(e,function(){t++}),t},toArray:function(e){return Up(e,function(t){return t})||[]},only:function(e){if(!Pb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=Au;Tt.Fragment=UB;Tt.Profiler=$B;Tt.PureComponent=bb;Tt.StrictMode=zB;Tt.Suspense=YB;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nH;Tt.act=F0;Tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=P0({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Eb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)I0.call(t,l)&&!x0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sp,type:e.type,key:i,ref:o,props:r,_owner:s}};Tt.createContext=function(e){return e={$$typeof:KB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jB,_context:e},e.Consumer=e};Tt.createElement=D0;Tt.createFactory=function(e){var t=D0.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:qB,render:e}};Tt.isValidElement=Pb;Tt.lazy=function(e){return{$$typeof:XB,_payload:{_status:-1,_result:e},_init:tH}};Tt.memo=function(e,t){return{$$typeof:QB,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=zf.transition;zf.transition={};try{e()}finally{zf.transition=t}};Tt.unstable_act=F0;Tt.useCallback=function(e,t){return zr.current.useCallback(e,t)};Tt.useContext=function(e){return zr.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return zr.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return zr.current.useEffect(e,t)};Tt.useId=function(){return zr.current.useId()};Tt.useImperativeHandle=function(e,t,n){return zr.current.useImperativeHandle(e,t,n)};Tt.useInsertionEffect=function(e,t){return zr.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return zr.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return zr.current.useMemo(e,t)};Tt.useReducer=function(e,t,n){return zr.current.useReducer(e,t,n)};Tt.useRef=function(e){return zr.current.useRef(e)};Tt.useState=function(e){return zr.current.useState(e)};Tt.useSyncExternalStore=function(e,t,n){return zr.current.useSyncExternalStore(e,t,n)};Tt.useTransition=function(){return zr.current.useTransition()};Tt.version="18.3.1";R0.exports=Tt;var S=R0.exports;const $=op(S),Sg=GB({__proto__:null,default:$},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rH=S,iH=Symbol.for("react.element"),oH=Symbol.for("react.fragment"),sH=Object.prototype.hasOwnProperty,aH=rH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lH={key:!0,ref:!0,__self:!0,__source:!0};function O0(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)sH.call(t,r)&&!lH.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iH,type:e,key:o,ref:s,props:i,_owner:aH.current}}Gm.Fragment=oH;Gm.jsx=O0;Gm.jsxs=O0;b0.exports=Gm;var x=b0.exports,M0={exports:{}},Ni={},k0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,M){var ne=L.length;L.push(M);e:for(;0<ne;){var oe=ne-1>>>1,G=L[oe];if(0<i(G,M))L[oe]=M,L[ne]=G,ne=oe;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var M=L[0],ne=L.pop();if(ne!==M){L[0]=ne;e:for(var oe=0,G=L.length,re=G>>>1;oe<re;){var z=2*(oe+1)-1,K=L[z],Q=z+1,de=L[Q];if(0>i(K,ne))Q<G&&0>i(de,K)?(L[oe]=de,L[Q]=ne,oe=Q):(L[oe]=K,L[z]=ne,oe=z);else if(Q<G&&0>i(de,ne))L[oe]=de,L[Q]=ne,oe=Q;else break e}}return M}function i(L,M){var ne=L.sortIndex-M.sortIndex;return ne!==0?ne:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,C=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=L)r(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(c)}}function w(L){if(C=!1,m(L),!f)if(n(l)!==null)f=!0,N(E);else{var M=n(c);M!==null&&H(w,M.startTime-L)}}function E(L,M){f=!1,C&&(C=!1,g(R),R=-1),p=!0;var ne=h;try{for(m(M),d=n(l);d!==null&&(!(d.expirationTime>M)||L&&!I());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var G=oe(d.expirationTime<=M);M=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),m(M)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var z=n(c);z!==null&&H(w,z.startTime-M),re=!1}return re}finally{d=null,h=ne,p=!1}}var P=!1,A=null,R=-1,T=5,b=-1;function I(){return!(e.unstable_now()-b<T)}function D(){if(A!==null){var L=e.unstable_now();b=L;var M=!0;try{M=A(!0,L)}finally{M?F():(P=!1,A=null)}}else P=!1}var F;if(typeof v=="function")F=function(){v(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,_=O.port2;O.port1.onmessage=D,F=function(){_.postMessage(null)}}else F=function(){y(D,0)};function N(L){A=L,P||(P=!0,F())}function H(L,M){R=y(function(){L(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,N(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var ne=h;h=M;try{return L()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=h;h=L;try{return M()}finally{h=ne}},e.unstable_scheduleCallback=function(L,M,ne){var oe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?oe+ne:oe):ne=oe,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ne+G,L={id:u++,callback:M,priorityLevel:L,startTime:ne,expirationTime:G,sortIndex:-1},ne>oe?(L.sortIndex=ne,t(c,L),n(l)===null&&L===n(c)&&(C?(g(R),R=-1):C=!0,H(w,ne-oe))):(L.sortIndex=G,t(l,L),f||p||(f=!0,N(E))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var M=h;return function(){var ne=h;h=M;try{return L.apply(this,arguments)}finally{h=ne}}}})(L0);k0.exports=L0;var cH=k0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uH=S,Oi=cH;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N0=new Set,gh={};function Hl(e,t){eu(e,t),eu(e+"Capture",t)}function eu(e,t){for(gh[e]=t,e=0;e<t.length;e++)N0.add(t[e])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tS=Object.prototype.hasOwnProperty,dH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yT={},ST={};function hH(e){return tS.call(ST,e)?!0:tS.call(yT,e)?!1:dH.test(e)?ST[e]=!0:(yT[e]=!0,!1)}function pH(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fH(e,t,n,r){if(t===null||typeof t>"u"||pH(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tb=/[\-:]([a-z])/g;function Ab(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tb,Ab);Cr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tb,Ab);Cr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tb,Ab);Cr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ib(e,t,n,r){var i=Cr.hasOwnProperty(t)?Cr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fH(t,n,i,r)&&(n=null),r||i===null?hH(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ws=uH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zp=Symbol.for("react.element"),yc=Symbol.for("react.portal"),Sc=Symbol.for("react.fragment"),xb=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),_0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),rS=Symbol.for("react.suspense"),iS=Symbol.for("react.suspense_list"),Fb=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),wT=Symbol.iterator;function Qu(e){return e===null||typeof e!="object"?null:(e=wT&&e[wT]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,PC;function bd(e){if(PC===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);PC=t&&t[1]||""}return`
`+PC+e}var TC=!1;function AC(e,t){if(!e||TC)return"";TC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{TC=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bd(e):""}function gH(e){switch(e.tag){case 5:return bd(e.type);case 16:return bd("Lazy");case 13:return bd("Suspense");case 19:return bd("SuspenseList");case 0:case 2:case 15:return e=AC(e.type,!1),e;case 11:return e=AC(e.type.render,!1),e;case 1:return e=AC(e.type,!0),e;default:return""}}function oS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sc:return"Fragment";case yc:return"Portal";case nS:return"Profiler";case xb:return"StrictMode";case rS:return"Suspense";case iS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B0:return(e.displayName||"Context")+".Consumer";case _0:return(e._context.displayName||"Context")+".Provider";case Db:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fb:return t=e.displayName||null,t!==null?t:oS(e.type)||"Memo";case ea:t=e._payload,e=e._init;try{return oS(e(t))}catch{}}return null}function mH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oS(t);case 8:return t===xb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ta(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vH(e){var t=G0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $p(e){e._valueTracker||(e._valueTracker=vH(e))}function V0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sS(e,t){var n=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ta(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W0(e,t){t=t.checked,t!=null&&Ib(e,"checked",t,!1)}function aS(e,t){W0(e,t);var n=Ta(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lS(e,t.type,n):t.hasOwnProperty("defaultValue")&&lS(e,t.type,Ta(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lS(e,t,n){(t!=="number"||wg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rd=Array.isArray;function Hc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ta(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function cS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ET(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(Rd(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ta(n)}}function U0(e,t){var n=Ta(t.value),r=Ta(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jp,$0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jp=jp||document.createElement("div"),jp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CH=["Webkit","ms","Moz","O"];Object.keys(_d).forEach(function(e){CH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_d[t]=_d[e]})});function j0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_d.hasOwnProperty(e)&&_d[e]?(""+t).trim():t+"px"}function K0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=j0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yH=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dS(e,t){if(t){if(yH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function hS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pS=null;function Ob(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fS=null,Gc=null,Vc=null;function TT(e){if(e=cp(e)){if(typeof fS!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=$m(t),fS(e.stateNode,e.type,t))}}function q0(e){Gc?Vc?Vc.push(e):Vc=[e]:Gc=e}function Y0(){if(Gc){var e=Gc,t=Vc;if(Vc=Gc=null,TT(e),t)for(e=0;e<t.length;e++)TT(t[e])}}function Q0(e,t){return e(t)}function X0(){}var IC=!1;function J0(e,t,n){if(IC)return e(t,n);IC=!0;try{return Q0(e,t,n)}finally{IC=!1,(Gc!==null||Vc!==null)&&(X0(),Y0())}}function vh(e,t){var n=e.stateNode;if(n===null)return null;var r=$m(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var gS=!1;if(Ds)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){gS=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{gS=!1}function SH(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,bg=null,Rg=!1,mS=null,wH={onError:function(e){Bd=!0,bg=e}};function bH(e,t,n,r,i,o,s,a,l){Bd=!1,bg=null,SH.apply(wH,arguments)}function RH(e,t,n,r,i,o,s,a,l){if(bH.apply(this,arguments),Bd){if(Bd){var c=bg;Bd=!1,bg=null}else throw Error(fe(198));Rg||(Rg=!0,mS=c)}}function Gl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AT(e){if(Gl(e)!==e)throw Error(fe(188))}function EH(e){var t=e.alternate;if(!t){if(t=Gl(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return AT(i),e;if(o===r)return AT(i),t;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function eF(e){return e=EH(e),e!==null?tF(e):null}function tF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tF(e);if(t!==null)return t;e=e.sibling}return null}var nF=Oi.unstable_scheduleCallback,IT=Oi.unstable_cancelCallback,PH=Oi.unstable_shouldYield,TH=Oi.unstable_requestPaint,Bn=Oi.unstable_now,AH=Oi.unstable_getCurrentPriorityLevel,Mb=Oi.unstable_ImmediatePriority,rF=Oi.unstable_UserBlockingPriority,Eg=Oi.unstable_NormalPriority,IH=Oi.unstable_LowPriority,iF=Oi.unstable_IdlePriority,Vm=null,Xo=null;function xH(e){if(Xo&&typeof Xo.onCommitFiberRoot=="function")try{Xo.onCommitFiberRoot(Vm,e,void 0,(e.current.flags&128)===128)}catch{}}var Ro=Math.clz32?Math.clz32:OH,DH=Math.log,FH=Math.LN2;function OH(e){return e>>>=0,e===0?32:31-(DH(e)/FH|0)|0}var Kp=64,qp=4194304;function Ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ed(a):(o&=s,o!==0&&(r=Ed(o)))}else s=n&~i,s!==0?r=Ed(s):o!==0&&(r=Ed(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ro(t),i=1<<n,r|=e[n],t&=~i;return r}function MH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kH(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ro(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=MH(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function vS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oF(){var e=Kp;return Kp<<=1,!(Kp&4194240)&&(Kp=64),e}function xC(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ap(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ro(t),e[t]=n}function LH(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ro(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function kb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ro(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var zt=0;function sF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aF,Lb,lF,cF,uF,CS=!1,Yp=[],ha=null,pa=null,fa=null,Ch=new Map,yh=new Map,ia=[],NH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xT(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Ch.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function Ju(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=cp(t),t!==null&&Lb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _H(e,t,n,r,i){switch(t){case"focusin":return ha=Ju(ha,e,t,n,r,i),!0;case"dragenter":return pa=Ju(pa,e,t,n,r,i),!0;case"mouseover":return fa=Ju(fa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ch.set(o,Ju(Ch.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yh.set(o,Ju(yh.get(o)||null,e,t,n,r,i)),!0}return!1}function dF(e){var t=sl(e.target);if(t!==null){var n=Gl(t);if(n!==null){if(t=n.tag,t===13){if(t=Z0(n),t!==null){e.blockedOn=t,uF(e.priority,function(){lF(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $f(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pS=r,n.target.dispatchEvent(r),pS=null}else return t=cp(n),t!==null&&Lb(t),e.blockedOn=n,!1;t.shift()}return!0}function DT(e,t,n){$f(e)&&n.delete(t)}function BH(){CS=!1,ha!==null&&$f(ha)&&(ha=null),pa!==null&&$f(pa)&&(pa=null),fa!==null&&$f(fa)&&(fa=null),Ch.forEach(DT),yh.forEach(DT)}function Zu(e,t){e.blockedOn===t&&(e.blockedOn=null,CS||(CS=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,BH)))}function Sh(e){function t(i){return Zu(i,e)}if(0<Yp.length){Zu(Yp[0],e);for(var n=1;n<Yp.length;n++){var r=Yp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ha!==null&&Zu(ha,e),pa!==null&&Zu(pa,e),fa!==null&&Zu(fa,e),Ch.forEach(t),yh.forEach(t),n=0;n<ia.length;n++)r=ia[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)dF(n),n.blockedOn===null&&ia.shift()}var Wc=Ws.ReactCurrentBatchConfig,Tg=!0;function HH(e,t,n,r){var i=zt,o=Wc.transition;Wc.transition=null;try{zt=1,Nb(e,t,n,r)}finally{zt=i,Wc.transition=o}}function GH(e,t,n,r){var i=zt,o=Wc.transition;Wc.transition=null;try{zt=4,Nb(e,t,n,r)}finally{zt=i,Wc.transition=o}}function Nb(e,t,n,r){if(Tg){var i=yS(e,t,n,r);if(i===null)HC(e,t,r,Ag,n),xT(e,r);else if(_H(i,e,t,n,r))r.stopPropagation();else if(xT(e,r),t&4&&-1<NH.indexOf(e)){for(;i!==null;){var o=cp(i);if(o!==null&&aF(o),o=yS(e,t,n,r),o===null&&HC(e,t,r,Ag,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else HC(e,t,r,null,n)}}var Ag=null;function yS(e,t,n,r){if(Ag=null,e=Ob(r),e=sl(e),e!==null)if(t=Gl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ag=e,null}function hF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AH()){case Mb:return 1;case rF:return 4;case Eg:case IH:return 16;case iF:return 536870912;default:return 16}default:return 16}}var la=null,_b=null,jf=null;function pF(){if(jf)return jf;var e,t=_b,n=t.length,r,i="value"in la?la.value:la.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return jf=i.slice(e,1<r?1-r:void 0)}function Kf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qp(){return!0}function FT(){return!1}function _i(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qp:FT,this.isPropagationStopped=FT,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),t}var Iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bb=_i(Iu),lp=An({},Iu,{view:0,detail:0}),VH=_i(lp),DC,FC,ed,Wm=An({},lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ed&&(ed&&e.type==="mousemove"?(DC=e.screenX-ed.screenX,FC=e.screenY-ed.screenY):FC=DC=0,ed=e),DC)},movementY:function(e){return"movementY"in e?e.movementY:FC}}),OT=_i(Wm),WH=An({},Wm,{dataTransfer:0}),UH=_i(WH),zH=An({},lp,{relatedTarget:0}),OC=_i(zH),$H=An({},Iu,{animationName:0,elapsedTime:0,pseudoElement:0}),jH=_i($H),KH=An({},Iu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qH=_i(KH),YH=An({},Iu,{data:0}),MT=_i(YH),QH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JH[e])?!!t[e]:!1}function Hb(){return ZH}var eG=An({},lp,{key:function(e){if(e.key){var t=QH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hb,charCode:function(e){return e.type==="keypress"?Kf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tG=_i(eG),nG=An({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kT=_i(nG),rG=An({},lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hb}),iG=_i(rG),oG=An({},Iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),sG=_i(oG),aG=An({},Wm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lG=_i(aG),cG=[9,13,27,32],Gb=Ds&&"CompositionEvent"in window,Hd=null;Ds&&"documentMode"in document&&(Hd=document.documentMode);var uG=Ds&&"TextEvent"in window&&!Hd,fF=Ds&&(!Gb||Hd&&8<Hd&&11>=Hd),LT=" ",NT=!1;function gF(e,t){switch(e){case"keyup":return cG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wc=!1;function dG(e,t){switch(e){case"compositionend":return mF(t);case"keypress":return t.which!==32?null:(NT=!0,LT);case"textInput":return e=t.data,e===LT&&NT?null:e;default:return null}}function hG(e,t){if(wc)return e==="compositionend"||!Gb&&gF(e,t)?(e=pF(),jf=_b=la=null,wc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fF&&t.locale!=="ko"?null:t.data;default:return null}}var pG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pG[e.type]:t==="textarea"}function vF(e,t,n,r){q0(r),t=Ig(t,"onChange"),0<t.length&&(n=new Bb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gd=null,wh=null;function fG(e){IF(e,0)}function Um(e){var t=Ec(e);if(V0(t))return e}function gG(e,t){if(e==="change")return t}var CF=!1;if(Ds){var MC;if(Ds){var kC="oninput"in document;if(!kC){var BT=document.createElement("div");BT.setAttribute("oninput","return;"),kC=typeof BT.oninput=="function"}MC=kC}else MC=!1;CF=MC&&(!document.documentMode||9<document.documentMode)}function HT(){Gd&&(Gd.detachEvent("onpropertychange",yF),wh=Gd=null)}function yF(e){if(e.propertyName==="value"&&Um(wh)){var t=[];vF(t,wh,e,Ob(e)),J0(fG,t)}}function mG(e,t,n){e==="focusin"?(HT(),Gd=t,wh=n,Gd.attachEvent("onpropertychange",yF)):e==="focusout"&&HT()}function vG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Um(wh)}function CG(e,t){if(e==="click")return Um(t)}function yG(e,t){if(e==="input"||e==="change")return Um(t)}function SG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xo=typeof Object.is=="function"?Object.is:SG;function bh(e,t){if(xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tS.call(t,i)||!xo(e[i],t[i]))return!1}return!0}function GT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function VT(e,t){var n=GT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GT(n)}}function SF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wF(){for(var e=window,t=wg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wg(e.document)}return t}function Vb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wG(e){var t=wF(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SF(n.ownerDocument.documentElement,n)){if(r!==null&&Vb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=VT(n,o);var s=VT(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bG=Ds&&"documentMode"in document&&11>=document.documentMode,bc=null,SS=null,Vd=null,wS=!1;function WT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wS||bc==null||bc!==wg(r)||(r=bc,"selectionStart"in r&&Vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vd&&bh(Vd,r)||(Vd=r,r=Ig(SS,"onSelect"),0<r.length&&(t=new Bb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bc)))}function Xp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rc={animationend:Xp("Animation","AnimationEnd"),animationiteration:Xp("Animation","AnimationIteration"),animationstart:Xp("Animation","AnimationStart"),transitionend:Xp("Transition","TransitionEnd")},LC={},bF={};Ds&&(bF=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function zm(e){if(LC[e])return LC[e];if(!Rc[e])return e;var t=Rc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bF)return LC[e]=t[n];return e}var RF=zm("animationend"),EF=zm("animationiteration"),PF=zm("animationstart"),TF=zm("transitionend"),AF=new Map,UT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){AF.set(e,t),Hl(t,[e])}for(var NC=0;NC<UT.length;NC++){var _C=UT[NC],RG=_C.toLowerCase(),EG=_C[0].toUpperCase()+_C.slice(1);ka(RG,"on"+EG)}ka(RF,"onAnimationEnd");ka(EF,"onAnimationIteration");ka(PF,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(TF,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function zT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RH(r,t,void 0,e),e.currentTarget=null}function IF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;zT(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;zT(i,a,c),o=l}}}if(Rg)throw e=mS,Rg=!1,mS=null,e}function cn(e,t){var n=t[TS];n===void 0&&(n=t[TS]=new Set);var r=e+"__bubble";n.has(r)||(xF(t,e,2,!1),n.add(r))}function BC(e,t,n){var r=0;t&&(r|=4),xF(n,e,r,t)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function Rh(e){if(!e[Jp]){e[Jp]=!0,N0.forEach(function(n){n!=="selectionchange"&&(PG.has(n)||BC(n,!1,e),BC(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jp]||(t[Jp]=!0,BC("selectionchange",!1,t))}}function xF(e,t,n,r){switch(hF(t)){case 1:var i=HH;break;case 4:i=GH;break;default:i=Nb}n=i.bind(null,t,n,e),i=void 0,!gS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function HC(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=sl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}J0(function(){var c=o,u=Ob(n),d=[];e:{var h=AF.get(e);if(h!==void 0){var p=Bb,f=e;switch(e){case"keypress":if(Kf(n)===0)break e;case"keydown":case"keyup":p=tG;break;case"focusin":f="focus",p=OC;break;case"focusout":f="blur",p=OC;break;case"beforeblur":case"afterblur":p=OC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iG;break;case RF:case EF:case PF:p=jH;break;case TF:p=sG;break;case"scroll":p=VH;break;case"wheel":p=lG;break;case"copy":case"cut":case"paste":p=qH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kT}var C=(t&4)!==0,y=!C&&e==="scroll",g=C?h!==null?h+"Capture":null:h;C=[];for(var v=c,m;v!==null;){m=v;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=vh(v,g),w!=null&&C.push(Eh(v,w,m)))),y)break;v=v.return}0<C.length&&(h=new p(h,f,null,n,u),d.push({event:h,listeners:C}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==pS&&(f=n.relatedTarget||n.fromElement)&&(sl(f)||f[Fs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=c,f=f?sl(f):null,f!==null&&(y=Gl(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(C=OT,w="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(C=kT,w="onPointerLeave",g="onPointerEnter",v="pointer"),y=p==null?h:Ec(p),m=f==null?h:Ec(f),h=new C(w,v+"leave",p,n,u),h.target=y,h.relatedTarget=m,w=null,sl(u)===c&&(C=new C(g,v+"enter",f,n,u),C.target=m,C.relatedTarget=y,w=C),y=w,p&&f)t:{for(C=p,g=f,v=0,m=C;m;m=Yl(m))v++;for(m=0,w=g;w;w=Yl(w))m++;for(;0<v-m;)C=Yl(C),v--;for(;0<m-v;)g=Yl(g),m--;for(;v--;){if(C===g||g!==null&&C===g.alternate)break t;C=Yl(C),g=Yl(g)}C=null}else C=null;p!==null&&$T(d,h,p,C,!1),f!==null&&y!==null&&$T(d,y,f,C,!0)}}e:{if(h=c?Ec(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=gG;else if(_T(h))if(CF)E=yG;else{E=vG;var P=mG}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=CG);if(E&&(E=E(e,c))){vF(d,E,n,u);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&lS(h,"number",h.value)}switch(P=c?Ec(c):window,e){case"focusin":(_T(P)||P.contentEditable==="true")&&(bc=P,SS=c,Vd=null);break;case"focusout":Vd=SS=bc=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,WT(d,n,u);break;case"selectionchange":if(bG)break;case"keydown":case"keyup":WT(d,n,u)}var A;if(Gb)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else wc?gF(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(fF&&n.locale!=="ko"&&(wc||R!=="onCompositionStart"?R==="onCompositionEnd"&&wc&&(A=pF()):(la=u,_b="value"in la?la.value:la.textContent,wc=!0)),P=Ig(c,R),0<P.length&&(R=new MT(R,e,null,n,u),d.push({event:R,listeners:P}),A?R.data=A:(A=mF(n),A!==null&&(R.data=A)))),(A=uG?dG(e,n):hG(e,n))&&(c=Ig(c,"onBeforeInput"),0<c.length&&(u=new MT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}IF(d,t)})}function Eh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ig(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vh(e,n),o!=null&&r.unshift(Eh(e,o,i)),o=vh(e,t),o!=null&&r.push(Eh(e,o,i))),e=e.return}return r}function Yl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $T(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vh(n,o),l!=null&&s.unshift(Eh(n,l,a))):i||(l=vh(n,o),l!=null&&s.push(Eh(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var TG=/\r\n?/g,AG=/\u0000|\uFFFD/g;function jT(e){return(typeof e=="string"?e:""+e).replace(TG,`
`).replace(AG,"")}function Zp(e,t,n){if(t=jT(t),jT(e)!==t&&n)throw Error(fe(425))}function xg(){}var bS=null,RS=null;function ES(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PS=typeof setTimeout=="function"?setTimeout:void 0,IG=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,xG=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(e){return KT.resolve(null).then(e).catch(DG)}:PS;function DG(e){setTimeout(function(){throw e})}function GC(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Sh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sh(t)}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Uo="__reactFiber$"+xu,Ph="__reactProps$"+xu,Fs="__reactContainer$"+xu,TS="__reactEvents$"+xu,FG="__reactListeners$"+xu,OG="__reactHandles$"+xu;function sl(e){var t=e[Uo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[Uo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qT(e);e!==null;){if(n=e[Uo])return n;e=qT(e)}return t}e=n,n=e.parentNode}return null}function cp(e){return e=e[Uo]||e[Fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ec(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function $m(e){return e[Ph]||null}var AS=[],Pc=-1;function La(e){return{current:e}}function pn(e){0>Pc||(e.current=AS[Pc],AS[Pc]=null,Pc--)}function an(e,t){Pc++,AS[Pc]=e.current,e.current=t}var Aa={},Dr=La(Aa),oi=La(!1),Rl=Aa;function tu(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function si(e){return e=e.childContextTypes,e!=null}function Dg(){pn(oi),pn(Dr)}function YT(e,t,n){if(Dr.current!==Aa)throw Error(fe(168));an(Dr,t),an(oi,n)}function DF(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,mH(e)||"Unknown",i));return An({},n,r)}function Fg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,Rl=Dr.current,an(Dr,e),an(oi,oi.current),!0}function QT(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=DF(e,t,Rl),r.__reactInternalMemoizedMergedChildContext=e,pn(oi),pn(Dr),an(Dr,e)):pn(oi),an(oi,n)}var Cs=null,jm=!1,VC=!1;function FF(e){Cs===null?Cs=[e]:Cs.push(e)}function MG(e){jm=!0,FF(e)}function Na(){if(!VC&&Cs!==null){VC=!0;var e=0,t=zt;try{var n=Cs;for(zt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cs=null,jm=!1}catch(i){throw Cs!==null&&(Cs=Cs.slice(e+1)),nF(Mb,Na),i}finally{zt=t,VC=!1}}return null}var Tc=[],Ac=0,Og=null,Mg=0,ji=[],Ki=0,El=null,Ss=1,ws="";function Ka(e,t){Tc[Ac++]=Mg,Tc[Ac++]=Og,Og=e,Mg=t}function OF(e,t,n){ji[Ki++]=Ss,ji[Ki++]=ws,ji[Ki++]=El,El=e;var r=Ss;e=ws;var i=32-Ro(r)-1;r&=~(1<<i),n+=1;var o=32-Ro(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ss=1<<32-Ro(t)+i|n<<i|r,ws=o+e}else Ss=1<<o|n<<i|r,ws=e}function Wb(e){e.return!==null&&(Ka(e,1),OF(e,1,0))}function Ub(e){for(;e===Og;)Og=Tc[--Ac],Tc[Ac]=null,Mg=Tc[--Ac],Tc[Ac]=null;for(;e===El;)El=ji[--Ki],ji[Ki]=null,ws=ji[--Ki],ji[Ki]=null,Ss=ji[--Ki],ji[Ki]=null}var Ai=null,Ri=null,yn=!1,yo=null;function MF(e,t){var n=Yi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function XT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ai=e,Ri=ga(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ai=e,Ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=El!==null?{id:Ss,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ai=e,Ri=null,!0):!1;default:return!1}}function IS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xS(e){if(yn){var t=Ri;if(t){var n=t;if(!XT(e,t)){if(IS(e))throw Error(fe(418));t=ga(n.nextSibling);var r=Ai;t&&XT(e,t)?MF(r,n):(e.flags=e.flags&-4097|2,yn=!1,Ai=e)}}else{if(IS(e))throw Error(fe(418));e.flags=e.flags&-4097|2,yn=!1,Ai=e}}}function JT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ai=e}function ef(e){if(e!==Ai)return!1;if(!yn)return JT(e),yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ES(e.type,e.memoizedProps)),t&&(t=Ri)){if(IS(e))throw kF(),Error(fe(418));for(;t;)MF(e,t),t=ga(t.nextSibling)}if(JT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ri=ga(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ri=null}}else Ri=Ai?ga(e.stateNode.nextSibling):null;return!0}function kF(){for(var e=Ri;e;)e=ga(e.nextSibling)}function nu(){Ri=Ai=null,yn=!1}function zb(e){yo===null?yo=[e]:yo.push(e)}var kG=Ws.ReactCurrentBatchConfig;function td(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function tf(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ZT(e){var t=e._init;return t(e._payload)}function LF(e){function t(g,v){if(e){var m=g.deletions;m===null?(g.deletions=[v],g.flags|=16):m.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=ya(g,v),g.index=0,g.sibling=null,g}function o(g,v,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<v?(g.flags|=2,v):m):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,m,w){return v===null||v.tag!==6?(v=qC(m,g.mode,w),v.return=g,v):(v=i(v,m),v.return=g,v)}function l(g,v,m,w){var E=m.type;return E===Sc?u(g,v,m.props.children,w,m.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ea&&ZT(E)===v.type)?(w=i(v,m.props),w.ref=td(g,v,m),w.return=g,w):(w=eg(m.type,m.key,m.props,null,g.mode,w),w.ref=td(g,v,m),w.return=g,w)}function c(g,v,m,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=YC(m,g.mode,w),v.return=g,v):(v=i(v,m.children||[]),v.return=g,v)}function u(g,v,m,w,E){return v===null||v.tag!==7?(v=fl(m,g.mode,w,E),v.return=g,v):(v=i(v,m),v.return=g,v)}function d(g,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qC(""+v,g.mode,m),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zp:return m=eg(v.type,v.key,v.props,null,g.mode,m),m.ref=td(g,null,v),m.return=g,m;case yc:return v=YC(v,g.mode,m),v.return=g,v;case ea:var w=v._init;return d(g,w(v._payload),m)}if(Rd(v)||Qu(v))return v=fl(v,g.mode,m,null),v.return=g,v;tf(g,v)}return null}function h(g,v,m,w){var E=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(g,v,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zp:return m.key===E?l(g,v,m,w):null;case yc:return m.key===E?c(g,v,m,w):null;case ea:return E=m._init,h(g,v,E(m._payload),w)}if(Rd(m)||Qu(m))return E!==null?null:u(g,v,m,w,null);tf(g,m)}return null}function p(g,v,m,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(v,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zp:return g=g.get(w.key===null?m:w.key)||null,l(v,g,w,E);case yc:return g=g.get(w.key===null?m:w.key)||null,c(v,g,w,E);case ea:var P=w._init;return p(g,v,m,P(w._payload),E)}if(Rd(w)||Qu(w))return g=g.get(m)||null,u(v,g,w,E,null);tf(v,w)}return null}function f(g,v,m,w){for(var E=null,P=null,A=v,R=v=0,T=null;A!==null&&R<m.length;R++){A.index>R?(T=A,A=null):T=A.sibling;var b=h(g,A,m[R],w);if(b===null){A===null&&(A=T);break}e&&A&&b.alternate===null&&t(g,A),v=o(b,v,R),P===null?E=b:P.sibling=b,P=b,A=T}if(R===m.length)return n(g,A),yn&&Ka(g,R),E;if(A===null){for(;R<m.length;R++)A=d(g,m[R],w),A!==null&&(v=o(A,v,R),P===null?E=A:P.sibling=A,P=A);return yn&&Ka(g,R),E}for(A=r(g,A);R<m.length;R++)T=p(A,g,R,m[R],w),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?R:T.key),v=o(T,v,R),P===null?E=T:P.sibling=T,P=T);return e&&A.forEach(function(I){return t(g,I)}),yn&&Ka(g,R),E}function C(g,v,m,w){var E=Qu(m);if(typeof E!="function")throw Error(fe(150));if(m=E.call(m),m==null)throw Error(fe(151));for(var P=E=null,A=v,R=v=0,T=null,b=m.next();A!==null&&!b.done;R++,b=m.next()){A.index>R?(T=A,A=null):T=A.sibling;var I=h(g,A,b.value,w);if(I===null){A===null&&(A=T);break}e&&A&&I.alternate===null&&t(g,A),v=o(I,v,R),P===null?E=I:P.sibling=I,P=I,A=T}if(b.done)return n(g,A),yn&&Ka(g,R),E;if(A===null){for(;!b.done;R++,b=m.next())b=d(g,b.value,w),b!==null&&(v=o(b,v,R),P===null?E=b:P.sibling=b,P=b);return yn&&Ka(g,R),E}for(A=r(g,A);!b.done;R++,b=m.next())b=p(A,g,R,b.value,w),b!==null&&(e&&b.alternate!==null&&A.delete(b.key===null?R:b.key),v=o(b,v,R),P===null?E=b:P.sibling=b,P=b);return e&&A.forEach(function(D){return t(g,D)}),yn&&Ka(g,R),E}function y(g,v,m,w){if(typeof m=="object"&&m!==null&&m.type===Sc&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zp:e:{for(var E=m.key,P=v;P!==null;){if(P.key===E){if(E=m.type,E===Sc){if(P.tag===7){n(g,P.sibling),v=i(P,m.props.children),v.return=g,g=v;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ea&&ZT(E)===P.type){n(g,P.sibling),v=i(P,m.props),v.ref=td(g,P,m),v.return=g,g=v;break e}n(g,P);break}else t(g,P);P=P.sibling}m.type===Sc?(v=fl(m.props.children,g.mode,w,m.key),v.return=g,g=v):(w=eg(m.type,m.key,m.props,null,g.mode,w),w.ref=td(g,v,m),w.return=g,g=w)}return s(g);case yc:e:{for(P=m.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){n(g,v.sibling),v=i(v,m.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=YC(m,g.mode,w),v.return=g,g=v}return s(g);case ea:return P=m._init,y(g,v,P(m._payload),w)}if(Rd(m))return f(g,v,m,w);if(Qu(m))return C(g,v,m,w);tf(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,m),v.return=g,g=v):(n(g,v),v=qC(m,g.mode,w),v.return=g,g=v),s(g)):n(g,v)}return y}var ru=LF(!0),NF=LF(!1),kg=La(null),Lg=null,Ic=null,$b=null;function jb(){$b=Ic=Lg=null}function Kb(e){var t=kg.current;pn(kg),e._currentValue=t}function DS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uc(e,t){Lg=e,$b=Ic=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ni=!0),e.firstContext=null)}function io(e){var t=e._currentValue;if($b!==e)if(e={context:e,memoizedValue:t,next:null},Ic===null){if(Lg===null)throw Error(fe(308));Ic=e,Lg.dependencies={lanes:0,firstContext:e}}else Ic=Ic.next=e;return t}var al=null;function qb(e){al===null?al=[e]:al.push(e)}function _F(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qb(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ta=!1;function Yb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ma(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return i=r.interleaved,i===null?(t.next=t,qb(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function qf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kb(e,n)}}function eA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ng(e,t,n,r){var i=e.updateQueue;ta=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,C=a;switch(h=t,p=n,C.tag){case 1:if(f=C.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=C.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=An({},d,h);break e;case 2:ta=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Tl|=s,e.lanes=s,e.memoizedState=d}}function tA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var up={},Jo=La(up),Th=La(up),Ah=La(up);function ll(e){if(e===up)throw Error(fe(174));return e}function Qb(e,t){switch(an(Ah,t),an(Th,e),an(Jo,up),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uS(t,e)}pn(Jo),an(Jo,t)}function iu(){pn(Jo),pn(Th),pn(Ah)}function HF(e){ll(Ah.current);var t=ll(Jo.current),n=uS(t,e.type);t!==n&&(an(Th,e),an(Jo,n))}function Xb(e){Th.current===e&&(pn(Jo),pn(Th))}var Rn=La(0);function _g(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var WC=[];function Jb(){for(var e=0;e<WC.length;e++)WC[e]._workInProgressVersionPrimary=null;WC.length=0}var Yf=Ws.ReactCurrentDispatcher,UC=Ws.ReactCurrentBatchConfig,Pl=0,Tn=null,Jn=null,tr=null,Bg=!1,Wd=!1,Ih=0,LG=0;function wr(){throw Error(fe(321))}function Zb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xo(e[n],t[n]))return!1;return!0}function eR(e,t,n,r,i,o){if(Pl=o,Tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yf.current=e===null||e.memoizedState===null?HG:GG,e=n(r,i),Wd){o=0;do{if(Wd=!1,Ih=0,25<=o)throw Error(fe(301));o+=1,tr=Jn=null,t.updateQueue=null,Yf.current=VG,e=n(r,i)}while(Wd)}if(Yf.current=Hg,t=Jn!==null&&Jn.next!==null,Pl=0,tr=Jn=Tn=null,Bg=!1,t)throw Error(fe(300));return e}function tR(){var e=Ih!==0;return Ih=0,e}function Go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Tn.memoizedState=tr=e:tr=tr.next=e,tr}function oo(){if(Jn===null){var e=Tn.alternate;e=e!==null?e.memoizedState:null}else e=Jn.next;var t=tr===null?Tn.memoizedState:tr.next;if(t!==null)tr=t,Jn=e;else{if(e===null)throw Error(fe(310));Jn=e,e={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},tr===null?Tn.memoizedState=tr=e:tr=tr.next=e}return tr}function xh(e,t){return typeof t=="function"?t(e):t}function zC(e){var t=oo(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=Jn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Pl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Tn.lanes|=u,Tl|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,xo(r,t.memoizedState)||(ni=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Tn.lanes|=o,Tl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $C(e){var t=oo(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);xo(o,t.memoizedState)||(ni=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function GF(){}function VF(e,t){var n=Tn,r=oo(),i=t(),o=!xo(r.memoizedState,i);if(o&&(r.memoizedState=i,ni=!0),r=r.queue,nR(zF.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tr!==null&&tr.memoizedState.tag&1){if(n.flags|=2048,Dh(9,UF.bind(null,n,r,i,t),void 0,null),rr===null)throw Error(fe(349));Pl&30||WF(n,t,i)}return i}function WF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function UF(e,t,n,r){t.value=n,t.getSnapshot=r,$F(t)&&jF(e)}function zF(e,t,n){return n(function(){$F(t)&&jF(e)})}function $F(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xo(e,n)}catch{return!0}}function jF(e){var t=Os(e,1);t!==null&&Eo(t,e,1,-1)}function nA(e){var t=Go();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:e},t.queue=e,e=e.dispatch=BG.bind(null,Tn,e),[t.memoizedState,e]}function Dh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function KF(){return oo().memoizedState}function Qf(e,t,n,r){var i=Go();Tn.flags|=e,i.memoizedState=Dh(1|t,n,void 0,r===void 0?null:r)}function Km(e,t,n,r){var i=oo();r=r===void 0?null:r;var o=void 0;if(Jn!==null){var s=Jn.memoizedState;if(o=s.destroy,r!==null&&Zb(r,s.deps)){i.memoizedState=Dh(t,n,o,r);return}}Tn.flags|=e,i.memoizedState=Dh(1|t,n,o,r)}function rA(e,t){return Qf(8390656,8,e,t)}function nR(e,t){return Km(2048,8,e,t)}function qF(e,t){return Km(4,2,e,t)}function YF(e,t){return Km(4,4,e,t)}function QF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function XF(e,t,n){return n=n!=null?n.concat([e]):null,Km(4,4,QF.bind(null,t,e),n)}function rR(){}function JF(e,t){var n=oo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ZF(e,t){var n=oo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function eO(e,t,n){return Pl&21?(xo(n,t)||(n=oF(),Tn.lanes|=n,Tl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ni=!0),e.memoizedState=n)}function NG(e,t){var n=zt;zt=n!==0&&4>n?n:4,e(!0);var r=UC.transition;UC.transition={};try{e(!1),t()}finally{zt=n,UC.transition=r}}function tO(){return oo().memoizedState}function _G(e,t,n){var r=Ca(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nO(e))rO(t,n);else if(n=_F(e,t,n,r),n!==null){var i=Ur();Eo(n,e,r,i),iO(n,t,r)}}function BG(e,t,n){var r=Ca(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nO(e))rO(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,xo(a,s)){var l=t.interleaved;l===null?(i.next=i,qb(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_F(e,t,i,r),n!==null&&(i=Ur(),Eo(n,e,r,i),iO(n,t,r))}}function nO(e){var t=e.alternate;return e===Tn||t!==null&&t===Tn}function rO(e,t){Wd=Bg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kb(e,n)}}var Hg={readContext:io,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},HG={readContext:io,useCallback:function(e,t){return Go().memoizedState=[e,t===void 0?null:t],e},useContext:io,useEffect:rA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qf(4194308,4,QF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qf(4,2,e,t)},useMemo:function(e,t){var n=Go();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Go();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_G.bind(null,Tn,e),[r.memoizedState,e]},useRef:function(e){var t=Go();return e={current:e},t.memoizedState=e},useState:nA,useDebugValue:rR,useDeferredValue:function(e){return Go().memoizedState=e},useTransition:function(){var e=nA(!1),t=e[0];return e=NG.bind(null,e[1]),Go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Tn,i=Go();if(yn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),rr===null)throw Error(fe(349));Pl&30||WF(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,rA(zF.bind(null,r,o,e),[e]),r.flags|=2048,Dh(9,UF.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Go(),t=rr.identifierPrefix;if(yn){var n=ws,r=Ss;n=(r&~(1<<32-Ro(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ih++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=LG++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GG={readContext:io,useCallback:JF,useContext:io,useEffect:nR,useImperativeHandle:XF,useInsertionEffect:qF,useLayoutEffect:YF,useMemo:ZF,useReducer:zC,useRef:KF,useState:function(){return zC(xh)},useDebugValue:rR,useDeferredValue:function(e){var t=oo();return eO(t,Jn.memoizedState,e)},useTransition:function(){var e=zC(xh)[0],t=oo().memoizedState;return[e,t]},useMutableSource:GF,useSyncExternalStore:VF,useId:tO,unstable_isNewReconciler:!1},VG={readContext:io,useCallback:JF,useContext:io,useEffect:nR,useImperativeHandle:XF,useInsertionEffect:qF,useLayoutEffect:YF,useMemo:ZF,useReducer:$C,useRef:KF,useState:function(){return $C(xh)},useDebugValue:rR,useDeferredValue:function(e){var t=oo();return Jn===null?t.memoizedState=e:eO(t,Jn.memoizedState,e)},useTransition:function(){var e=$C(xh)[0],t=oo().memoizedState;return[e,t]},useMutableSource:GF,useSyncExternalStore:VF,useId:tO,unstable_isNewReconciler:!1};function go(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function FS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:An({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qm={isMounted:function(e){return(e=e._reactInternals)?Gl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ur(),i=Ca(e),o=Es(r,i);o.payload=t,n!=null&&(o.callback=n),t=ma(e,o,i),t!==null&&(Eo(t,e,i,r),qf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ur(),i=Ca(e),o=Es(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ma(e,o,i),t!==null&&(Eo(t,e,i,r),qf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ur(),r=Ca(e),i=Es(n,r);i.tag=2,t!=null&&(i.callback=t),t=ma(e,i,r),t!==null&&(Eo(t,e,r,n),qf(t,e,r))}};function iA(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!bh(n,r)||!bh(i,o):!0}function oO(e,t,n){var r=!1,i=Aa,o=t.contextType;return typeof o=="object"&&o!==null?o=io(o):(i=si(t)?Rl:Dr.current,r=t.contextTypes,o=(r=r!=null)?tu(e,i):Aa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function oA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qm.enqueueReplaceState(t,t.state,null)}function OS(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Yb(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=io(o):(o=si(t)?Rl:Dr.current,i.context=tu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(FS(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qm.enqueueReplaceState(i,i.state,null),Ng(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ou(e,t){try{var n="",r=t;do n+=gH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function jC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function MS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var WG=typeof WeakMap=="function"?WeakMap:Map;function sO(e,t,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vg||(Vg=!0,US=r),MS(e,t)},n}function aO(e,t,n){n=Es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){MS(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){MS(e,t),typeof r!="function"&&(va===null?va=new Set([this]):va.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function sA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new WG;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nV.bind(null,e,t,n),t.then(e,e))}function aA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Es(-1,1),t.tag=2,ma(n,t,1))),n.lanes|=1),e)}var UG=Ws.ReactCurrentOwner,ni=!1;function _r(e,t,n,r){t.child=e===null?NF(t,null,n,r):ru(t,e.child,n,r)}function cA(e,t,n,r,i){n=n.render;var o=t.ref;return Uc(t,i),r=eR(e,t,n,r,o,i),n=tR(),e!==null&&!ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ms(e,t,i)):(yn&&n&&Wb(t),t.flags|=1,_r(e,t,r,i),t.child)}function uA(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!dR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,lO(e,t,o,r,i)):(e=eg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(s,r)&&e.ref===t.ref)return Ms(e,t,i)}return t.flags|=1,e=ya(o,r),e.ref=t.ref,e.return=t,t.child=e}function lO(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(bh(o,r)&&e.ref===t.ref)if(ni=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ni=!0);else return t.lanes=e.lanes,Ms(e,t,i)}return kS(e,t,n,r,i)}function cO(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(Dc,Ci),Ci|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,an(Dc,Ci),Ci|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,an(Dc,Ci),Ci|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,an(Dc,Ci),Ci|=r;return _r(e,t,i,n),t.child}function uO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kS(e,t,n,r,i){var o=si(n)?Rl:Dr.current;return o=tu(t,o),Uc(t,i),n=eR(e,t,n,r,o,i),r=tR(),e!==null&&!ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ms(e,t,i)):(yn&&r&&Wb(t),t.flags|=1,_r(e,t,n,i),t.child)}function dA(e,t,n,r,i){if(si(n)){var o=!0;Fg(t)}else o=!1;if(Uc(t,i),t.stateNode===null)Xf(e,t),oO(t,n,r),OS(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=io(c):(c=si(n)?Rl:Dr.current,c=tu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&oA(t,s,r,c),ta=!1;var h=t.memoizedState;s.state=h,Ng(t,r,s,i),l=t.memoizedState,a!==r||h!==l||oi.current||ta?(typeof u=="function"&&(FS(t,n,u,r),l=t.memoizedState),(a=ta||iA(t,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,BF(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:go(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=io(l):(l=si(n)?Rl:Dr.current,l=tu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&oA(t,s,r,l),ta=!1,h=t.memoizedState,s.state=h,Ng(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||oi.current||ta?(typeof p=="function"&&(FS(t,n,p,r),f=t.memoizedState),(c=ta||iA(t,n,c,r,h,f,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,f,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,f,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return LS(e,t,n,r,o,i)}function LS(e,t,n,r,i,o){uO(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&QT(t,n,!1),Ms(e,t,o);r=t.stateNode,UG.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ru(t,e.child,null,o),t.child=ru(t,null,a,o)):_r(e,t,a,o),t.memoizedState=r.state,i&&QT(t,n,!0),t.child}function dO(e){var t=e.stateNode;t.pendingContext?YT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&YT(e,t.context,!1),Qb(e,t.containerInfo)}function hA(e,t,n,r,i){return nu(),zb(i),t.flags|=256,_r(e,t,n,r),t.child}var NS={dehydrated:null,treeContext:null,retryLane:0};function _S(e){return{baseLanes:e,cachePool:null,transitions:null}}function hO(e,t,n){var r=t.pendingProps,i=Rn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),an(Rn,i&1),e===null)return xS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xm(s,r,0,null),e=fl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_S(n),t.memoizedState=NS,e):iR(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zG(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ya(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ya(a,o):(o=fl(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?_S(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=NS,r}return o=e.child,e=o.sibling,r=ya(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iR(e,t){return t=Xm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nf(e,t,n,r){return r!==null&&zb(r),ru(t,e.child,null,n),e=iR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zG(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=jC(Error(fe(422))),nf(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Xm({mode:"visible",children:r.children},i,0,null),o=fl(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ru(t,e.child,null,s),t.child.memoizedState=_S(s),t.memoizedState=NS,o);if(!(t.mode&1))return nf(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=jC(o,r,void 0),nf(e,t,s,r)}if(a=(s&e.childLanes)!==0,ni||a){if(r=rr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),Eo(r,e,i,-1))}return uR(),r=jC(Error(fe(421))),nf(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rV.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ri=ga(i.nextSibling),Ai=t,yn=!0,yo=null,e!==null&&(ji[Ki++]=Ss,ji[Ki++]=ws,ji[Ki++]=El,Ss=e.id,ws=e.overflow,El=t),t=iR(t,r.children),t.flags|=4096,t)}function pA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),DS(e.return,t,n)}function KC(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pO(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_r(e,t,r.children,n),r=Rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pA(e,n,t);else if(e.tag===19)pA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(an(Rn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_g(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),KC(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_g(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}KC(t,!0,n,null,o);break;case"together":KC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ms(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=ya(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ya(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $G(e,t,n){switch(t.tag){case 3:dO(t),nu();break;case 5:HF(t);break;case 1:si(t.type)&&Fg(t);break;case 4:Qb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;an(kg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(an(Rn,Rn.current&1),t.flags|=128,null):n&t.child.childLanes?hO(e,t,n):(an(Rn,Rn.current&1),e=Ms(e,t,n),e!==null?e.sibling:null);an(Rn,Rn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(Rn,Rn.current),r)break;return null;case 22:case 23:return t.lanes=0,cO(e,t,n)}return Ms(e,t,n)}var fO,BS,gO,mO;fO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BS=function(){};gO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ll(Jo.current);var o=null;switch(n){case"input":i=sS(e,i),r=sS(e,r),o=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),o=[];break;case"textarea":i=cS(e,i),r=cS(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xg)}dS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&cn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};mO=function(e,t,n,r){n!==r&&(t.flags|=4)};function nd(e,t){if(!yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function br(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jG(e,t,n){var r=t.pendingProps;switch(Ub(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(t),null;case 1:return si(t.type)&&Dg(),br(t),null;case 3:return r=t.stateNode,iu(),pn(oi),pn(Dr),Jb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ef(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yo!==null&&(jS(yo),yo=null))),BS(e,t),br(t),null;case 5:Xb(t);var i=ll(Ah.current);if(n=t.type,e!==null&&t.stateNode!=null)gO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return br(t),null}if(e=ll(Jo.current),ef(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Uo]=t,r[Ph]=o,e=(t.mode&1)!==0,n){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(i=0;i<Pd.length;i++)cn(Pd[i],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":bT(r,o),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},cn("invalid",r);break;case"textarea":ET(r,o),cn("invalid",r)}dS(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zp(r.textContent,a,e),i=["children",""+a]):gh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&cn("scroll",r)}switch(n){case"input":$p(r),RT(r,o,!0);break;case"textarea":$p(r),PT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Uo]=t,e[Ph]=r,fO(e,t,!1,!1),t.stateNode=e;e:{switch(s=hS(n,r),n){case"dialog":cn("cancel",e),cn("close",e),i=r;break;case"iframe":case"object":case"embed":cn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pd.length;i++)cn(Pd[i],e);i=r;break;case"source":cn("error",e),i=r;break;case"img":case"image":case"link":cn("error",e),cn("load",e),i=r;break;case"details":cn("toggle",e),i=r;break;case"input":bT(e,r),i=sS(e,r),cn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),cn("invalid",e);break;case"textarea":ET(e,r),i=cS(e,r),cn("invalid",e);break;default:i=r}dS(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?K0(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$0(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mh(e,l):typeof l=="number"&&mh(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&cn("scroll",e):l!=null&&Ib(e,o,l,s))}switch(n){case"input":$p(e),RT(e,r,!1);break;case"textarea":$p(e),PT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ta(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Hc(e,!!r.multiple,o,!1):r.defaultValue!=null&&Hc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return br(t),null;case 6:if(e&&t.stateNode!=null)mO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=ll(Ah.current),ll(Jo.current),ef(t)){if(r=t.stateNode,n=t.memoizedProps,r[Uo]=t,(o=r.nodeValue!==n)&&(e=Ai,e!==null))switch(e.tag){case 3:Zp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zp(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Uo]=t,t.stateNode=r}return br(t),null;case 13:if(pn(Rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yn&&Ri!==null&&t.mode&1&&!(t.flags&128))kF(),nu(),t.flags|=98560,o=!1;else if(o=ef(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Uo]=t}else nu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;br(t),o=!1}else yo!==null&&(jS(yo),yo=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Rn.current&1?Zn===0&&(Zn=3):uR())),t.updateQueue!==null&&(t.flags|=4),br(t),null);case 4:return iu(),BS(e,t),e===null&&Rh(t.stateNode.containerInfo),br(t),null;case 10:return Kb(t.type._context),br(t),null;case 17:return si(t.type)&&Dg(),br(t),null;case 19:if(pn(Rn),o=t.memoizedState,o===null)return br(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)nd(o,!1);else{if(Zn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=_g(e),s!==null){for(t.flags|=128,nd(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return an(Rn,Rn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Bn()>su&&(t.flags|=128,r=!0,nd(o,!1),t.lanes=4194304)}else{if(!r)if(e=_g(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!yn)return br(t),null}else 2*Bn()-o.renderingStartTime>su&&n!==1073741824&&(t.flags|=128,r=!0,nd(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Bn(),t.sibling=null,n=Rn.current,an(Rn,r?n&1|2:n&1),t):(br(t),null);case 22:case 23:return cR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ci&1073741824&&(br(t),t.subtreeFlags&6&&(t.flags|=8192)):br(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function KG(e,t){switch(Ub(t),t.tag){case 1:return si(t.type)&&Dg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return iu(),pn(oi),pn(Dr),Jb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xb(t),null;case 13:if(pn(Rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));nu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pn(Rn),null;case 4:return iu(),null;case 10:return Kb(t.type._context),null;case 22:case 23:return cR(),null;case 24:return null;default:return null}}var rf=!1,Ar=!1,qG=typeof WeakSet=="function"?WeakSet:Set,De=null;function xc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fn(e,t,r)}else n.current=null}function HS(e,t,n){try{n()}catch(r){Fn(e,t,r)}}var fA=!1;function YG(e,t){if(bS=Tg,e=wF(),Vb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(RS={focusedElem:e,selectionRange:n},Tg=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var C=f.memoizedProps,y=f.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?C:go(t.type,C),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){Fn(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return f=fA,fA=!1,f}function Ud(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&HS(t,n,o)}i=i.next}while(i!==r)}}function Ym(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function GS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vO(e){var t=e.alternate;t!==null&&(e.alternate=null,vO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Uo],delete t[Ph],delete t[TS],delete t[FG],delete t[OG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CO(e){return e.tag===5||e.tag===3||e.tag===4}function gA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function VS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xg));else if(r!==4&&(e=e.child,e!==null))for(VS(e,t,n),e=e.sibling;e!==null;)VS(e,t,n),e=e.sibling}function WS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(WS(e,t,n),e=e.sibling;e!==null;)WS(e,t,n),e=e.sibling}var hr=null,mo=!1;function js(e,t,n){for(n=n.child;n!==null;)yO(e,t,n),n=n.sibling}function yO(e,t,n){if(Xo&&typeof Xo.onCommitFiberUnmount=="function")try{Xo.onCommitFiberUnmount(Vm,n)}catch{}switch(n.tag){case 5:Ar||xc(n,t);case 6:var r=hr,i=mo;hr=null,js(e,t,n),hr=r,mo=i,hr!==null&&(mo?(e=hr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):hr.removeChild(n.stateNode));break;case 18:hr!==null&&(mo?(e=hr,n=n.stateNode,e.nodeType===8?GC(e.parentNode,n):e.nodeType===1&&GC(e,n),Sh(e)):GC(hr,n.stateNode));break;case 4:r=hr,i=mo,hr=n.stateNode.containerInfo,mo=!0,js(e,t,n),hr=r,mo=i;break;case 0:case 11:case 14:case 15:if(!Ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&HS(n,t,s),i=i.next}while(i!==r)}js(e,t,n);break;case 1:if(!Ar&&(xc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fn(n,t,a)}js(e,t,n);break;case 21:js(e,t,n);break;case 22:n.mode&1?(Ar=(r=Ar)||n.memoizedState!==null,js(e,t,n),Ar=r):js(e,t,n);break;default:js(e,t,n)}}function mA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qG),t.forEach(function(r){var i=iV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ho(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:hr=a.stateNode,mo=!1;break e;case 3:hr=a.stateNode.containerInfo,mo=!0;break e;case 4:hr=a.stateNode.containerInfo,mo=!0;break e}a=a.return}if(hr===null)throw Error(fe(160));yO(o,s,i),hr=null,mo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SO(t,e),t=t.sibling}function SO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ho(t,e),No(e),r&4){try{Ud(3,e,e.return),Ym(3,e)}catch(C){Fn(e,e.return,C)}try{Ud(5,e,e.return)}catch(C){Fn(e,e.return,C)}}break;case 1:ho(t,e),No(e),r&512&&n!==null&&xc(n,n.return);break;case 5:if(ho(t,e),No(e),r&512&&n!==null&&xc(n,n.return),e.flags&32){var i=e.stateNode;try{mh(i,"")}catch(C){Fn(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&W0(i,o),hS(a,s);var c=hS(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?K0(i,d):u==="dangerouslySetInnerHTML"?$0(i,d):u==="children"?mh(i,d):Ib(i,u,d,c)}switch(a){case"input":aS(i,o);break;case"textarea":U0(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Hc(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Hc(i,!!o.multiple,o.defaultValue,!0):Hc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ph]=o}catch(C){Fn(e,e.return,C)}}break;case 6:if(ho(t,e),No(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){Fn(e,e.return,C)}}break;case 3:if(ho(t,e),No(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sh(t.containerInfo)}catch(C){Fn(e,e.return,C)}break;case 4:ho(t,e),No(e);break;case 13:ho(t,e),No(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(aR=Bn())),r&4&&mA(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ar=(c=Ar)||u,ho(t,e),Ar=c):ho(t,e),No(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(De=e,u=e.child;u!==null;){for(d=De=u;De!==null;){switch(h=De,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ud(4,h,h.return);break;case 1:xc(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(C){Fn(r,n,C)}}break;case 5:xc(h,h.return);break;case 22:if(h.memoizedState!==null){CA(d);continue}}p!==null?(p.return=h,De=p):CA(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=j0("display",s))}catch(C){Fn(e,e.return,C)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(C){Fn(e,e.return,C)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ho(t,e),No(e),r&4&&mA(e);break;case 21:break;default:ho(t,e),No(e)}}function No(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(CO(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var o=gA(e);WS(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=gA(e);VS(e,a,s);break;default:throw Error(fe(161))}}catch(l){Fn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QG(e,t,n){De=e,wO(e)}function wO(e,t,n){for(var r=(e.mode&1)!==0;De!==null;){var i=De,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rf;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ar;a=rf;var c=Ar;if(rf=s,(Ar=l)&&!c)for(De=i;De!==null;)s=De,l=s.child,s.tag===22&&s.memoizedState!==null?yA(i):l!==null?(l.return=s,De=l):yA(i);for(;o!==null;)De=o,wO(o),o=o.sibling;De=i,rf=a,Ar=c}vA(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,De=o):vA(e)}}function vA(e){for(;De!==null;){var t=De;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ar||Ym(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ar)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&tA(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tA(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Sh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Ar||t.flags&512&&GS(t)}catch(h){Fn(t,t.return,h)}}if(t===e){De=null;break}if(n=t.sibling,n!==null){n.return=t.return,De=n;break}De=t.return}}function CA(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var n=t.sibling;if(n!==null){n.return=t.return,De=n;break}De=t.return}}function yA(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ym(4,t)}catch(l){Fn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Fn(t,i,l)}}var o=t.return;try{GS(t)}catch(l){Fn(t,o,l)}break;case 5:var s=t.return;try{GS(t)}catch(l){Fn(t,s,l)}}}catch(l){Fn(t,t.return,l)}if(t===e){De=null;break}var a=t.sibling;if(a!==null){a.return=t.return,De=a;break}De=t.return}}var XG=Math.ceil,Gg=Ws.ReactCurrentDispatcher,oR=Ws.ReactCurrentOwner,Ji=Ws.ReactCurrentBatchConfig,kt=0,rr=null,Yn=null,mr=0,Ci=0,Dc=La(0),Zn=0,Fh=null,Tl=0,Qm=0,sR=0,zd=null,ei=null,aR=0,su=1/0,ms=null,Vg=!1,US=null,va=null,of=!1,ca=null,Wg=0,$d=0,zS=null,Jf=-1,Zf=0;function Ur(){return kt&6?Bn():Jf!==-1?Jf:Jf=Bn()}function Ca(e){return e.mode&1?kt&2&&mr!==0?mr&-mr:kG.transition!==null?(Zf===0&&(Zf=oF()),Zf):(e=zt,e!==0||(e=window.event,e=e===void 0?16:hF(e.type)),e):1}function Eo(e,t,n,r){if(50<$d)throw $d=0,zS=null,Error(fe(185));ap(e,n,r),(!(kt&2)||e!==rr)&&(e===rr&&(!(kt&2)&&(Qm|=n),Zn===4&&oa(e,mr)),ai(e,r),n===1&&kt===0&&!(t.mode&1)&&(su=Bn()+500,jm&&Na()))}function ai(e,t){var n=e.callbackNode;kH(e,t);var r=Pg(e,e===rr?mr:0);if(r===0)n!==null&&IT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&IT(n),t===1)e.tag===0?MG(SA.bind(null,e)):FF(SA.bind(null,e)),xG(function(){!(kt&6)&&Na()}),n=null;else{switch(sF(r)){case 1:n=Mb;break;case 4:n=rF;break;case 16:n=Eg;break;case 536870912:n=iF;break;default:n=Eg}n=xO(n,bO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bO(e,t){if(Jf=-1,Zf=0,kt&6)throw Error(fe(327));var n=e.callbackNode;if(zc()&&e.callbackNode!==n)return null;var r=Pg(e,e===rr?mr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ug(e,r);else{t=r;var i=kt;kt|=2;var o=EO();(rr!==e||mr!==t)&&(ms=null,su=Bn()+500,pl(e,t));do try{eV();break}catch(a){RO(e,a)}while(!0);jb(),Gg.current=o,kt=i,Yn!==null?t=0:(rr=null,mr=0,t=Zn)}if(t!==0){if(t===2&&(i=vS(e),i!==0&&(r=i,t=$S(e,i))),t===1)throw n=Fh,pl(e,0),oa(e,r),ai(e,Bn()),n;if(t===6)oa(e,r);else{if(i=e.current.alternate,!(r&30)&&!JG(i)&&(t=Ug(e,r),t===2&&(o=vS(e),o!==0&&(r=o,t=$S(e,o))),t===1))throw n=Fh,pl(e,0),oa(e,r),ai(e,Bn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:qa(e,ei,ms);break;case 3:if(oa(e,r),(r&130023424)===r&&(t=aR+500-Bn(),10<t)){if(Pg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=PS(qa.bind(null,e,ei,ms),t);break}qa(e,ei,ms);break;case 4:if(oa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ro(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XG(r/1960))-r,10<r){e.timeoutHandle=PS(qa.bind(null,e,ei,ms),r);break}qa(e,ei,ms);break;case 5:qa(e,ei,ms);break;default:throw Error(fe(329))}}}return ai(e,Bn()),e.callbackNode===n?bO.bind(null,e):null}function $S(e,t){var n=zd;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),e=Ug(e,t),e!==2&&(t=ei,ei=n,t!==null&&jS(t)),e}function jS(e){ei===null?ei=e:ei.push.apply(ei,e)}function JG(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xo(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t){for(t&=~sR,t&=~Qm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ro(t),r=1<<n;e[n]=-1,t&=~r}}function SA(e){if(kt&6)throw Error(fe(327));zc();var t=Pg(e,0);if(!(t&1))return ai(e,Bn()),null;var n=Ug(e,t);if(e.tag!==0&&n===2){var r=vS(e);r!==0&&(t=r,n=$S(e,r))}if(n===1)throw n=Fh,pl(e,0),oa(e,t),ai(e,Bn()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qa(e,ei,ms),ai(e,Bn()),null}function lR(e,t){var n=kt;kt|=1;try{return e(t)}finally{kt=n,kt===0&&(su=Bn()+500,jm&&Na())}}function Al(e){ca!==null&&ca.tag===0&&!(kt&6)&&zc();var t=kt;kt|=1;var n=Ji.transition,r=zt;try{if(Ji.transition=null,zt=1,e)return e()}finally{zt=r,Ji.transition=n,kt=t,!(kt&6)&&Na()}}function cR(){Ci=Dc.current,pn(Dc)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IG(n)),Yn!==null)for(n=Yn.return;n!==null;){var r=n;switch(Ub(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dg();break;case 3:iu(),pn(oi),pn(Dr),Jb();break;case 5:Xb(r);break;case 4:iu();break;case 13:pn(Rn);break;case 19:pn(Rn);break;case 10:Kb(r.type._context);break;case 22:case 23:cR()}n=n.return}if(rr=e,Yn=e=ya(e.current,null),mr=Ci=t,Zn=0,Fh=null,sR=Qm=Tl=0,ei=zd=null,al!==null){for(t=0;t<al.length;t++)if(n=al[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}al=null}return e}function RO(e,t){do{var n=Yn;try{if(jb(),Yf.current=Hg,Bg){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bg=!1}if(Pl=0,tr=Jn=Tn=null,Wd=!1,Ih=0,oR.current=null,n===null||n.return===null){Zn=1,Fh=t,Yn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=aA(s);if(p!==null){p.flags&=-257,lA(p,s,a,o,t),p.mode&1&&sA(o,c,t),t=p,l=c;var f=t.updateQueue;if(f===null){var C=new Set;C.add(l),t.updateQueue=C}else f.add(l);break e}else{if(!(t&1)){sA(o,c,t),uR();break e}l=Error(fe(426))}}else if(yn&&a.mode&1){var y=aA(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lA(y,s,a,o,t),zb(ou(l,a));break e}}o=l=ou(l,a),Zn!==4&&(Zn=2),zd===null?zd=[o]:zd.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=sO(o,l,t);eA(o,g);break e;case 1:a=l;var v=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(va===null||!va.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=aO(o,a,t);eA(o,w);break e}}o=o.return}while(o!==null)}TO(n)}catch(E){t=E,Yn===n&&n!==null&&(Yn=n=n.return);continue}break}while(!0)}function EO(){var e=Gg.current;return Gg.current=Hg,e===null?Hg:e}function uR(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),rr===null||!(Tl&268435455)&&!(Qm&268435455)||oa(rr,mr)}function Ug(e,t){var n=kt;kt|=2;var r=EO();(rr!==e||mr!==t)&&(ms=null,pl(e,t));do try{ZG();break}catch(i){RO(e,i)}while(!0);if(jb(),kt=n,Gg.current=r,Yn!==null)throw Error(fe(261));return rr=null,mr=0,Zn}function ZG(){for(;Yn!==null;)PO(Yn)}function eV(){for(;Yn!==null&&!PH();)PO(Yn)}function PO(e){var t=IO(e.alternate,e,Ci);e.memoizedProps=e.pendingProps,t===null?TO(e):Yn=t,oR.current=null}function TO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=KG(n,t),n!==null){n.flags&=32767,Yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zn=6,Yn=null;return}}else if(n=jG(n,t,Ci),n!==null){Yn=n;return}if(t=t.sibling,t!==null){Yn=t;return}Yn=t=e}while(t!==null);Zn===0&&(Zn=5)}function qa(e,t,n){var r=zt,i=Ji.transition;try{Ji.transition=null,zt=1,tV(e,t,n,r)}finally{Ji.transition=i,zt=r}return null}function tV(e,t,n,r){do zc();while(ca!==null);if(kt&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(LH(e,o),e===rr&&(Yn=rr=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||of||(of=!0,xO(Eg,function(){return zc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ji.transition,Ji.transition=null;var s=zt;zt=1;var a=kt;kt|=4,oR.current=null,YG(e,n),SO(n,e),wG(RS),Tg=!!bS,RS=bS=null,e.current=n,QG(n),TH(),kt=a,zt=s,Ji.transition=o}else e.current=n;if(of&&(of=!1,ca=e,Wg=i),o=e.pendingLanes,o===0&&(va=null),xH(n.stateNode),ai(e,Bn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vg)throw Vg=!1,e=US,US=null,e;return Wg&1&&e.tag!==0&&zc(),o=e.pendingLanes,o&1?e===zS?$d++:($d=0,zS=e):$d=0,Na(),null}function zc(){if(ca!==null){var e=sF(Wg),t=Ji.transition,n=zt;try{if(Ji.transition=null,zt=16>e?16:e,ca===null)var r=!1;else{if(e=ca,ca=null,Wg=0,kt&6)throw Error(fe(331));var i=kt;for(kt|=4,De=e.current;De!==null;){var o=De,s=o.child;if(De.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(De=c;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:Ud(8,u,o)}var d=u.child;if(d!==null)d.return=u,De=d;else for(;De!==null;){u=De;var h=u.sibling,p=u.return;if(vO(u),u===c){De=null;break}if(h!==null){h.return=p,De=h;break}De=p}}}var f=o.alternate;if(f!==null){var C=f.child;if(C!==null){f.child=null;do{var y=C.sibling;C.sibling=null,C=y}while(C!==null)}}De=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,De=s;else e:for(;De!==null;){if(o=De,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ud(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,De=g;break e}De=o.return}}var v=e.current;for(De=v;De!==null;){s=De;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,De=m;else e:for(s=v;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ym(9,a)}}catch(E){Fn(a,a.return,E)}if(a===s){De=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,De=w;break e}De=a.return}}if(kt=i,Na(),Xo&&typeof Xo.onPostCommitFiberRoot=="function")try{Xo.onPostCommitFiberRoot(Vm,e)}catch{}r=!0}return r}finally{zt=n,Ji.transition=t}}return!1}function wA(e,t,n){t=ou(n,t),t=sO(e,t,1),e=ma(e,t,1),t=Ur(),e!==null&&(ap(e,1,t),ai(e,t))}function Fn(e,t,n){if(e.tag===3)wA(e,e,n);else for(;t!==null;){if(t.tag===3){wA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))){e=ou(n,e),e=aO(t,e,1),t=ma(t,e,1),e=Ur(),t!==null&&(ap(t,1,e),ai(t,e));break}}t=t.return}}function nV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ur(),e.pingedLanes|=e.suspendedLanes&n,rr===e&&(mr&n)===n&&(Zn===4||Zn===3&&(mr&130023424)===mr&&500>Bn()-aR?pl(e,0):sR|=n),ai(e,t)}function AO(e,t){t===0&&(e.mode&1?(t=qp,qp<<=1,!(qp&130023424)&&(qp=4194304)):t=1);var n=Ur();e=Os(e,t),e!==null&&(ap(e,t,n),ai(e,n))}function rV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),AO(e,n)}function iV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),AO(e,n)}var IO;IO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)ni=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ni=!1,$G(e,t,n);ni=!!(e.flags&131072)}else ni=!1,yn&&t.flags&1048576&&OF(t,Mg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xf(e,t),e=t.pendingProps;var i=tu(t,Dr.current);Uc(t,n),i=eR(null,t,r,e,i,n);var o=tR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,si(r)?(o=!0,Fg(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yb(t),i.updater=qm,t.stateNode=i,i._reactInternals=t,OS(t,r,e,n),t=LS(null,t,r,!0,o,n)):(t.tag=0,yn&&o&&Wb(t),_r(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sV(r),e=go(r,e),i){case 0:t=kS(null,t,r,e,n);break e;case 1:t=dA(null,t,r,e,n);break e;case 11:t=cA(null,t,r,e,n);break e;case 14:t=uA(null,t,r,go(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),kS(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),dA(e,t,r,i,n);case 3:e:{if(dO(t),e===null)throw Error(fe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,BF(e,t),Ng(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ou(Error(fe(423)),t),t=hA(e,t,r,n,i);break e}else if(r!==i){i=ou(Error(fe(424)),t),t=hA(e,t,r,n,i);break e}else for(Ri=ga(t.stateNode.containerInfo.firstChild),Ai=t,yn=!0,yo=null,n=NF(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nu(),r===i){t=Ms(e,t,n);break e}_r(e,t,r,n)}t=t.child}return t;case 5:return HF(t),e===null&&xS(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,ES(r,i)?s=null:o!==null&&ES(r,o)&&(t.flags|=32),uO(e,t),_r(e,t,s,n),t.child;case 6:return e===null&&xS(t),null;case 13:return hO(e,t,n);case 4:return Qb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ru(t,null,r,n):_r(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),cA(e,t,r,i,n);case 7:return _r(e,t,t.pendingProps,n),t.child;case 8:return _r(e,t,t.pendingProps.children,n),t.child;case 12:return _r(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,an(kg,r._currentValue),r._currentValue=s,o!==null)if(xo(o.value,s)){if(o.children===i.children&&!oi.current){t=Ms(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Es(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),DS(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),DS(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}_r(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uc(t,n),i=io(i),r=r(i),t.flags|=1,_r(e,t,r,n),t.child;case 14:return r=t.type,i=go(r,t.pendingProps),i=go(r.type,i),uA(e,t,r,i,n);case 15:return lO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Xf(e,t),t.tag=1,si(r)?(e=!0,Fg(t)):e=!1,Uc(t,n),oO(t,r,i),OS(t,r,i,n),LS(null,t,r,!0,e,n);case 19:return pO(e,t,n);case 22:return cO(e,t,n)}throw Error(fe(156,t.tag))};function xO(e,t){return nF(e,t)}function oV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(e,t,n,r){return new oV(e,t,n,r)}function dR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sV(e){if(typeof e=="function")return dR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Db)return 11;if(e===Fb)return 14}return 2}function ya(e,t){var n=e.alternate;return n===null?(n=Yi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")dR(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sc:return fl(n.children,i,o,t);case xb:s=8,i|=8;break;case nS:return e=Yi(12,n,t,i|2),e.elementType=nS,e.lanes=o,e;case rS:return e=Yi(13,n,t,i),e.elementType=rS,e.lanes=o,e;case iS:return e=Yi(19,n,t,i),e.elementType=iS,e.lanes=o,e;case H0:return Xm(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _0:s=10;break e;case B0:s=9;break e;case Db:s=11;break e;case Fb:s=14;break e;case ea:s=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Yi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function fl(e,t,n,r){return e=Yi(7,e,r,t),e.lanes=n,e}function Xm(e,t,n,r){return e=Yi(22,e,r,t),e.elementType=H0,e.lanes=n,e.stateNode={isHidden:!1},e}function qC(e,t,n){return e=Yi(6,e,null,t),e.lanes=n,e}function YC(e,t,n){return t=Yi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xC(0),this.expirationTimes=xC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hR(e,t,n,r,i,o,s,a,l){return e=new aV(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Yi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yb(o),e}function lV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function DO(e){if(!e)return Aa;e=e._reactInternals;e:{if(Gl(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(si(n))return DF(e,n,t)}return t}function FO(e,t,n,r,i,o,s,a,l){return e=hR(n,r,!0,e,i,o,s,a,l),e.context=DO(null),n=e.current,r=Ur(),i=Ca(n),o=Es(r,i),o.callback=t??null,ma(n,o,i),e.current.lanes=i,ap(e,i,r),ai(e,r),e}function Jm(e,t,n,r){var i=t.current,o=Ur(),s=Ca(i);return n=DO(n),t.context===null?t.context=n:t.pendingContext=n,t=Es(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ma(i,t,s),e!==null&&(Eo(e,i,s,o),qf(e,i,s)),s}function zg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pR(e,t){bA(e,t),(e=e.alternate)&&bA(e,t)}function cV(){return null}var OO=typeof reportError=="function"?reportError:function(e){console.error(e)};function fR(e){this._internalRoot=e}Zm.prototype.render=fR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Jm(e,t,null,null)};Zm.prototype.unmount=fR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Al(function(){Jm(null,e,null,null)}),t[Fs]=null}};function Zm(e){this._internalRoot=e}Zm.prototype.unstable_scheduleHydration=function(e){if(e){var t=cF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ia.length&&t!==0&&t<ia[n].priority;n++);ia.splice(n,0,e),n===0&&dF(e)}};function gR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RA(){}function uV(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=zg(s);o.call(c)}}var s=FO(t,r,e,0,null,!1,!1,"",RA);return e._reactRootContainer=s,e[Fs]=s.current,Rh(e.nodeType===8?e.parentNode:e),Al(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=zg(l);a.call(c)}}var l=hR(e,0,!1,null,null,!1,!1,"",RA);return e._reactRootContainer=l,e[Fs]=l.current,Rh(e.nodeType===8?e.parentNode:e),Al(function(){Jm(t,l,n,r)}),l}function tv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=zg(s);a.call(l)}}Jm(t,s,e,i)}else s=uV(n,t,e,i,r);return zg(s)}aF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ed(t.pendingLanes);n!==0&&(kb(t,n|1),ai(t,Bn()),!(kt&6)&&(su=Bn()+500,Na()))}break;case 13:Al(function(){var r=Os(e,1);if(r!==null){var i=Ur();Eo(r,e,1,i)}}),pR(e,1)}};Lb=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var n=Ur();Eo(t,e,134217728,n)}pR(e,134217728)}};lF=function(e){if(e.tag===13){var t=Ca(e),n=Os(e,t);if(n!==null){var r=Ur();Eo(n,e,t,r)}pR(e,t)}};cF=function(){return zt};uF=function(e,t){var n=zt;try{return zt=e,t()}finally{zt=n}};fS=function(e,t,n){switch(t){case"input":if(aS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$m(r);if(!i)throw Error(fe(90));V0(r),aS(r,i)}}}break;case"textarea":U0(e,n);break;case"select":t=n.value,t!=null&&Hc(e,!!n.multiple,t,!1)}};Q0=lR;X0=Al;var dV={usingClientEntryPoint:!1,Events:[cp,Ec,$m,q0,Y0,lR]},rd={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hV={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eF(e),e===null?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||cV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Vm=sf.inject(hV),Xo=sf}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dV;Ni.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gR(t))throw Error(fe(200));return lV(e,t,null,n)};Ni.createRoot=function(e,t){if(!gR(e))throw Error(fe(299));var n=!1,r="",i=OO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hR(e,1,!1,null,null,n,!1,r,i),e[Fs]=t.current,Rh(e.nodeType===8?e.parentNode:e),new fR(t)};Ni.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=eF(t),e=e===null?null:e.stateNode,e};Ni.flushSync=function(e){return Al(e)};Ni.hydrate=function(e,t,n){if(!ev(t))throw Error(fe(200));return tv(null,e,t,!0,n)};Ni.hydrateRoot=function(e,t,n){if(!gR(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=OO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=FO(t,null,e,1,n??null,i,!1,o,s),e[Fs]=t.current,Rh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zm(t)};Ni.render=function(e,t,n){if(!ev(t))throw Error(fe(200));return tv(null,e,t,!1,n)};Ni.unmountComponentAtNode=function(e){if(!ev(e))throw Error(fe(40));return e._reactRootContainer?(Al(function(){tv(null,null,e,!1,function(){e._reactRootContainer=null,e[Fs]=null})}),!0):!1};Ni.unstable_batchedUpdates=lR;Ni.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ev(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return tv(e,t,n,!1,r)};Ni.version="18.3.1-next-f1338f8080-20240426";function MO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MO)}catch(e){console.error(e)}}MO(),M0.exports=Ni;var Vl=M0.exports;const Fc=op(Vl);var kO,EA=Vl;kO=EA.createRoot,EA.hydrateRoot;const Oh={black:"#000",white:"#fff"},Ql={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ec={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},id={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},pV={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ks(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const nv="$$material";function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(null,arguments)}function LO(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var fV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gV=LO(function(e){return fV.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),mV=!1;function vV(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function CV(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var yV=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!mV:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=vV(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Er="-ms-",$g="-moz-",Gt="-webkit-",NO="comm",mR="rule",vR="decl",SV="@import",_O="@keyframes",wV="@layer",bV=Math.abs,rv=String.fromCharCode,RV=Object.assign;function EV(e,t){return pr(e,0)^45?(((t<<2^pr(e,0))<<2^pr(e,1))<<2^pr(e,2))<<2^pr(e,3):0}function BO(e){return e.trim()}function PV(e,t){return(e=t.exec(e))?e[0]:e}function Vt(e,t,n){return e.replace(t,n)}function KS(e,t){return e.indexOf(t)}function pr(e,t){return e.charCodeAt(t)|0}function Mh(e,t,n){return e.slice(t,n)}function Vo(e){return e.length}function CR(e){return e.length}function af(e,t){return t.push(e),e}function TV(e,t){return e.map(t).join("")}var iv=1,au=1,HO=0,ui=0,qn=0,Du="";function ov(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:iv,column:au,length:s,return:""}}function od(e,t){return RV(ov("",null,null,"",null,null,0),e,{length:-e.length},t)}function AV(){return qn}function IV(){return qn=ui>0?pr(Du,--ui):0,au--,qn===10&&(au=1,iv--),qn}function Ii(){return qn=ui<HO?pr(Du,ui++):0,au++,qn===10&&(au=1,iv++),qn}function Zo(){return pr(Du,ui)}function tg(){return ui}function dp(e,t){return Mh(Du,e,t)}function kh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GO(e){return iv=au=1,HO=Vo(Du=e),ui=0,[]}function VO(e){return Du="",e}function ng(e){return BO(dp(ui-1,qS(e===91?e+2:e===40?e+1:e)))}function xV(e){for(;(qn=Zo())&&qn<33;)Ii();return kh(e)>2||kh(qn)>3?"":" "}function DV(e,t){for(;--t&&Ii()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return dp(e,tg()+(t<6&&Zo()==32&&Ii()==32))}function qS(e){for(;Ii();)switch(qn){case e:return ui;case 34:case 39:e!==34&&e!==39&&qS(qn);break;case 40:e===41&&qS(e);break;case 92:Ii();break}return ui}function FV(e,t){for(;Ii()&&e+qn!==57;)if(e+qn===84&&Zo()===47)break;return"/*"+dp(t,ui-1)+"*"+rv(e===47?e:Ii())}function OV(e){for(;!kh(Zo());)Ii();return dp(e,ui)}function MV(e){return VO(rg("",null,null,null,[""],e=GO(e),0,[0],e))}function rg(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,f=0,C=1,y=1,g=1,v=0,m="",w=i,E=o,P=r,A=m;y;)switch(f=v,v=Ii()){case 40:if(f!=108&&pr(A,d-1)==58){KS(A+=Vt(ng(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:A+=ng(v);break;case 9:case 10:case 13:case 32:A+=xV(f);break;case 92:A+=DV(tg()-1,7);continue;case 47:switch(Zo()){case 42:case 47:af(kV(FV(Ii(),tg()),t,n),l);break;default:A+="/"}break;case 123*C:a[c++]=Vo(A)*g;case 125*C:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(A=Vt(A,/\f/g,"")),p>0&&Vo(A)-d&&af(p>32?TA(A+";",r,n,d-1):TA(Vt(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(af(P=PA(A,t,n,c,u,i,a,m,w=[],E=[],d),o),v===123)if(u===0)rg(A,t,P,P,w,o,d,a,E);else switch(h===99&&pr(A,3)===110?100:h){case 100:case 108:case 109:case 115:rg(e,P,P,r&&af(PA(e,P,P,0,0,i,a,m,i,w=[],d),E),i,E,d,a,r?w:E);break;default:rg(A,P,P,P,[""],E,0,a,E)}}c=u=p=0,C=g=1,m=A="",d=s;break;case 58:d=1+Vo(A),p=f;default:if(C<1){if(v==123)--C;else if(v==125&&C++==0&&IV()==125)continue}switch(A+=rv(v),v*C){case 38:g=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Vo(A)-1)*g,g=1;break;case 64:Zo()===45&&(A+=ng(Ii())),h=Zo(),u=d=Vo(m=A+=OV(tg())),v++;break;case 45:f===45&&Vo(A)==2&&(C=0)}}return o}function PA(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=i===0?o:[""],p=CR(h),f=0,C=0,y=0;f<r;++f)for(var g=0,v=Mh(e,d+1,d=bV(C=s[f])),m=e;g<p;++g)(m=BO(C>0?h[g]+" "+v:Vt(v,/&\f/g,h[g])))&&(l[y++]=m);return ov(e,t,n,i===0?mR:a,l,c,u)}function kV(e,t,n){return ov(e,t,n,NO,rv(AV()),Mh(e,2,-2),0)}function TA(e,t,n,r){return ov(e,t,n,vR,Mh(e,0,r),Mh(e,r+1,-1),r)}function $c(e,t){for(var n="",r=CR(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function LV(e,t,n,r){switch(e.type){case wV:if(e.children.length)break;case SV:case vR:return e.return=e.return||e.value;case NO:return"";case _O:return e.return=e.value+"{"+$c(e.children,r)+"}";case mR:e.value=e.props.join(",")}return Vo(n=$c(e.children,r))?e.return=e.value+"{"+n+"}":""}function NV(e){var t=CR(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function _V(e){return function(t){t.root||(t=t.return)&&e(t)}}var BV=function(t,n,r){for(var i=0,o=0;i=o,o=Zo(),i===38&&o===12&&(n[r]=1),!kh(o);)Ii();return dp(t,ui)},HV=function(t,n){var r=-1,i=44;do switch(kh(i)){case 0:i===38&&Zo()===12&&(n[r]=1),t[r]+=BV(ui-1,n,r);break;case 2:t[r]+=ng(i);break;case 4:if(i===44){t[++r]=Zo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=rv(i)}while(i=Ii());return t},GV=function(t,n){return VO(HV(GO(t),n))},AA=new WeakMap,VV=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!AA.get(r))&&!i){AA.set(t,!0);for(var o=[],s=GV(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},WV=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function WO(e,t){switch(EV(e,t)){case 5103:return Gt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+e+$g+e+Er+e+e;case 6828:case 4268:return Gt+e+Er+e+e;case 6165:return Gt+e+Er+"flex-"+e+e;case 5187:return Gt+e+Vt(e,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+Er+"flex-$1$2")+e;case 5443:return Gt+e+Er+"flex-item-"+Vt(e,/flex-|-self/,"")+e;case 4675:return Gt+e+Er+"flex-line-pack"+Vt(e,/align-content|flex-|-self/,"")+e;case 5548:return Gt+e+Er+Vt(e,"shrink","negative")+e;case 5292:return Gt+e+Er+Vt(e,"basis","preferred-size")+e;case 6060:return Gt+"box-"+Vt(e,"-grow","")+Gt+e+Er+Vt(e,"grow","positive")+e;case 4554:return Gt+Vt(e,/([^-])(transform)/g,"$1"+Gt+"$2")+e;case 6187:return Vt(Vt(Vt(e,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),e,"")+e;case 5495:case 3959:return Vt(e,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Vt(Vt(e,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+Er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+e+e;case 4095:case 3583:case 4068:case 2532:return Vt(e,/(.+)-inline(.+)/,Gt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vo(e)-1-t>6)switch(pr(e,t+1)){case 109:if(pr(e,t+4)!==45)break;case 102:return Vt(e,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+$g+(pr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~KS(e,"stretch")?WO(Vt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(pr(e,t+1)!==115)break;case 6444:switch(pr(e,Vo(e)-3-(~KS(e,"!important")&&10))){case 107:return Vt(e,":",":"+Gt)+e;case 101:return Vt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+(pr(e,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+Er+"$2box$3")+e}break;case 5936:switch(pr(e,t+11)){case 114:return Gt+e+Er+Vt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Gt+e+Er+Vt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Gt+e+Er+Vt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Gt+e+Er+e+e}return e}var UV=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case vR:t.return=WO(t.value,t.length);break;case _O:return $c([od(t,{value:Vt(t.value,"@","@"+Gt)})],i);case mR:if(t.length)return TV(t.props,function(o){switch(PV(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $c([od(t,{props:[Vt(o,/:(read-\w+)/,":"+$g+"$1")]})],i);case"::placeholder":return $c([od(t,{props:[Vt(o,/:(plac\w+)/,":"+Gt+"input-$1")]}),od(t,{props:[Vt(o,/:(plac\w+)/,":"+$g+"$1")]}),od(t,{props:[Vt(o,/:(plac\w+)/,Er+"input-$1")]})],i)}return""})}},zV=[UV],$V=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var y=C.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=t.stylisPlugins||zV,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var y=C.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)o[y[g]]=!0;a.push(C)});var l,c=[VV,WV];{var u,d=[LV,_V(function(C){u.insert(C)})],h=NV(c.concat(i,d)),p=function(y){return $c(MV(y),h)};l=function(y,g,v,m){u=v,p(y?y+"{"+g.styles+"}":g.styles),m&&(f.inserted[g.name]=!0)}}var f={key:n,sheet:new yV({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(a),f},UO={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=typeof Symbol=="function"&&Symbol.for,yR=ar?Symbol.for("react.element"):60103,SR=ar?Symbol.for("react.portal"):60106,sv=ar?Symbol.for("react.fragment"):60107,av=ar?Symbol.for("react.strict_mode"):60108,lv=ar?Symbol.for("react.profiler"):60114,cv=ar?Symbol.for("react.provider"):60109,uv=ar?Symbol.for("react.context"):60110,wR=ar?Symbol.for("react.async_mode"):60111,dv=ar?Symbol.for("react.concurrent_mode"):60111,hv=ar?Symbol.for("react.forward_ref"):60112,pv=ar?Symbol.for("react.suspense"):60113,jV=ar?Symbol.for("react.suspense_list"):60120,fv=ar?Symbol.for("react.memo"):60115,gv=ar?Symbol.for("react.lazy"):60116,KV=ar?Symbol.for("react.block"):60121,qV=ar?Symbol.for("react.fundamental"):60117,YV=ar?Symbol.for("react.responder"):60118,QV=ar?Symbol.for("react.scope"):60119;function Bi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yR:switch(e=e.type,e){case wR:case dv:case sv:case lv:case av:case pv:return e;default:switch(e=e&&e.$$typeof,e){case uv:case hv:case gv:case fv:case cv:return e;default:return t}}case SR:return t}}}function zO(e){return Bi(e)===dv}$t.AsyncMode=wR;$t.ConcurrentMode=dv;$t.ContextConsumer=uv;$t.ContextProvider=cv;$t.Element=yR;$t.ForwardRef=hv;$t.Fragment=sv;$t.Lazy=gv;$t.Memo=fv;$t.Portal=SR;$t.Profiler=lv;$t.StrictMode=av;$t.Suspense=pv;$t.isAsyncMode=function(e){return zO(e)||Bi(e)===wR};$t.isConcurrentMode=zO;$t.isContextConsumer=function(e){return Bi(e)===uv};$t.isContextProvider=function(e){return Bi(e)===cv};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yR};$t.isForwardRef=function(e){return Bi(e)===hv};$t.isFragment=function(e){return Bi(e)===sv};$t.isLazy=function(e){return Bi(e)===gv};$t.isMemo=function(e){return Bi(e)===fv};$t.isPortal=function(e){return Bi(e)===SR};$t.isProfiler=function(e){return Bi(e)===lv};$t.isStrictMode=function(e){return Bi(e)===av};$t.isSuspense=function(e){return Bi(e)===pv};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sv||e===dv||e===lv||e===av||e===pv||e===jV||typeof e=="object"&&e!==null&&(e.$$typeof===gv||e.$$typeof===fv||e.$$typeof===cv||e.$$typeof===uv||e.$$typeof===hv||e.$$typeof===qV||e.$$typeof===YV||e.$$typeof===QV||e.$$typeof===KV)};$t.typeOf=Bi;UO.exports=$t;var XV=UO.exports,bR=XV,JV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$O={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RR={};RR[bR.ForwardRef]=eW;RR[bR.Memo]=$O;function IA(e){return bR.isMemo(e)?$O:RR[e.$$typeof]||JV}var tW=Object.defineProperty,nW=Object.getOwnPropertyNames,xA=Object.getOwnPropertySymbols,rW=Object.getOwnPropertyDescriptor,iW=Object.getPrototypeOf,DA=Object.prototype;function jO(e,t,n){if(typeof t!="string"){if(DA){var r=iW(t);r&&r!==DA&&jO(e,r,n)}var i=nW(t);xA&&(i=i.concat(xA(t)));for(var o=IA(e),s=IA(t),a=0;a<i.length;++a){var l=i[a];if(!ZV[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=rW(t,l);try{tW(e,l,c)}catch{}}}}return e}var oW=jO;const FA=op(oW);var sW=!0;function aW(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var KO=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||sW===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},qO=function(t,n,r){KO(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function lW(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var cW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uW=!1,dW=/[A-Z]|^ms/g,hW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YO=function(t){return t.charCodeAt(1)===45},OA=function(t){return t!=null&&typeof t!="boolean"},QC=LO(function(e){return YO(e)?e:e.replace(dW,"-$&").toLowerCase()}),MA=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(hW,function(r,i,o){return Wo={name:i,styles:o,next:Wo},i})}return cW[t]!==1&&!YO(t)&&typeof n=="number"&&n!==0?n+"px":n},pW="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Lh(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Wo={name:i.name,styles:i.styles,next:Wo},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Wo={name:s.name,styles:s.styles,next:Wo},s=s.next;var a=o.styles+";";return a}return fW(e,t,n)}case"function":{if(e!==void 0){var l=Wo,c=n(e);return Wo=l,Lh(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function fW(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lh(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":OA(a)&&(r+=QC(o)+":"+MA(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&uW)throw new Error(pW);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)OA(s[l])&&(r+=QC(o)+":"+MA(o,s[l])+";");else{var c=Lh(e,t,s);switch(o){case"animation":case"animationName":{r+=QC(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}}return r}var kA=/label:\s*([^\s;{]+)\s*(;|$)/g,Wo;function mv(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Wo=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Lh(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=Lh(n,t,e[a]),r){var l=o;i+=l[a]}kA.lastIndex=0;for(var c="",u;(u=kA.exec(i))!==null;)c+="-"+u[1];var d=lW(i)+c;return{name:d,styles:i,next:Wo}}var gW=function(t){return t()},QO=Sg.useInsertionEffect?Sg.useInsertionEffect:!1,mW=QO||gW,LA=QO||S.useLayoutEffect,XO=S.createContext(typeof HTMLElement<"u"?$V({key:"css"}):null);XO.Provider;var JO=function(t){return S.forwardRef(function(n,r){var i=S.useContext(XO);return t(n,i,r)})},ER=S.createContext({}),vW=JO(function(e,t){var n=e.styles,r=mv([n],void 0,S.useContext(ER)),i=S.useRef();return LA(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),LA(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&qO(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function PR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mv(t)}var hp=function(){var t=PR.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},CW=gV,yW=function(t){return t!=="theme"},NA=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?CW:yW},_A=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},SW=!1,wW=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return KO(n,r,i),mW(function(){return qO(n,r,i)}),null},bW=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=_A(t,n,r),l=a||NA(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var f=JO(function(C,y,g){var v=c&&C.as||i,m="",w=[],E=C;if(C.theme==null){E={};for(var P in C)E[P]=C[P];E.theme=S.useContext(ER)}typeof C.className=="string"?m=aW(y.registered,w,C.className):C.className!=null&&(m=C.className+" ");var A=mv(d.concat(w),y.registered,E);m+=y.key+"-"+A.name,s!==void 0&&(m+=" "+s);var R=c&&a===void 0?NA(v):l,T={};for(var b in C)c&&b==="as"||R(b)&&(T[b]=C[b]);return T.className=m,g&&(T.ref=g),S.createElement(S.Fragment,null,S.createElement(wW,{cache:y,serialized:A,isStringTag:typeof v=="string"}),S.createElement(v,T))});return f.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return s===void 0&&SW?"NO_COMPONENT_SELECTOR":"."+s}}),f.withComponent=function(C,y){return e(C,Ue({},n,y,{shouldForwardProp:_A(f,y,!0)})).apply(void 0,d)},f}},RW=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],YS=bW.bind();RW.forEach(function(e){YS[e]=YS(e)});var ZO={exports:{}},EW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PW=EW,TW=PW;function eM(){}function tM(){}tM.resetWarningCache=eM;var AW=function(){function e(r,i,o,s,a,l){if(l!==TW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tM,resetWarningCache:eM};return n.PropTypes=n,n};ZO.exports=AW();var pp=ZO.exports;function IW(e){return e==null||Object.keys(e).length===0}function xW(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(IW(i)?n:i):t;return x.jsx(vW,{styles:r})}/**
 * @mui/styled-engine v6.3.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nM(e,t){return YS(e,t)}function DW(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const BA=[];function HA(e){return BA[0]=e,mv(BA)}function zo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rM(e){if(S.isValidElement(e)||!zo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=rM(e[n])}),t}function ir(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return zo(e)&&zo(t)&&Object.keys(t).forEach(i=>{S.isValidElement(t[i])?r[i]=t[i]:zo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&zo(e[i])?r[i]=ir(e[i],t[i],n):n.clone?r[i]=zo(t[i])?rM(t[i]):t[i]:r[i]=t[i]}),r}const FW=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function OW(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=FW(t),s=Object.keys(o);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const f=s.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(f!==-1&&typeof t[s[f]]=="number"?t[s[f]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}function MW(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function kW(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function LW(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function NW(e){const t=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>t(e.breakpoints.up(...a),s),o.down=(...a)=>t(e.breakpoints.down(...a),s),o.between=(...a)=>t(e.breakpoints.between(...a),s),o.only=(...a)=>t(e.breakpoints.only(...a),s),o.not=(...a)=>{const l=t(e.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const _W={borderRadius:4};function jd(e,t){return t?ir(e,t,{clone:!1}):e}const vv={xs:0,sm:600,md:900,lg:1200,xl:1536},GA={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${vv[e]}px)`},BW={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:vv[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Do(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||GA;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||GA;return Object.keys(t).reduce((s,a)=>{if(kW(o.keys,a)){const l=LW(r.containerQueries?r:BW,a);l&&(s[l]=n(t[a],a))}else if(Object.keys(o.values||vv).includes(a)){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function iM(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function oM(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function HW(e,...t){const n=iM(e),r=[n,...t].reduce((i,o)=>ir(i,o),{});return oM(Object.keys(n),r)}function GW(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function XC({values:e,breakpoints:t,base:n}){const r=n||GW(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,l)=>(Array.isArray(e)?(s[a]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function ye(e){if(typeof e!="string")throw new Error(ks(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Cv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function jg(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Cv(e,n)||r,t&&(i=t(i,r,e)),i}function Wn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=Cv(l,r)||{};return Do(s,a,d=>{let h=jg(c,i,d);return d===h&&typeof d=="string"&&(h=jg(c,i,`${t}${d==="default"?"":ye(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[t],o}function VW(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const WW={m:"margin",p:"padding"},UW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},VA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zW=VW(e=>{if(e.length>2)if(VA[e])e=VA[e];else return[e];const[t,n]=e.split(""),r=WW[t],i=UW[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),TR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],AR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...TR,...AR];function fp(e,t,n,r){const i=Cv(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function yv(e){return fp(e,"spacing",8)}function Il(e,t){return typeof t=="string"||t==null?t:e(t)}function $W(e,t){return n=>e.reduce((r,i)=>(r[i]=Il(t,n),r),{})}function jW(e,t,n,r){if(!t.includes(n))return null;const i=zW(n),o=$W(i,r),s=e[n];return Do(e,s,o)}function sM(e,t){const n=yv(e.theme);return Object.keys(e).map(r=>jW(e,t,r,n)).reduce(jd,{})}function xn(e){return sM(e,TR)}xn.propTypes={};xn.filterProps=TR;function Dn(e){return sM(e,AR)}Dn.propTypes={};Dn.filterProps=AR;function aM(e=8,t=yv({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Sv(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?jd(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function qi(e){return typeof e!="number"?e:`${e}px solid`}function uo(e,t){return Wn({prop:e,themeKey:"borders",transform:t})}const KW=uo("border",qi),qW=uo("borderTop",qi),YW=uo("borderRight",qi),QW=uo("borderBottom",qi),XW=uo("borderLeft",qi),JW=uo("borderColor"),ZW=uo("borderTopColor"),eU=uo("borderRightColor"),tU=uo("borderBottomColor"),nU=uo("borderLeftColor"),rU=uo("outline",qi),iU=uo("outlineColor"),wv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=fp(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Il(t,r)});return Do(e,e.borderRadius,n)}return null};wv.propTypes={};wv.filterProps=["borderRadius"];Sv(KW,qW,YW,QW,XW,JW,ZW,eU,tU,nU,wv,rU,iU);const bv=e=>{if(e.gap!==void 0&&e.gap!==null){const t=fp(e.theme,"spacing",8),n=r=>({gap:Il(t,r)});return Do(e,e.gap,n)}return null};bv.propTypes={};bv.filterProps=["gap"];const Rv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=fp(e.theme,"spacing",8),n=r=>({columnGap:Il(t,r)});return Do(e,e.columnGap,n)}return null};Rv.propTypes={};Rv.filterProps=["columnGap"];const Ev=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=fp(e.theme,"spacing",8),n=r=>({rowGap:Il(t,r)});return Do(e,e.rowGap,n)}return null};Ev.propTypes={};Ev.filterProps=["rowGap"];const oU=Wn({prop:"gridColumn"}),sU=Wn({prop:"gridRow"}),aU=Wn({prop:"gridAutoFlow"}),lU=Wn({prop:"gridAutoColumns"}),cU=Wn({prop:"gridAutoRows"}),uU=Wn({prop:"gridTemplateColumns"}),dU=Wn({prop:"gridTemplateRows"}),hU=Wn({prop:"gridTemplateAreas"}),pU=Wn({prop:"gridArea"});Sv(bv,Rv,Ev,oU,sU,aU,lU,cU,uU,dU,hU,pU);function jc(e,t){return t==="grey"?t:e}const fU=Wn({prop:"color",themeKey:"palette",transform:jc}),gU=Wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jc}),mU=Wn({prop:"backgroundColor",themeKey:"palette",transform:jc});Sv(fU,gU,mU);function bi(e){return e<=1&&e!==0?`${e*100}%`:e}const vU=Wn({prop:"width",transform:bi}),IR=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,o,s,a,l;const r=((s=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||vv[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:bi(n)}};return Do(e,e.maxWidth,t)}return null};IR.filterProps=["maxWidth"];const CU=Wn({prop:"minWidth",transform:bi}),yU=Wn({prop:"height",transform:bi}),SU=Wn({prop:"maxHeight",transform:bi}),wU=Wn({prop:"minHeight",transform:bi});Wn({prop:"size",cssProperty:"width",transform:bi});Wn({prop:"size",cssProperty:"height",transform:bi});const bU=Wn({prop:"boxSizing"});Sv(vU,IR,CU,yU,SU,wU,bU);const gp={border:{themeKey:"borders",transform:qi},borderTop:{themeKey:"borders",transform:qi},borderRight:{themeKey:"borders",transform:qi},borderBottom:{themeKey:"borders",transform:qi},borderLeft:{themeKey:"borders",transform:qi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wv},color:{themeKey:"palette",transform:jc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jc},backgroundColor:{themeKey:"palette",transform:jc},p:{style:Dn},pt:{style:Dn},pr:{style:Dn},pb:{style:Dn},pl:{style:Dn},px:{style:Dn},py:{style:Dn},padding:{style:Dn},paddingTop:{style:Dn},paddingRight:{style:Dn},paddingBottom:{style:Dn},paddingLeft:{style:Dn},paddingX:{style:Dn},paddingY:{style:Dn},paddingInline:{style:Dn},paddingInlineStart:{style:Dn},paddingInlineEnd:{style:Dn},paddingBlock:{style:Dn},paddingBlockStart:{style:Dn},paddingBlockEnd:{style:Dn},m:{style:xn},mt:{style:xn},mr:{style:xn},mb:{style:xn},ml:{style:xn},mx:{style:xn},my:{style:xn},margin:{style:xn},marginTop:{style:xn},marginRight:{style:xn},marginBottom:{style:xn},marginLeft:{style:xn},marginX:{style:xn},marginY:{style:xn},marginInline:{style:xn},marginInlineStart:{style:xn},marginInlineEnd:{style:xn},marginBlock:{style:xn},marginBlockStart:{style:xn},marginBlockEnd:{style:xn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:bv},rowGap:{style:Ev},columnGap:{style:Rv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:bi},maxWidth:{style:IR},minWidth:{transform:bi},height:{transform:bi},maxHeight:{transform:bi},minHeight:{transform:bi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function RU(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function EU(e,t){return typeof e=="function"?e(t):e}function PU(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=Cv(i,c)||{};return d?d(s):Do(s,r,f=>{let C=jg(h,u,f);return f===C&&typeof f=="string"&&(C=jg(h,u,`${n}${f==="default"?"":ye(f)}`,f)),l===!1?C:{[l]:C}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??gp;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=iM(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const p=EU(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])d=jd(d,e(h,p,i,o));else{const f=Do({theme:i},p,C=>({[h]:C}));RU(f,p)?d[h]=t({sx:p,theme:i}):d=jd(d,f)}else d=jd(d,e(h,p,i,o))}),MW(i,oM(u,d))}return Array.isArray(r)?r.map(s):s(r)}return t}const xl=PU();xl.filterProps=["sx"];function TU(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Pv(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=e,a=OW(n),l=aM(i);let c=ir({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{..._W,...o}},s);return c=NW(c),c.applyStyles=TU,c=t.reduce((u,d)=>ir(u,d),c),c.unstable_sxConfig={...gp,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(d){return xl({sx:d,theme:this})},c}function AU(e){return Object.keys(e).length===0}function IU(e=null){const t=S.useContext(ER);return!t||AU(t)?e:t}const xU=Pv();function Tv(e=xU){return IU(e)}function DU({styles:e,themeId:t,defaultTheme:n={}}){const r=Tv(n),i=typeof e=="function"?e(t&&r[t]||r):e;return x.jsx(xW,{styles:i})}const FU=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??gp;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function xR(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=FU(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return zo(a)?{...r,...a}:r}:o={...r,...t},{...i,sx:o}}const WA=e=>e,OU=()=>{let e=WA;return{configure(t){e=t},generate(t){return e(t)},reset(){e=WA}}},lM=OU();function cM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cM(e))&&(r&&(r+=" "),r+=t);return r}function MU(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=nM("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(xl);return S.forwardRef(function(l,c){const u=Tv(n),{className:d,component:h="div",...p}=xR(l);return x.jsx(o,{as:h,ref:c,className:Me(d,i?i(r):r),theme:t&&u[t]||u,...p})})}const kU={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(e,t,n="Mui"){const r=kU[t];return r?`${n}-${r}`:`${lM.generate(e)}-${t}`}function it(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=at(e,i,n)}),r}function uM(e){const{variants:t,...n}=e,r={variants:t,style:HA(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=HA(i.style))}),r}const LU=Pv();function JC(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function NU(e){return e?(t,n)=>n[e]:null}function _U(e,t,n){e.theme=HU(e.theme)?n:e.theme[t]||e.theme}function ig(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>ig(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return dM(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function dM(e,t,n=[]){var i;let r;e:for(let o=0;o<t.length;o+=1){const s=t[o];if(typeof s.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!s.props(r))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&((i=e.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function hM(e={}){const{themeId:t,defaultTheme:n=LU,rootShouldForwardProp:r=JC,slotShouldForwardProp:i=JC}=e;function o(a){_U(a,t,n)}return(a,l={})=>{DW(a,E=>E.filter(P=>P!==xl));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=NU(VU(u)),...f}=l,C=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,y=h||!1;let g=JC;u==="Root"||u==="root"?g=r:u?g=i:GU(a)&&(g=void 0);const v=nM(a,{shouldForwardProp:g,label:BU(),...f}),m=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(A){return ig(A,E)};if(zo(E)){const P=uM(E);return P.variants?function(R){return ig(R,P)}:P.style}return E},w=(...E)=>{const P=[],A=E.map(m),R=[];if(P.push(o),c&&p&&R.push(function(D){var N,H;const O=(H=(N=D.theme.components)==null?void 0:N[c])==null?void 0:H.styleOverrides;if(!O)return null;const _={};for(const L in O)_[L]=ig(D,O[L]);return p(D,_)}),c&&!C&&R.push(function(D){var _,N;const F=D.theme,O=(N=(_=F==null?void 0:F.components)==null?void 0:_[c])==null?void 0:N.variants;return O?dM(D,O):null}),y||R.push(xl),Array.isArray(A[0])){const I=A.shift(),D=new Array(P.length).fill(""),F=new Array(R.length).fill("");let O;O=[...D,...I,...F],O.raw=[...D,...I.raw,...F],P.unshift(O)}const T=[...P,...A,...R],b=v(...T);return a.muiName&&(b.muiName=a.muiName),b};return v.withConfig&&(w.withConfig=v.withConfig),w}}function BU(e,t){return void 0}function HU(e){for(const t in e)return!1;return!0}function GU(e){return typeof e=="string"&&e.charCodeAt(0)>96}function VU(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const WU=hM();function Nh(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],s=t[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Nh(o[l],s[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function UU(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Nh(t.components[n].defaultProps,r)}function zU({props:e,name:t,defaultTheme:n,themeId:r}){let i=Tv(n);return r&&(i=i[r]||i),UU({theme:i,name:t,props:e})}const Ls=typeof window<"u"?S.useLayoutEffect:S.useEffect;function $U(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function DR(e,t=0,n=1){return $U(e,t,n)}function jU(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ia(e){if(e.type)return e;if(e.charAt(0)==="#")return Ia(jU(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ks(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ks(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const KU=e=>{const t=Ia(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Td=(e,t)=>{try{return KU(e)}catch{return e}};function Av(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function pM(e){e=Ia(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Av({type:a,values:l})}function QS(e){e=Ia(e);let t=e.type==="hsl"||e.type==="hsla"?Ia(pM(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qU(e,t){const n=QS(e),r=QS(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Zt(e,t){return e=Ia(e),t=DR(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Av(e)}function lf(e,t,n){try{return Zt(e,t)}catch{return e}}function Iv(e,t){if(e=Ia(e),t=DR(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Av(e)}function Qt(e,t,n){try{return Iv(e,t)}catch{return e}}function xv(e,t){if(e=Ia(e),t=DR(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Av(e)}function Xt(e,t,n){try{return xv(e,t)}catch{return e}}function YU(e,t=.15){return QS(e)>.5?Iv(e,t):xv(e,t)}function cf(e,t,n){try{return YU(e,t)}catch{return e}}function UA(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function fM(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function og(e,t){var n,r,i;return S.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Mi(e){return e&&e.ownerDocument||document}function Ns(e){return Mi(e).defaultView||window}function Kg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let zA=0;function QU(e){const[t,n]=S.useState(e),r=e||t;return S.useEffect(()=>{t==null&&(zA+=1,n(`mui-${zA}`))},[t]),r}const XU={...Sg},$A=XU.useId;function FR(e){if($A!==void 0){const t=$A();return e??t}return QU(e)}function Kc({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=S.useRef(e!==void 0),[o,s]=S.useState(t),a=i?e:o,l=S.useCallback(c=>{i||s(c)},[]);return[a,l]}function Yo(e){const t=S.useRef(e);return Ls(()=>{t.current=e}),S.useRef((...n)=>(0,t.current)(...n)).current}function Vn(...e){return S.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Kg(n,t)})},e)}const jA={};function gM(e,t){const n=S.useRef(jA);return n.current===jA&&(n.current=e(t)),n}const JU=[];function ZU(e){S.useEffect(e,JU)}class OR{constructor(){Yu(this,"currentId",null);Yu(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Yu(this,"disposeEffect",()=>this.clear)}static create(){return new OR}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function MR(){const e=gM(OR.create).current;return ZU(e.disposeEffect),e}function KA(e){try{return e.matches(":focus-visible")}catch{}return!1}function mM(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const ez=e=>{const t=S.useRef({});return S.useEffect(()=>{t.current=e}),t.current};function ct(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}function tz(e){return typeof e=="string"}function vM(e,t,n){return e===void 0||tz(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function CM(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function qA(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function yM(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const p=Me(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},C={...n,...i,...r};return p.length>0&&(C.className=p),Object.keys(f).length>0&&(C.style=f),{props:C,internalRef:void 0}}const s=CM({...i,...r}),a=qA(r),l=qA(i),c=t(s),u=Me(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function SM(e,t,n){return typeof e=="function"?e(t,n):e}function XS(e){var d;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:SM(n,r),{props:a,internalRef:l}=yM({...o,externalSlotProps:s}),c=Vn(l,s==null?void 0:s.ref,(d=e.additionalProps)==null?void 0:d.ref);return vM(t,{...a,ref:c},r)}function mp(e){var t;return parseInt(S.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const nz=S.createContext(),wM=()=>S.useContext(nz)??!1,rz=S.createContext(void 0);function iz(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Nh(i.defaultProps,r):!i.styleOverrides&&!i.variants?Nh(i,r):r}function oz({props:e,name:t}){const n=S.useContext(rz);return iz({props:e,name:t,theme:{components:n}})}const YA={theme:void 0};function sz(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(YA.theme=i.theme,o=uM(e(YA)),t=o,n=i.theme),o}}function az(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const QA=(e,t,n,r=[])=>{let i=e;t.forEach((o,s)=>{s===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},lz=(e,t,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):t([...o,a],l,s))})}r(e)},cz=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function ZC(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return lz(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=cz(a,l);Object.assign(i,{[u]:d}),QA(o,a,`var(${u})`,c),QA(s,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function uz(e,t={}){const{getSelector:n=y,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=ZC(l,t);let h=d;const p={},{[a]:f,...C}=o;if(Object.entries(C||{}).forEach(([m,w])=>{const{vars:E,css:P,varsWithDefaults:A}=ZC(w,t);h=ir(h,A),p[m]={css:P,vars:E}}),f){const{css:m,vars:w,varsWithDefaults:E}=ZC(f,t);h=ir(h,E),p[a]={css:m,vars:w}}function y(m,w){var P,A;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),m){if(E==="media")return e.defaultColorScheme===m?":root":{[`@media (prefers-color-scheme: ${((A=(P=o[m])==null?void 0:P.palette)==null?void 0:A.mode)||m})`]:{":root":w}};if(E)return e.defaultColorScheme===m?`:root, ${E.replace("%s",String(m))}`:E.replace("%s",String(m))}return":root"}return{vars:h,generateThemeVars:()=>{let m={...c};return Object.entries(p).forEach(([,{vars:w}])=>{m=ir(m,w)}),m},generateStyleSheets:()=>{var R,T;const m=[],w=e.defaultColorScheme||"light";function E(b,I){Object.keys(I).length&&m.push(typeof b=="string"?{[b]:{...I}}:b)}E(n(void 0,{...u}),u);const{[w]:P,...A}=p;if(P){const{css:b}=P,I=(T=(R=o[w])==null?void 0:R.palette)==null?void 0:T.mode,D=!r&&I?{colorScheme:I,...b}:{...b};E(n(w,{...D}),D)}return Object.entries(A).forEach(([b,{css:I}])=>{var O,_;const D=(_=(O=o[b])==null?void 0:O.palette)==null?void 0:_.mode,F=!r&&D?{colorScheme:D,...I}:{...I};E(n(b,{...F}),F)}),m}}}function dz(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const hz=Pv(),pz=WU("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function fz(e){return zU({props:e,name:"MuiStack",defaultTheme:hz})}function gz(e,t){const n=S.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(S.cloneElement(t,{key:`separator-${o}`})),r),[])}const mz=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],vz=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...Do({theme:t},XC({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=yv(t),i=Object.keys(t.breakpoints.values).reduce((l,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(l[c]=!0),l),{}),o=XC({values:e.direction,base:i}),s=XC({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const h=c>0?o[u[c-1]]:"column";o[l]=h}}),n=ir(n,Do({theme:t},s,(l,c)=>e.useFlexGap?{gap:Il(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${mz(c?o[c]:e.direction)}`]:Il(r,l)}}))}return n=HW(t.breakpoints,n),n};function Cz(e={}){const{createStyledComponent:t=pz,useThemeProps:n=fz,componentName:r="MuiStack"}=e,i=()=>ct({root:["root"]},l=>at(r,l),{}),o=t(vz);return S.forwardRef(function(l,c){const u=n(l),d=xR(u),{component:h="div",direction:p="column",spacing:f=0,divider:C,children:y,className:g,useFlexGap:v=!1,...m}=d,w={direction:p,spacing:f,useFlexGap:v},E=i();return x.jsx(o,{as:h,ownerState:w,ref:c,className:Me(E.root,g),...m,children:C?gz(y,C):y})})}function bM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Oh.white,default:Oh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const yz=bM();function RM(){return{text:{primary:Oh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Oh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const XA=RM();function JA(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=xv(e.main,i):t==="dark"&&(e.dark=Iv(e.main,o)))}function Sz(e="light"){return e==="dark"?{main:Jl[200],light:Jl[50],dark:Jl[400]}:{main:Jl[700],light:Jl[400],dark:Jl[800]}}function wz(e="light"){return e==="dark"?{main:Xl[200],light:Xl[50],dark:Xl[400]}:{main:Xl[500],light:Xl[300],dark:Xl[700]}}function bz(e="light"){return e==="dark"?{main:Ql[500],light:Ql[300],dark:Ql[700]}:{main:Ql[700],light:Ql[400],dark:Ql[800]}}function Rz(e="light"){return e==="dark"?{main:Zl[400],light:Zl[300],dark:Zl[700]}:{main:Zl[700],light:Zl[500],dark:Zl[900]}}function Ez(e="light"){return e==="dark"?{main:ec[400],light:ec[300],dark:ec[700]}:{main:ec[800],light:ec[500],dark:ec[900]}}function Pz(e="light"){return e==="dark"?{main:id[400],light:id[300],dark:id[700]}:{main:"#ed6c02",light:id[500],dark:id[900]}}function kR(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||Sz(t),s=e.secondary||wz(t),a=e.error||bz(t),l=e.info||Rz(t),c=e.success||Ez(t),u=e.warning||Pz(t);function d(C){return qU(C,XA.text.primary)>=n?XA.text.primary:yz.text.primary}const h=({color:C,name:y,mainShade:g=500,lightShade:v=300,darkShade:m=700})=>{if(C={...C},!C.main&&C[g]&&(C.main=C[g]),!C.hasOwnProperty("main"))throw new Error(ks(11,y?` (${y})`:"",g));if(typeof C.main!="string")throw new Error(ks(12,y?` (${y})`:"",JSON.stringify(C.main)));return JA(C,"light",v,r),JA(C,"dark",m,r),C.contrastText||(C.contrastText=d(C.main)),C};let p;return t==="light"?p=bM():t==="dark"&&(p=RM()),ir({common:{...Oh},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:pV,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function Tz(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function Az(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Iz(e){return Math.round(e*1e5)/1e5}const ZA={textTransform:"uppercase"},eI='"Roboto", "Helvetica", "Arial", sans-serif';function xz(e,t){const{fontFamily:n=eI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,h=r/14,p=u||(y=>`${y/l*h}rem`),f=(y,g,v,m,w)=>({fontFamily:n,fontWeight:y,fontSize:p(g),lineHeight:v,...n===eI?{letterSpacing:`${Iz(m/g)}em`}:{},...w,...c}),C={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(s,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(s,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(s,14,1.75,.4,ZA),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,ZA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ir({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...C},d,{clone:!1})}const Dz=.2,Fz=.14,Oz=.12;function mn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Dz})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Fz})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Oz})`].join(",")}const Mz=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],kz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},EM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function tI(e){return`${Math.round(e)}ms`}function Lz(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Nz(e){const t={...kz,...e.easing},n={...EM,...e.duration};return{getAutoHeightDuration:Lz,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:tI(s)} ${a} ${typeof l=="string"?l:tI(l)}`).join(",")},...e,easing:t,duration:n}}const _z={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Bz(e){return zo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function PM(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!Bz(a)||s.startsWith("unstable_")?delete r[s]:zo(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function JS(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=e;if(e.vars)throw new Error(ks(20));const u=kR(o),d=Pv(e);let h=ir(d,{mixins:Az(d.breakpoints,r),palette:u,shadows:Mz.slice(),typography:xz(u,a),transitions:Nz(s),zIndex:{..._z}});return h=ir(h,c),h=t.reduce((p,f)=>ir(p,f),h),h.unstable_sxConfig={...gp,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(f){return xl({sx:f,theme:this})},h.toRuntimeSource=PM,h}function ZS(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Hz=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=ZS(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function TM(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function AM(e){return e==="dark"?Hz:[]}function Gz(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=kR(t);return{palette:o,opacity:{...TM(o.mode),...n},overlays:r||AM(o.mode),...i}}function Vz(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Wz=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Uz=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return Wz(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",t)]:s,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function zz(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function te(e,t,n){!e[t]&&n&&(e[t]=n)}function Ad(e){return typeof e!="string"||!e.startsWith("hsl")?e:pM(e)}function ps(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Td(Ad(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function $z(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const _o=e=>{try{return e()}catch{}},jz=(e="mui")=>az(e);function ey(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Gz({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...s}=JS({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:o,opacity:{...TM(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||AM(i)},s}function Kz(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=Vz,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=e,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),h=jz(o),{[d]:p,light:f,dark:C,...y}=n,g={...y};let v=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(ks(21,d));const m=ey(g,v,c,d);f&&!g.light&&ey(g,f,void 0,"light"),C&&!g.dark&&ey(g,C,void 0,"dark");let w={defaultColorScheme:d,...m,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:g,font:{...Tz(m.typography),...m.font},spacing:$z(c.spacing)};Object.keys(w.colorSchemes).forEach(T=>{const b=w.colorSchemes[T].palette,I=D=>{const F=D.split("-"),O=F[1],_=F[2];return h(D,b[O][_])};if(b.mode==="light"&&(te(b.common,"background","#fff"),te(b.common,"onBackground","#000")),b.mode==="dark"&&(te(b.common,"background","#000"),te(b.common,"onBackground","#fff")),zz(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){te(b.Alert,"errorColor",Qt(b.error.light,.6)),te(b.Alert,"infoColor",Qt(b.info.light,.6)),te(b.Alert,"successColor",Qt(b.success.light,.6)),te(b.Alert,"warningColor",Qt(b.warning.light,.6)),te(b.Alert,"errorFilledBg",I("palette-error-main")),te(b.Alert,"infoFilledBg",I("palette-info-main")),te(b.Alert,"successFilledBg",I("palette-success-main")),te(b.Alert,"warningFilledBg",I("palette-warning-main")),te(b.Alert,"errorFilledColor",_o(()=>b.getContrastText(b.error.main))),te(b.Alert,"infoFilledColor",_o(()=>b.getContrastText(b.info.main))),te(b.Alert,"successFilledColor",_o(()=>b.getContrastText(b.success.main))),te(b.Alert,"warningFilledColor",_o(()=>b.getContrastText(b.warning.main))),te(b.Alert,"errorStandardBg",Xt(b.error.light,.9)),te(b.Alert,"infoStandardBg",Xt(b.info.light,.9)),te(b.Alert,"successStandardBg",Xt(b.success.light,.9)),te(b.Alert,"warningStandardBg",Xt(b.warning.light,.9)),te(b.Alert,"errorIconColor",I("palette-error-main")),te(b.Alert,"infoIconColor",I("palette-info-main")),te(b.Alert,"successIconColor",I("palette-success-main")),te(b.Alert,"warningIconColor",I("palette-warning-main")),te(b.AppBar,"defaultBg",I("palette-grey-100")),te(b.Avatar,"defaultBg",I("palette-grey-400")),te(b.Button,"inheritContainedBg",I("palette-grey-300")),te(b.Button,"inheritContainedHoverBg",I("palette-grey-A100")),te(b.Chip,"defaultBorder",I("palette-grey-400")),te(b.Chip,"defaultAvatarColor",I("palette-grey-700")),te(b.Chip,"defaultIconColor",I("palette-grey-700")),te(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),te(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),te(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),te(b.LinearProgress,"primaryBg",Xt(b.primary.main,.62)),te(b.LinearProgress,"secondaryBg",Xt(b.secondary.main,.62)),te(b.LinearProgress,"errorBg",Xt(b.error.main,.62)),te(b.LinearProgress,"infoBg",Xt(b.info.main,.62)),te(b.LinearProgress,"successBg",Xt(b.success.main,.62)),te(b.LinearProgress,"warningBg",Xt(b.warning.main,.62)),te(b.Skeleton,"bg",`rgba(${I("palette-text-primaryChannel")} / 0.11)`),te(b.Slider,"primaryTrack",Xt(b.primary.main,.62)),te(b.Slider,"secondaryTrack",Xt(b.secondary.main,.62)),te(b.Slider,"errorTrack",Xt(b.error.main,.62)),te(b.Slider,"infoTrack",Xt(b.info.main,.62)),te(b.Slider,"successTrack",Xt(b.success.main,.62)),te(b.Slider,"warningTrack",Xt(b.warning.main,.62));const D=cf(b.background.default,.8);te(b.SnackbarContent,"bg",D),te(b.SnackbarContent,"color",_o(()=>b.getContrastText(D))),te(b.SpeedDialAction,"fabHoverBg",cf(b.background.paper,.15)),te(b.StepConnector,"border",I("palette-grey-400")),te(b.StepContent,"border",I("palette-grey-400")),te(b.Switch,"defaultColor",I("palette-common-white")),te(b.Switch,"defaultDisabledColor",I("palette-grey-100")),te(b.Switch,"primaryDisabledColor",Xt(b.primary.main,.62)),te(b.Switch,"secondaryDisabledColor",Xt(b.secondary.main,.62)),te(b.Switch,"errorDisabledColor",Xt(b.error.main,.62)),te(b.Switch,"infoDisabledColor",Xt(b.info.main,.62)),te(b.Switch,"successDisabledColor",Xt(b.success.main,.62)),te(b.Switch,"warningDisabledColor",Xt(b.warning.main,.62)),te(b.TableCell,"border",Xt(lf(b.divider,1),.88)),te(b.Tooltip,"bg",lf(b.grey[700],.92))}if(b.mode==="dark"){te(b.Alert,"errorColor",Xt(b.error.light,.6)),te(b.Alert,"infoColor",Xt(b.info.light,.6)),te(b.Alert,"successColor",Xt(b.success.light,.6)),te(b.Alert,"warningColor",Xt(b.warning.light,.6)),te(b.Alert,"errorFilledBg",I("palette-error-dark")),te(b.Alert,"infoFilledBg",I("palette-info-dark")),te(b.Alert,"successFilledBg",I("palette-success-dark")),te(b.Alert,"warningFilledBg",I("palette-warning-dark")),te(b.Alert,"errorFilledColor",_o(()=>b.getContrastText(b.error.dark))),te(b.Alert,"infoFilledColor",_o(()=>b.getContrastText(b.info.dark))),te(b.Alert,"successFilledColor",_o(()=>b.getContrastText(b.success.dark))),te(b.Alert,"warningFilledColor",_o(()=>b.getContrastText(b.warning.dark))),te(b.Alert,"errorStandardBg",Qt(b.error.light,.9)),te(b.Alert,"infoStandardBg",Qt(b.info.light,.9)),te(b.Alert,"successStandardBg",Qt(b.success.light,.9)),te(b.Alert,"warningStandardBg",Qt(b.warning.light,.9)),te(b.Alert,"errorIconColor",I("palette-error-main")),te(b.Alert,"infoIconColor",I("palette-info-main")),te(b.Alert,"successIconColor",I("palette-success-main")),te(b.Alert,"warningIconColor",I("palette-warning-main")),te(b.AppBar,"defaultBg",I("palette-grey-900")),te(b.AppBar,"darkBg",I("palette-background-paper")),te(b.AppBar,"darkColor",I("palette-text-primary")),te(b.Avatar,"defaultBg",I("palette-grey-600")),te(b.Button,"inheritContainedBg",I("palette-grey-800")),te(b.Button,"inheritContainedHoverBg",I("palette-grey-700")),te(b.Chip,"defaultBorder",I("palette-grey-700")),te(b.Chip,"defaultAvatarColor",I("palette-grey-300")),te(b.Chip,"defaultIconColor",I("palette-grey-300")),te(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),te(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),te(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),te(b.LinearProgress,"primaryBg",Qt(b.primary.main,.5)),te(b.LinearProgress,"secondaryBg",Qt(b.secondary.main,.5)),te(b.LinearProgress,"errorBg",Qt(b.error.main,.5)),te(b.LinearProgress,"infoBg",Qt(b.info.main,.5)),te(b.LinearProgress,"successBg",Qt(b.success.main,.5)),te(b.LinearProgress,"warningBg",Qt(b.warning.main,.5)),te(b.Skeleton,"bg",`rgba(${I("palette-text-primaryChannel")} / 0.13)`),te(b.Slider,"primaryTrack",Qt(b.primary.main,.5)),te(b.Slider,"secondaryTrack",Qt(b.secondary.main,.5)),te(b.Slider,"errorTrack",Qt(b.error.main,.5)),te(b.Slider,"infoTrack",Qt(b.info.main,.5)),te(b.Slider,"successTrack",Qt(b.success.main,.5)),te(b.Slider,"warningTrack",Qt(b.warning.main,.5));const D=cf(b.background.default,.98);te(b.SnackbarContent,"bg",D),te(b.SnackbarContent,"color",_o(()=>b.getContrastText(D))),te(b.SpeedDialAction,"fabHoverBg",cf(b.background.paper,.15)),te(b.StepConnector,"border",I("palette-grey-600")),te(b.StepContent,"border",I("palette-grey-600")),te(b.Switch,"defaultColor",I("palette-grey-300")),te(b.Switch,"defaultDisabledColor",I("palette-grey-600")),te(b.Switch,"primaryDisabledColor",Qt(b.primary.main,.55)),te(b.Switch,"secondaryDisabledColor",Qt(b.secondary.main,.55)),te(b.Switch,"errorDisabledColor",Qt(b.error.main,.55)),te(b.Switch,"infoDisabledColor",Qt(b.info.main,.55)),te(b.Switch,"successDisabledColor",Qt(b.success.main,.55)),te(b.Switch,"warningDisabledColor",Qt(b.warning.main,.55)),te(b.TableCell,"border",Qt(lf(b.divider,1),.68)),te(b.Tooltip,"bg",lf(b.grey[700],.92))}ps(b.background,"default"),ps(b.background,"paper"),ps(b.common,"background"),ps(b.common,"onBackground"),ps(b,"divider"),Object.keys(b).forEach(D=>{const F=b[D];D!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&te(b[D],"mainChannel",Td(Ad(F.main))),F.light&&te(b[D],"lightChannel",Td(Ad(F.light))),F.dark&&te(b[D],"darkChannel",Td(Ad(F.dark))),F.contrastText&&te(b[D],"contrastTextChannel",Td(Ad(F.contrastText))),D==="text"&&(ps(b[D],"primary"),ps(b[D],"secondary")),D==="action"&&(F.active&&ps(b[D],"active"),F.selected&&ps(b[D],"selected")))})}),w=t.reduce((T,b)=>ir(T,b),w);const E={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:Uz(w)},{vars:P,generateThemeVars:A,generateStyleSheets:R}=uz(w,E);return w.vars=P,Object.entries(w.colorSchemes[w.defaultColorScheme]).forEach(([T,b])=>{w[T]=b}),w.generateThemeVars=A,w.generateStyleSheets=R,w.generateSpacing=function(){return aM(c.spacing,yv(this))},w.getColorSchemeSelector=dz(a),w.spacing=w.generateSpacing(),w.shouldSkipGeneratingVar=s,w.unstable_sxConfig={...gp,...c==null?void 0:c.unstable_sxConfig},w.unstable_sx=function(b){return xl({sx:b,theme:this})},w.toRuntimeSource=PM,w}function nI(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:kR({...n===!0?{}:n.palette,mode:t})})}function IM(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=e,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return JS(e,...t);let u=n;"palette"in e||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=JS({...e,palette:u},...t);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},nI(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},nI(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),Kz({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const LR=IM();function Dv(){const e=Tv(LR);return e[nv]||e}function xM(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Mo=e=>xM(e)&&e!=="classes",Se=hM({themeId:nv,defaultTheme:LR,rootShouldForwardProp:Mo});function qz(e){return x.jsx(DU,{...e,defaultTheme:LR,themeId:nv})}function Yz(e){return function(n){return x.jsx(qz,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Qz(){return xR}const st=sz;function ut(e){return oz(e)}function Xz(e){return at("MuiSvgIcon",e)}it("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Jz=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${ye(t)}`,`fontSize${ye(n)}`]};return ct(i,Xz,r)},Zz=Se("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ye(n.color)}`],t[`fontSize${ye(n.fontSize)}`]]}})(st(({theme:e})=>{var t,n,r,i,o,s,a,l,c,u,d,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,C])=>C&&C.main).map(([C])=>{var y,g;return{props:{color:C},style:{color:(g=(y=(e.vars??e).palette)==null?void 0:y[C])==null?void 0:g.main}}}),{props:{color:"action"},style:{color:(h=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(f=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:f.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),ew=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,f=S.isValidElement(i)&&i.type==="svg",C={...r,color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},y={};u||(y.viewBox=h);const g=Jz(C);return x.jsxs(Zz,{as:a,className:Me(g.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...y,...p,...f&&i.props,ownerState:C,children:[f?i.props.children:i,d?x.jsx("title",{children:d}):null]})});ew.muiName="SvgIcon";function Fu(e,t){function n(r,i){return x.jsx(ew,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=ew.muiName,S.memo(S.forwardRef(n))}function lu(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tw(e,t)}function Fv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tw(e,t)}const rI={disabled:!1},qg=$.createContext(null);var e2=function(t){return t.scrollTop},Id="unmounted",Ya="exited",Qa="entering",pc="entered",nw="exiting",ko=function(e){Fv(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Ya,o.appearStatus=Qa):l=pc:r.unmountOnExit||r.mountOnEnter?l=Id:l=Ya,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Id?{status:Ya}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Qa&&s!==pc&&(o=Qa):(s===Qa||s===pc)&&(o=nw)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Qa){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Fc.findDOMNode(this);s&&e2(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ya&&this.setState({status:Id})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Fc.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||rI.disabled){this.safeSetState({status:pc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Qa},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:pc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Fc.findDOMNode(this);if(!o||rI.disabled){this.safeSetState({status:Ya},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:nw},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ya},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Fc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Id)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=lu(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(qg.Provider,{value:null},typeof s=="function"?s(i,a):$.cloneElement($.Children.only(s),a))},t}($.Component);ko.contextType=qg;ko.propTypes={};function tc(){}ko.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:tc,onEntering:tc,onEntered:tc,onExit:tc,onExiting:tc,onExited:tc};ko.UNMOUNTED=Id;ko.EXITED=Ya;ko.ENTERING=Qa;ko.ENTERED=pc;ko.EXITING=nw;function t2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NR(e,t){var n=function(o){return t&&S.isValidElement(o)?t(o):o},r=Object.create(null);return e&&S.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function n2(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function cl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function r2(e,t){return NR(e.children,function(n){return S.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:cl(n,"appear",e),enter:cl(n,"enter",e),exit:cl(n,"exit",e)})})}function i2(e,t,n){var r=NR(e.children),i=n2(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(S.isValidElement(s)){var a=o in t,l=o in r,c=t[o],u=S.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=S.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:cl(s,"exit",e),enter:cl(s,"enter",e)}):!l&&a&&!u?i[o]=S.cloneElement(s,{in:!1}):l&&a&&S.isValidElement(c)&&(i[o]=S.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:cl(s,"exit",e),enter:cl(s,"enter",e)}))}}),i}var o2=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},s2={component:"div",childFactory:function(t){return t}},_R=function(e){Fv(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(t2(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?r2(i,a):i2(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=NR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Ue({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=lu(i,["component","childFactory"]),l=this.state.contextValue,c=o2(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?$.createElement(qg.Provider,{value:l},c):$.createElement(qg.Provider,{value:l},$.createElement(o,a,c))},t}($.Component);_R.propTypes={};_R.defaultProps=s2;const DM=e=>e.scrollTop;function cu(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function a2(e){return at("MuiCollapse",e)}it("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const l2=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ct(r,a2,n)},c2=Se("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(st(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),u2=Se("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),d2=Se("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),rw=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:f,onExited:C,onExiting:y,orientation:g="vertical",style:v,timeout:m=EM.standard,TransitionComponent:w=ko,...E}=r,P={...r,orientation:g,collapsedSize:a},A=l2(P),R=Dv(),T=MR(),b=S.useRef(null),I=S.useRef(),D=typeof a=="number"?`${a}px`:a,F=g==="horizontal",O=F?"width":"height",_=S.useRef(null),N=Vn(n,_),H=Q=>de=>{if(Q){const ue=_.current;de===void 0?Q(ue):Q(ue,de)}},L=()=>b.current?b.current[F?"clientWidth":"clientHeight"]:0,M=H((Q,de)=>{b.current&&F&&(b.current.style.position="absolute"),Q.style[O]=D,d&&d(Q,de)}),ne=H((Q,de)=>{const ue=L();b.current&&F&&(b.current.style.position="");const{duration:X,easing:se}=cu({style:v,timeout:m,easing:c},{mode:"enter"});if(m==="auto"){const me=R.transitions.getAutoHeightDuration(ue);Q.style.transitionDuration=`${me}ms`,I.current=me}else Q.style.transitionDuration=typeof X=="string"?X:`${X}ms`;Q.style[O]=`${ue}px`,Q.style.transitionTimingFunction=se,p&&p(Q,de)}),oe=H((Q,de)=>{Q.style[O]="auto",h&&h(Q,de)}),G=H(Q=>{Q.style[O]=`${L()}px`,f&&f(Q)}),re=H(C),z=H(Q=>{const de=L(),{duration:ue,easing:X}=cu({style:v,timeout:m,easing:c},{mode:"exit"});if(m==="auto"){const se=R.transitions.getAutoHeightDuration(de);Q.style.transitionDuration=`${se}ms`,I.current=se}else Q.style.transitionDuration=typeof ue=="string"?ue:`${ue}ms`;Q.style[O]=D,Q.style.transitionTimingFunction=X,y&&y(Q)}),K=Q=>{m==="auto"&&T.start(I.current||0,Q),i&&i(_.current,Q)};return x.jsx(w,{in:u,onEnter:M,onEntered:oe,onEntering:ne,onExit:G,onExited:re,onExiting:z,addEndListener:K,nodeRef:_,timeout:m==="auto"?null:m,...E,children:(Q,{ownerState:de,...ue})=>x.jsx(c2,{as:l,className:Me(A.root,s,{entered:A.entered,exited:!u&&D==="0px"&&A.hidden}[Q]),style:{[F?"minWidth":"minHeight"]:D,...v},ref:N,ownerState:{...P,state:Q},...ue,children:x.jsx(u2,{ownerState:{...P,state:Q},className:A.wrapper,ref:b,children:x.jsx(d2,{ownerState:{...P,state:Q},className:A.wrapperInner,children:o})})})})});rw&&(rw.muiSupportAuto=!0);function h2(e){return at("MuiPaper",e)}it("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const p2=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ct(o,h2,i)},f2=Se("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(st(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Wl=S.forwardRef(function(t,n){var p;const r=ut({props:t,name:"MuiPaper"}),i=Dv(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:s,elevation:a,square:l,variant:c},h=p2(d);return x.jsx(f2,{as:s,ownerState:d,className:Me(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Zt("#fff",ZS(a))}, ${Zt("#fff",ZS(a))})`}},...u.style}})}),FM=S.createContext({});function xr(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,...a}=t,{component:l,slots:c={[e]:void 0},slotProps:u={[e]:void 0},...d}=o,h=c[e]||r,p=SM(u[e],i),{props:{component:f,...C},internalRef:y}=yM({className:n,...a,externalForwardedProps:e==="root"?d:void 0,externalSlotProps:p}),g=Vn(y,p==null?void 0:p.ref,t.ref),v=e==="root"?f||l:f,m=vM(h,{...e==="root"&&!l&&!c[e]&&s,...e!=="root"&&!c[e]&&s,...C,...v&&{as:v},ref:g},i);return[h,m]}function g2(e){return at("MuiAccordion",e)}const uf=it("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),m2=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return ct({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},g2,t)},v2=Se(Wl,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${uf.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(st(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${uf.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${uf.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),st(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${uf.expanded}`]:{margin:"16px 0"}}}]}))),C2=Se("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),iI=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:h={},slotProps:p={},TransitionComponent:f,TransitionProps:C,...y}=r,[g,v]=Kc({controlled:c,default:s,name:"Accordion",state:"expanded"}),m=S.useCallback(N=>{v(!g),u&&u(N,!g)},[g,u,v]),[w,...E]=S.Children.toArray(i),P=S.useMemo(()=>({expanded:g,disabled:a,disableGutters:l,toggle:m}),[g,a,l,m]),A={...r,square:d,disabled:a,disableGutters:l,expanded:g},R=m2(A),T={transition:f,...h},b={transition:C,...p},I={slots:T,slotProps:b},[D,F]=xr("heading",{elementType:C2,externalForwardedProps:I,className:R.heading,ownerState:A}),[O,_]=xr("transition",{elementType:rw,externalForwardedProps:I,ownerState:A});return x.jsxs(v2,{className:Me(R.root,o),ref:n,ownerState:A,square:d,...y,children:[x.jsx(D,{...F,children:x.jsx(FM.Provider,{value:P,children:w})}),x.jsx(O,{in:g,timeout:"auto",..._,children:x.jsx("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:R.region,children:E})})]})});function y2(e){return at("MuiAccordionDetails",e)}it("MuiAccordionDetails",["root"]);const S2=e=>{const{classes:t}=e;return ct({root:["root"]},y2,t)},w2=Se("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(st(({theme:e})=>({padding:e.spacing(1,2,2)}))),oI=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiAccordionDetails"}),{className:i,...o}=r,s=r,a=S2(s);return x.jsx(w2,{className:Me(a.root,i),ref:n,ownerState:s,...o})});class Yg{constructor(){Yu(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Yg}static use(){const t=gM(Yg.create).current,[n,r]=S.useState(!1);return t.shouldMount=n,t.setShouldMount=r,S.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=R2(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function b2(){return Yg.use()}function R2(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function E2(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,d]=S.useState(!1),h=Me(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},f=Me(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),S.useEffect(()=>{if(!a&&l!=null){const C=setTimeout(l,c);return()=>{clearTimeout(C)}}},[l,a,c]),x.jsx("span",{className:h,style:p,children:x.jsx("span",{className:f})})}const zi=it("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),iw=550,P2=80,T2=hp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,A2=hp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,I2=hp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,x2=Se("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),D2=Se(E2,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${T2};
    animation-duration: ${iw}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${zi.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${zi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zi.childLeaving} {
    opacity: 0;
    animation-name: ${A2};
    animation-duration: ${iw}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${zi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${I2};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,F2=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=S.useState([]),u=S.useRef(0),d=S.useRef(null);S.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=S.useRef(!1),p=MR(),f=S.useRef(null),C=S.useRef(null),y=S.useCallback(w=>{const{pulsate:E,rippleX:P,rippleY:A,rippleSize:R,cb:T}=w;c(b=>[...b,x.jsx(D2,{classes:{ripple:Me(o.ripple,zi.ripple),rippleVisible:Me(o.rippleVisible,zi.rippleVisible),ripplePulsate:Me(o.ripplePulsate,zi.ripplePulsate),child:Me(o.child,zi.child),childLeaving:Me(o.childLeaving,zi.childLeaving),childPulsate:Me(o.childPulsate,zi.childPulsate)},timeout:iw,pulsate:E,rippleX:P,rippleY:A,rippleSize:R},u.current)]),u.current+=1,d.current=T},[o]),g=S.useCallback((w={},E={},P=()=>{})=>{const{pulsate:A=!1,center:R=i||E.pulsate,fakeElement:T=!1}=E;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const b=T?null:C.current,I=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,F,O;if(R||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)D=Math.round(I.width/2),F=Math.round(I.height/2);else{const{clientX:_,clientY:N}=w.touches&&w.touches.length>0?w.touches[0]:w;D=Math.round(_-I.left),F=Math.round(N-I.top)}if(R)O=Math.sqrt((2*I.width**2+I.height**2)/3),O%2===0&&(O+=1);else{const _=Math.max(Math.abs((b?b.clientWidth:0)-D),D)*2+2,N=Math.max(Math.abs((b?b.clientHeight:0)-F),F)*2+2;O=Math.sqrt(_**2+N**2)}w!=null&&w.touches?f.current===null&&(f.current=()=>{y({pulsate:A,rippleX:D,rippleY:F,rippleSize:O,cb:P})},p.start(P2,()=>{f.current&&(f.current(),f.current=null)})):y({pulsate:A,rippleX:D,rippleY:F,rippleSize:O,cb:P})},[i,y,p]),v=S.useCallback(()=>{g({},{pulsate:!0})},[g]),m=S.useCallback((w,E)=>{if(p.clear(),(w==null?void 0:w.type)==="touchend"&&f.current){f.current(),f.current=null,p.start(0,()=>{m(w,E)});return}f.current=null,c(P=>P.length>0?P.slice(1):P),d.current=E},[p]);return S.useImperativeHandle(n,()=>({pulsate:v,start:g,stop:m}),[v,g,m]),x.jsx(x2,{className:Me(zi.root,o.root,s),ref:C,...a,children:x.jsx(_R,{component:null,exit:!0,children:l})})});function O2(e){return at("MuiButtonBase",e)}const M2=it("MuiButtonBase",["root","disabled","focusVisible"]),k2=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=ct({root:["root",t&&"disabled",n&&"focusVisible"]},O2,i);return n&&r&&(s.root+=` ${r}`),s},L2=Se("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${M2.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_h=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:f="a",onBlur:C,onClick:y,onContextMenu:g,onDragLeave:v,onFocus:m,onFocusVisible:w,onKeyDown:E,onKeyUp:P,onMouseDown:A,onMouseLeave:R,onMouseUp:T,onTouchEnd:b,onTouchMove:I,onTouchStart:D,tabIndex:F=0,TouchRippleProps:O,touchRippleRef:_,type:N,...H}=r,L=S.useRef(null),M=b2(),ne=Vn(M.ref,_),[oe,G]=S.useState(!1);c&&oe&&G(!1),S.useImperativeHandle(i,()=>({focusVisible:()=>{G(!0),L.current.focus()}}),[]);const re=M.shouldMount&&!u&&!c;S.useEffect(()=>{oe&&h&&!u&&M.pulsate()},[u,h,oe,M]);const z=fs(M,"start",A,d),K=fs(M,"stop",g,d),Q=fs(M,"stop",v,d),de=fs(M,"stop",T,d),ue=fs(M,"stop",ge=>{oe&&ge.preventDefault(),R&&R(ge)},d),X=fs(M,"start",D,d),se=fs(M,"stop",b,d),me=fs(M,"stop",I,d),le=fs(M,"stop",ge=>{KA(ge.target)||G(!1),C&&C(ge)},!1),ve=Yo(ge=>{L.current||(L.current=ge.currentTarget),KA(ge.target)&&(G(!0),w&&w(ge)),m&&m(ge)}),Ce=()=>{const ge=L.current;return l&&l!=="button"&&!(ge.tagName==="A"&&ge.href)},he=Yo(ge=>{h&&!ge.repeat&&oe&&ge.key===" "&&M.stop(ge,()=>{M.start(ge)}),ge.target===ge.currentTarget&&Ce()&&ge.key===" "&&ge.preventDefault(),E&&E(ge),ge.target===ge.currentTarget&&Ce()&&ge.key==="Enter"&&!c&&(ge.preventDefault(),y&&y(ge))}),ae=Yo(ge=>{h&&ge.key===" "&&oe&&!ge.defaultPrevented&&M.stop(ge,()=>{M.pulsate(ge)}),P&&P(ge),y&&ge.target===ge.currentTarget&&Ce()&&ge.key===" "&&!ge.defaultPrevented&&y(ge)});let Xe=l;Xe==="button"&&(H.href||H.to)&&(Xe=f);const Ae={};Xe==="button"?(Ae.type=N===void 0?"button":N,Ae.disabled=c):(!H.href&&!H.to&&(Ae.role="button"),c&&(Ae["aria-disabled"]=c));const Ye=Vn(n,L),Le={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:F,focusVisible:oe},$e=k2(Le);return x.jsxs(L2,{as:Xe,className:Me($e.root,a),ownerState:Le,onBlur:le,onClick:y,onContextMenu:K,onFocus:ve,onKeyDown:he,onKeyUp:ae,onMouseDown:z,onMouseLeave:ue,onMouseUp:de,onDragLeave:Q,onTouchEnd:se,onTouchMove:me,onTouchStart:X,ref:Ye,tabIndex:c?-1:F,type:N,...Ae,...H,children:[s,re?x.jsx(F2,{ref:ne,center:o,...O}):null]})});function fs(e,t,n,r=!1){return Yo(i=>(n&&n(i),r||e[t](i),!0))}function N2(e){return at("MuiAccordionSummary",e)}const Oc=it("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),_2=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return ct({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},N2,t)},B2=Se(_h,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(st(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${Oc.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Oc.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Oc.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${Oc.expanded}`]:{minHeight:64}}}]}})),H2=Se("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(st(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Oc.expanded}`]:{margin:"20px 0"}}}]}))),G2=Se("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(st(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Oc.expanded}`]:{transform:"rotate(180deg)"}}))),sI=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l,...c}=r,{disabled:u=!1,disableGutters:d,expanded:h,toggle:p}=S.useContext(FM),f=g=>{p&&p(g),l&&l(g)},C={...r,expanded:h,disabled:u,disableGutters:d},y=_2(C);return x.jsxs(B2,{focusRipple:!1,disableRipple:!0,disabled:u,"aria-expanded":h,className:Me(y.root,o),focusVisibleClassName:Me(y.focusVisible,a),onClick:f,ref:n,ownerState:C,...c,children:[x.jsx(H2,{className:y.content,ownerState:C,children:i}),s&&x.jsx(G2,{className:y.expandIconWrapper,ownerState:C,children:s})]})});function V2(e){return typeof e.main=="string"}function W2(e,t=[]){if(!V2(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function ri(e=[]){return([,t])=>t&&W2(t,e)}function U2(e){return at("MuiIconButton",e)}const z2=it("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),$2=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${ye(r)}`,i&&`edge${ye(i)}`,`size${ye(o)}`]};return ct(s,U2,t)},j2=Se(_h,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ye(n.color)}`],n.edge&&t[`edge${ye(n.edge)}`],t[`size${ye(n.size)}`]]}})(st(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),st(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(ri()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(ri()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${z2.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Mc=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",...d}=r,h={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,size:u},p=$2(h);return x.jsx(j2,{className:Me(p.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,...d,ownerState:h,children:o})}),K2=Fu(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function q2(e){return at("MuiTypography",e)}it("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Y2={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Q2=Qz(),X2=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${ye(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ct(a,q2,s)},J2=Se("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ye(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(st(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(ri()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ye(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),aI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$i=S.forwardRef(function(t,n){const{color:r,...i}=ut({props:t,name:"MuiTypography"}),o=!Y2[r],s=Q2({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:f=aI,...C}=s,y={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:f},g=c||(h?"p":f[p]||aI[p])||"span",v=X2(y);return x.jsx(J2,{as:g,ref:n,className:Me(v.root,l),...C,ownerState:y,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...C.style}})});function Z2(e){return at("MuiAppBar",e)}it("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const e$=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${ye(t)}`,`position${ye(n)}`]};return ct(i,Z2,r)},lI=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,t$=Se(Wl,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ye(n.position)}`],t[`color${ye(n.color)}`]]}})(st(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(ri(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?lI(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?lI(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),n$=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed",...l}=r,c={...r,color:o,position:a,enableColorOnDark:s},u=e$(c);return x.jsx(t$,{square:!0,component:"header",ownerState:c,elevation:4,className:Me(u.root,i,a==="fixed"&&"mui-fixed"),ref:n,...l})});function cI(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function r$(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=cI(u));const d=u?a.filter(h=>{let p=(o||c)(h);return n&&(p=p.toLowerCase()),t&&(p=cI(p)),i==="start"?p.startsWith(u):p.includes(u)}):a;return typeof r=="number"?d.slice(0,r):d}}const i$=r$(),uI=5,o$=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},s$=[];function a$(e){const{unstable_isActiveElementInListbox:t=o$,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=e.multiple?s$:null,disableClearable:d=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:f=!1,disableListWrap:C=!1,filterOptions:y=i$,filterSelectedOptions:g=!1,freeSolo:v=!1,getOptionDisabled:m,getOptionKey:w,getOptionLabel:E=ie=>ie.label??ie,groupBy:P,handleHomeEndKeys:A=!e.freeSolo,id:R,includeInputInList:T=!1,inputValue:b,isOptionEqualToValue:I=(ie,J)=>ie===J,multiple:D=!1,onChange:F,onClose:O,onHighlightChange:_,onInputChange:N,onOpen:H,open:L,openOnFocus:M=!1,options:ne,readOnly:oe=!1,selectOnFocus:G=!e.freeSolo,value:re}=e,z=FR(R);let K=E;K=ie=>{const J=E(ie);return typeof J!="string"?String(J):J};const Q=S.useRef(!1),de=S.useRef(!0),ue=S.useRef(null),X=S.useRef(null),[se,me]=S.useState(null),[le,ve]=S.useState(-1),Ce=i?0:-1,he=S.useRef(Ce),[ae,Xe]=Kc({controlled:re,default:u,name:c}),[Ae,Ye]=Kc({controlled:b,default:"",name:c,state:"inputValue"}),[Le,$e]=S.useState(!1),ge=S.useCallback((ie,J,Te)=>{if(!(D?ae.length<J.length:J!==null)&&!a)return;let tt;if(D)tt="";else if(J==null)tt="";else{const ln=K(J);tt=typeof ln=="string"?ln:""}Ae!==tt&&(Ye(tt),N&&N(ie,tt,Te))},[K,Ae,D,N,Ye,a,ae]),[Je,At]=Kc({controlled:L,default:!1,name:c,state:"open"}),[Ze,ot]=S.useState(!0),dt=!D&&ae!=null&&Ae===K(ae),yt=Je&&!oe,lt=yt?y(ne.filter(ie=>!(g&&(D?ae:[ae]).some(J=>J!==null&&I(ie,J)))),{inputValue:dt&&Ze?"":Ae,getOptionLabel:K}):[],Wt=ez({filteredOptions:lt,value:ae,inputValue:Ae});S.useEffect(()=>{const ie=ae!==Wt.value;Le&&!ie||v&&!ie||ge(null,ae,"reset")},[ae,ge,Le,Wt.value,v]);const ht=Je&&lt.length>0&&!oe,jt=Yo(ie=>{ie===-1?ue.current.focus():se.querySelector(`[data-tag-index="${ie}"]`).focus()});S.useEffect(()=>{D&&le>ae.length-1&&(ve(-1),jt(-1))},[ae,D,le,jt]);function lr(ie,J){if(!X.current||ie<0||ie>=lt.length)return-1;let Te=ie;for(;;){const et=X.current.querySelector(`[data-option-index="${Te}"]`),tt=f?!1:!et||et.disabled||et.getAttribute("aria-disabled")==="true";if(et&&et.hasAttribute("tabindex")&&!tt)return Te;if(J==="next"?Te=(Te+1)%lt.length:Te=(Te-1+lt.length)%lt.length,Te===ie)return-1}}const qt=Yo(({event:ie,index:J,reason:Te="auto"})=>{if(he.current=J,J===-1?ue.current.removeAttribute("aria-activedescendant"):ue.current.setAttribute("aria-activedescendant",`${z}-option-${J}`),_&&_(ie,J===-1?null:lt[J],Te),!X.current)return;const et=X.current.querySelector(`[role="option"].${n}-focused`);et&&(et.classList.remove(`${n}-focused`),et.classList.remove(`${n}-focusVisible`));let tt=X.current;if(X.current.getAttribute("role")!=="listbox"&&(tt=X.current.parentElement.querySelector('[role="listbox"]')),!tt)return;if(J===-1){tt.scrollTop=0;return}const ln=X.current.querySelector(`[data-option-index="${J}"]`);if(ln&&(ln.classList.add(`${n}-focused`),Te==="keyboard"&&ln.classList.add(`${n}-focusVisible`),tt.scrollHeight>tt.clientHeight&&Te!=="mouse"&&Te!=="touch")){const Dt=ln,pi=tt.clientHeight+tt.scrollTop,Hi=Dt.offsetTop+Dt.offsetHeight;Hi>pi?tt.scrollTop=Hi-tt.clientHeight:Dt.offsetTop-Dt.offsetHeight*(P?1.3:0)<tt.scrollTop&&(tt.scrollTop=Dt.offsetTop-Dt.offsetHeight*(P?1.3:0))}}),Fe=Yo(({event:ie,diff:J,direction:Te="next",reason:et="auto"})=>{if(!yt)return;const ln=lr((()=>{const Dt=lt.length-1;if(J==="reset")return Ce;if(J==="start")return 0;if(J==="end")return Dt;const pi=he.current+J;return pi<0?pi===-1&&T?-1:C&&he.current!==-1||Math.abs(J)>1?0:Dt:pi>Dt?pi===Dt+1&&T?-1:C||Math.abs(J)>1?Dt:0:pi})(),Te);if(qt({index:ln,reason:et,event:ie}),r&&J!=="reset")if(ln===-1)ue.current.value=Ae;else{const Dt=K(lt[ln]);ue.current.value=Dt,Dt.toLowerCase().indexOf(Ae.toLowerCase())===0&&Ae.length>0&&ue.current.setSelectionRange(Ae.length,Dt.length)}}),St=()=>{const ie=(J,Te)=>{const et=J?K(J):"",tt=Te?K(Te):"";return et===tt};if(he.current!==-1&&Wt.filteredOptions&&Wt.filteredOptions.length!==lt.length&&Wt.inputValue===Ae&&(D?ae.length===Wt.value.length&&Wt.value.every((J,Te)=>K(ae[Te])===K(J)):ie(Wt.value,ae))){const J=Wt.filteredOptions[he.current];if(J)return lt.findIndex(Te=>K(Te)===K(J))}return-1},Yt=S.useCallback(()=>{if(!yt)return;const ie=St();if(ie!==-1){he.current=ie;return}const J=D?ae[0]:ae;if(lt.length===0||J==null){Fe({diff:"reset"});return}if(X.current){if(J!=null){const Te=lt[he.current];if(D&&Te&&ae.findIndex(tt=>I(Te,tt))!==-1)return;const et=lt.findIndex(tt=>I(tt,J));et===-1?Fe({diff:"reset"}):qt({index:et});return}if(he.current>=lt.length-1){qt({index:lt.length-1});return}qt({index:he.current})}},[lt.length,D?!1:ae,g,Fe,qt,yt,Ae,D]),jr=Yo(ie=>{Kg(X,ie),ie&&Yt()});S.useEffect(()=>{Yt()},[Yt]);const Kr=ie=>{Je||(At(!0),ot(!0),H&&H(ie))},di=(ie,J)=>{Je&&(At(!1),O&&O(ie,J))},hs=(ie,J,Te,et)=>{if(D){if(ae.length===J.length&&ae.every((tt,ln)=>tt===J[ln]))return}else if(ae===J)return;F&&F(ie,J,Te,et),Xe(J)},yr=S.useRef(!1),Sr=(ie,J,Te="selectOption",et="options")=>{let tt=Te,ln=J;if(D){ln=Array.isArray(ae)?ae.slice():[];const Dt=ln.findIndex(pi=>I(J,pi));Dt===-1?ln.push(J):et!=="freeSolo"&&(ln.splice(Dt,1),tt="removeOption")}ge(ie,ln,tt),hs(ie,ln,tt,{option:J}),!h&&(!ie||!ie.ctrlKey&&!ie.metaKey)&&di(ie,tt),(s===!0||s==="touch"&&yr.current||s==="mouse"&&!yr.current)&&ue.current.blur()};function qr(ie,J){if(ie===-1)return-1;let Te=ie;for(;;){if(J==="next"&&Te===ae.length||J==="previous"&&Te===-1)return-1;const et=se.querySelector(`[data-tag-index="${Te}"]`);if(!et||!et.hasAttribute("tabindex")||et.disabled||et.getAttribute("aria-disabled")==="true")Te+=J==="next"?1:-1;else return Te}}const hi=(ie,J)=>{if(!D)return;Ae===""&&di(ie,"toggleInput");let Te=le;le===-1?Ae===""&&J==="previous"&&(Te=ae.length-1):(Te+=J==="next"?1:-1,Te<0&&(Te=0),Te===ae.length&&(Te=-1)),Te=qr(Te,J),ve(Te),jt(Te)},k=ie=>{Q.current=!0,Ye(""),N&&N(ie,"","clear"),hs(ie,D?[]:null,"clear")},B=ie=>J=>{if(ie.onKeyDown&&ie.onKeyDown(J),!J.defaultMuiPrevented&&(le!==-1&&!["ArrowLeft","ArrowRight"].includes(J.key)&&(ve(-1),jt(-1)),J.which!==229))switch(J.key){case"Home":yt&&A&&(J.preventDefault(),Fe({diff:"start",direction:"next",reason:"keyboard",event:J}));break;case"End":yt&&A&&(J.preventDefault(),Fe({diff:"end",direction:"previous",reason:"keyboard",event:J}));break;case"PageUp":J.preventDefault(),Fe({diff:-uI,direction:"previous",reason:"keyboard",event:J}),Kr(J);break;case"PageDown":J.preventDefault(),Fe({diff:uI,direction:"next",reason:"keyboard",event:J}),Kr(J);break;case"ArrowDown":J.preventDefault(),Fe({diff:1,direction:"next",reason:"keyboard",event:J}),Kr(J);break;case"ArrowUp":J.preventDefault(),Fe({diff:-1,direction:"previous",reason:"keyboard",event:J}),Kr(J);break;case"ArrowLeft":hi(J,"previous");break;case"ArrowRight":hi(J,"next");break;case"Enter":if(he.current!==-1&&yt){const Te=lt[he.current],et=m?m(Te):!1;if(J.preventDefault(),et)return;Sr(J,Te,"selectOption"),r&&ue.current.setSelectionRange(ue.current.value.length,ue.current.value.length)}else v&&Ae!==""&&dt===!1&&(D&&J.preventDefault(),Sr(J,Ae,"createOption","freeSolo"));break;case"Escape":yt?(J.preventDefault(),J.stopPropagation(),di(J,"escape")):l&&(Ae!==""||D&&ae.length>0)&&(J.preventDefault(),J.stopPropagation(),k(J));break;case"Backspace":if(D&&!oe&&Ae===""&&ae.length>0){const Te=le===-1?ae.length-1:le,et=ae.slice();et.splice(Te,1),hs(J,et,"removeOption",{option:ae[Te]})}break;case"Delete":if(D&&!oe&&Ae===""&&ae.length>0&&le!==-1){const Te=le,et=ae.slice();et.splice(Te,1),hs(J,et,"removeOption",{option:ae[Te]})}break}},V=ie=>{$e(!0),M&&!Q.current&&Kr(ie)},Y=ie=>{if(t(X)){ue.current.focus();return}$e(!1),de.current=!0,Q.current=!1,o&&he.current!==-1&&yt?Sr(ie,lt[he.current],"blur"):o&&v&&Ae!==""?Sr(ie,Ae,"blur","freeSolo"):a&&ge(ie,ae,"blur"),di(ie,"blur")},q=ie=>{const J=ie.target.value;Ae!==J&&(Ye(J),ot(!1),N&&N(ie,J,"input")),J===""?!d&&!D&&hs(ie,null,"clear"):Kr(ie)},Pe=ie=>{const J=Number(ie.currentTarget.getAttribute("data-option-index"));he.current!==J&&qt({event:ie,index:J,reason:"mouse"})},Be=ie=>{qt({event:ie,index:Number(ie.currentTarget.getAttribute("data-option-index")),reason:"touch"}),yr.current=!0},Ne=ie=>{const J=Number(ie.currentTarget.getAttribute("data-option-index"));Sr(ie,lt[J],"selectOption"),yr.current=!1},Qe=ie=>J=>{const Te=ae.slice();Te.splice(ie,1),hs(J,Te,"removeOption",{option:ae[ie]})},He=ie=>{Je?di(ie,"toggleInput"):Kr(ie)},It=ie=>{ie.currentTarget.contains(ie.target)&&ie.target.getAttribute("id")!==z&&ie.preventDefault()},rn=ie=>{ie.currentTarget.contains(ie.target)&&(ue.current.focus(),G&&de.current&&ue.current.selectionEnd-ue.current.selectionStart===0&&ue.current.select(),de.current=!1)},Lt=ie=>{!p&&(Ae===""||!Je)&&He(ie)};let wt=v&&Ae.length>0;wt=wt||(D?ae.length>0:ae!==null);let Ht=lt;return P&&(Ht=lt.reduce((ie,J,Te)=>{const et=P(J);return ie.length>0&&ie[ie.length-1].group===et?ie[ie.length-1].options.push(J):ie.push({key:Te,index:Te,group:et,options:[J]}),ie},[])),p&&Le&&Y(),{getRootProps:(ie={})=>({"aria-owns":ht?`${z}-listbox`:null,...ie,onKeyDown:B(ie),onMouseDown:It,onClick:rn}),getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:Ae,onBlur:Y,onFocus:V,onChange:q,onMouseDown:Lt,"aria-activedescendant":yt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":ht?`${z}-listbox`:void 0,"aria-expanded":ht,autoComplete:"off",ref:ue,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:k}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:He}),getTagProps:({index:ie})=>({key:ie,"data-tag-index":ie,tabIndex:-1,...!oe&&{onDelete:Qe(ie)}}),getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:jr,onMouseDown:ie=>{ie.preventDefault()}}),getOptionProps:({index:ie,option:J})=>{const Te=(D?ae:[ae]).some(tt=>tt!=null&&I(J,tt)),et=m?m(J):!1;return{key:(w==null?void 0:w(J))??K(J),tabIndex:-1,role:"option",id:`${z}-option-${ie}`,onMouseMove:Pe,onClick:Ne,onTouchStart:Be,"data-option-index":ie,"aria-disabled":et,"aria-selected":Te}},id:z,inputValue:Ae,value:ae,dirty:wt,expanded:yt&&se,popupOpen:yt,focused:Le||le!==-1,anchorEl:se,setAnchorEl:me,focusedTag:le,groupedOptions:Ht}}var li="top",so="bottom",ao="right",ci="left",BR="auto",vp=[li,so,ao,ci],uu="start",Bh="end",l$="clippingParents",OM="viewport",sd="popper",c$="reference",dI=vp.reduce(function(e,t){return e.concat([t+"-"+uu,t+"-"+Bh])},[]),MM=[].concat(vp,[BR]).reduce(function(e,t){return e.concat([t,t+"-"+uu,t+"-"+Bh])},[]),u$="beforeRead",d$="read",h$="afterRead",p$="beforeMain",f$="main",g$="afterMain",m$="beforeWrite",v$="write",C$="afterWrite",y$=[u$,d$,h$,p$,f$,g$,m$,v$,C$];function is(e){return e?(e.nodeName||"").toLowerCase():null}function ki(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Dl(e){var t=ki(e).Element;return e instanceof t||e instanceof Element}function Zi(e){var t=ki(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function HR(e){if(typeof ShadowRoot>"u")return!1;var t=ki(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function S$(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Zi(o)||!is(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function w$(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Zi(i)||!is(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const b$={name:"applyStyles",enabled:!0,phase:"write",fn:S$,effect:w$,requires:["computeStyles"]};function es(e){return e.split("-")[0]}var gl=Math.max,Qg=Math.min,du=Math.round;function ow(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function kM(){return!/^((?!chrome|android).)*safari/i.test(ow())}function hu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Zi(e)&&(i=e.offsetWidth>0&&du(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&du(r.height)/e.offsetHeight||1);var s=Dl(e)?ki(e):window,a=s.visualViewport,l=!kM()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function GR(e){var t=hu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function LM(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&HR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _s(e){return ki(e).getComputedStyle(e)}function R$(e){return["table","td","th"].indexOf(is(e))>=0}function _a(e){return((Dl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ov(e){return is(e)==="html"?e:e.assignedSlot||e.parentNode||(HR(e)?e.host:null)||_a(e)}function hI(e){return!Zi(e)||_s(e).position==="fixed"?null:e.offsetParent}function E$(e){var t=/firefox/i.test(ow()),n=/Trident/i.test(ow());if(n&&Zi(e)){var r=_s(e);if(r.position==="fixed")return null}var i=Ov(e);for(HR(i)&&(i=i.host);Zi(i)&&["html","body"].indexOf(is(i))<0;){var o=_s(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Cp(e){for(var t=ki(e),n=hI(e);n&&R$(n)&&_s(n).position==="static";)n=hI(n);return n&&(is(n)==="html"||is(n)==="body"&&_s(n).position==="static")?t:n||E$(e)||t}function VR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Kd(e,t,n){return gl(e,Qg(t,n))}function P$(e,t,n){var r=Kd(e,t,n);return r>n?n:r}function NM(){return{top:0,right:0,bottom:0,left:0}}function _M(e){return Object.assign({},NM(),e)}function BM(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var T$=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,_M(typeof t!="number"?t:BM(t,vp))};function A$(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=es(n.placement),l=VR(a),c=[ci,ao].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=T$(i.padding,n),h=GR(o),p=l==="y"?li:ci,f=l==="y"?so:ao,C=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],g=Cp(o),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,m=C/2-y/2,w=d[p],E=v-h[u]-d[f],P=v/2-h[u]/2+m,A=Kd(w,P,E),R=l;n.modifiersData[r]=(t={},t[R]=A,t.centerOffset=A-P,t)}}function I$(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||LM(t.elements.popper,i)&&(t.elements.arrow=i))}const x$={name:"arrow",enabled:!0,phase:"main",fn:A$,effect:I$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pu(e){return e.split("-")[1]}var D$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F$(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:du(n*i)/i||0,y:du(r*i)/i||0}}function pI(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=h===void 0?0:h,f=s.y,C=f===void 0?0:f,y=typeof u=="function"?u({x:p,y:C}):{x:p,y:C};p=y.x,C=y.y;var g=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),m=ci,w=li,E=window;if(c){var P=Cp(n),A="clientHeight",R="clientWidth";if(P===ki(n)&&(P=_a(n),_s(P).position!=="static"&&a==="absolute"&&(A="scrollHeight",R="scrollWidth")),P=P,i===li||(i===ci||i===ao)&&o===Bh){w=so;var T=d&&P===E&&E.visualViewport?E.visualViewport.height:P[A];C-=T-r.height,C*=l?1:-1}if(i===ci||(i===li||i===so)&&o===Bh){m=ao;var b=d&&P===E&&E.visualViewport?E.visualViewport.width:P[R];p-=b-r.width,p*=l?1:-1}}var I=Object.assign({position:a},c&&D$),D=u===!0?F$({x:p,y:C},ki(n)):{x:p,y:C};if(p=D.x,C=D.y,l){var F;return Object.assign({},I,(F={},F[w]=v?"0":"",F[m]=g?"0":"",F.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+C+"px)":"translate3d("+p+"px, "+C+"px, 0)",F))}return Object.assign({},I,(t={},t[w]=v?C+"px":"",t[m]=g?p+"px":"",t.transform="",t))}function O$(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:es(t.placement),variation:pu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,pI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,pI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const M$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:O$,data:{}};var df={passive:!0};function k$(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=ki(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,df)}),a&&l.addEventListener("resize",n.update,df),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,df)}),a&&l.removeEventListener("resize",n.update,df)}}const L$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:k$,data:{}};var N$={left:"right",right:"left",bottom:"top",top:"bottom"};function sg(e){return e.replace(/left|right|bottom|top/g,function(t){return N$[t]})}var _$={start:"end",end:"start"};function fI(e){return e.replace(/start|end/g,function(t){return _$[t]})}function WR(e){var t=ki(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function UR(e){return hu(_a(e)).left+WR(e).scrollLeft}function B$(e,t){var n=ki(e),r=_a(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=kM();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+UR(e),y:l}}function H$(e){var t,n=_a(e),r=WR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=gl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=gl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+UR(e),l=-r.scrollTop;return _s(i||n).direction==="rtl"&&(a+=gl(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function zR(e){var t=_s(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function HM(e){return["html","body","#document"].indexOf(is(e))>=0?e.ownerDocument.body:Zi(e)&&zR(e)?e:HM(Ov(e))}function qd(e,t){var n;t===void 0&&(t=[]);var r=HM(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ki(r),s=i?[o].concat(o.visualViewport||[],zR(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(qd(Ov(s)))}function sw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function G$(e,t){var n=hu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function gI(e,t,n){return t===OM?sw(B$(e,n)):Dl(t)?G$(t,n):sw(H$(_a(e)))}function V$(e){var t=qd(Ov(e)),n=["absolute","fixed"].indexOf(_s(e).position)>=0,r=n&&Zi(e)?Cp(e):e;return Dl(r)?t.filter(function(i){return Dl(i)&&LM(i,r)&&is(i)!=="body"}):[]}function W$(e,t,n,r){var i=t==="clippingParents"?V$(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=gI(e,c,r);return l.top=gl(u.top,l.top),l.right=Qg(u.right,l.right),l.bottom=Qg(u.bottom,l.bottom),l.left=gl(u.left,l.left),l},gI(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GM(e){var t=e.reference,n=e.element,r=e.placement,i=r?es(r):null,o=r?pu(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case li:l={x:s,y:t.y-n.height};break;case so:l={x:s,y:t.y+t.height};break;case ao:l={x:t.x+t.width,y:a};break;case ci:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?VR(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case uu:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Bh:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Hh(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?l$:a,c=n.rootBoundary,u=c===void 0?OM:c,d=n.elementContext,h=d===void 0?sd:d,p=n.altBoundary,f=p===void 0?!1:p,C=n.padding,y=C===void 0?0:C,g=_M(typeof y!="number"?y:BM(y,vp)),v=h===sd?c$:sd,m=e.rects.popper,w=e.elements[f?v:h],E=W$(Dl(w)?w:w.contextElement||_a(e.elements.popper),l,u,s),P=hu(e.elements.reference),A=GM({reference:P,element:m,strategy:"absolute",placement:i}),R=sw(Object.assign({},m,A)),T=h===sd?R:P,b={top:E.top-T.top+g.top,bottom:T.bottom-E.bottom+g.bottom,left:E.left-T.left+g.left,right:T.right-E.right+g.right},I=e.modifiersData.offset;if(h===sd&&I){var D=I[i];Object.keys(b).forEach(function(F){var O=[ao,so].indexOf(F)>=0?1:-1,_=[li,so].indexOf(F)>=0?"y":"x";b[F]+=D[_]*O})}return b}function U$(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?MM:l,u=pu(r),d=u?a?dI:dI.filter(function(f){return pu(f)===u}):vp,h=d.filter(function(f){return c.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,C){return f[C]=Hh(e,{placement:C,boundary:i,rootBoundary:o,padding:s})[es(C)],f},{});return Object.keys(p).sort(function(f,C){return p[f]-p[C]})}function z$(e){if(es(e)===BR)return[];var t=sg(e);return[fI(e),t,fI(t)]}function $$(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=p===void 0?!0:p,C=n.allowedAutoPlacements,y=t.options.placement,g=es(y),v=g===y,m=l||(v||!f?[sg(y)]:z$(y)),w=[y].concat(m).reduce(function(z,K){return z.concat(es(K)===BR?U$(t,{placement:K,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:C}):K)},[]),E=t.rects.reference,P=t.rects.popper,A=new Map,R=!0,T=w[0],b=0;b<w.length;b++){var I=w[b],D=es(I),F=pu(I)===uu,O=[li,so].indexOf(D)>=0,_=O?"width":"height",N=Hh(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),H=O?F?ao:ci:F?so:li;E[_]>P[_]&&(H=sg(H));var L=sg(H),M=[];if(o&&M.push(N[D]<=0),a&&M.push(N[H]<=0,N[L]<=0),M.every(function(z){return z})){T=I,R=!1;break}A.set(I,M)}if(R)for(var ne=f?3:1,oe=function(K){var Q=w.find(function(de){var ue=A.get(de);if(ue)return ue.slice(0,K).every(function(X){return X})});if(Q)return T=Q,"break"},G=ne;G>0;G--){var re=oe(G);if(re==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const j$={name:"flip",enabled:!0,phase:"main",fn:$$,requiresIfExists:["offset"],data:{_skip:!1}};function mI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vI(e){return[li,ao,so,ci].some(function(t){return e[t]>=0})}function K$(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Hh(t,{elementContext:"reference"}),a=Hh(t,{altBoundary:!0}),l=mI(s,r),c=mI(a,i,o),u=vI(l),d=vI(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const q$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:K$};function Y$(e,t,n){var r=es(e),i=[ci,li].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ci,ao].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Q$(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=MM.reduce(function(u,d){return u[d]=Y$(d,t.rects,o),u},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const X$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q$};function J$(e){var t=e.state,n=e.name;t.modifiersData[n]=GM({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Z$={name:"popperOffsets",enabled:!0,phase:"read",fn:J$,data:{}};function ej(e){return e==="x"?"y":"x"}function tj(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,f=n.tetherOffset,C=f===void 0?0:f,y=Hh(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=es(t.placement),v=pu(t.placement),m=!v,w=VR(g),E=ej(w),P=t.modifiersData.popperOffsets,A=t.rects.reference,R=t.rects.popper,T=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,b=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(P){if(o){var F,O=w==="y"?li:ci,_=w==="y"?so:ao,N=w==="y"?"height":"width",H=P[w],L=H+y[O],M=H-y[_],ne=p?-R[N]/2:0,oe=v===uu?A[N]:R[N],G=v===uu?-R[N]:-A[N],re=t.elements.arrow,z=p&&re?GR(re):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:NM(),Q=K[O],de=K[_],ue=Kd(0,A[N],z[N]),X=m?A[N]/2-ne-ue-Q-b.mainAxis:oe-ue-Q-b.mainAxis,se=m?-A[N]/2+ne+ue+de+b.mainAxis:G+ue+de+b.mainAxis,me=t.elements.arrow&&Cp(t.elements.arrow),le=me?w==="y"?me.clientTop||0:me.clientLeft||0:0,ve=(F=I==null?void 0:I[w])!=null?F:0,Ce=H+X-ve-le,he=H+se-ve,ae=Kd(p?Qg(L,Ce):L,H,p?gl(M,he):M);P[w]=ae,D[w]=ae-H}if(a){var Xe,Ae=w==="x"?li:ci,Ye=w==="x"?so:ao,Le=P[E],$e=E==="y"?"height":"width",ge=Le+y[Ae],Je=Le-y[Ye],At=[li,ci].indexOf(g)!==-1,Ze=(Xe=I==null?void 0:I[E])!=null?Xe:0,ot=At?ge:Le-A[$e]-R[$e]-Ze+b.altAxis,dt=At?Le+A[$e]+R[$e]-Ze-b.altAxis:Je,yt=p&&At?P$(ot,Le,dt):Kd(p?ot:ge,Le,p?dt:Je);P[E]=yt,D[E]=yt-Le}t.modifiersData[r]=D}}const nj={name:"preventOverflow",enabled:!0,phase:"main",fn:tj,requiresIfExists:["offset"]};function rj(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ij(e){return e===ki(e)||!Zi(e)?WR(e):rj(e)}function oj(e){var t=e.getBoundingClientRect(),n=du(t.width)/e.offsetWidth||1,r=du(t.height)/e.offsetHeight||1;return n!==1||r!==1}function sj(e,t,n){n===void 0&&(n=!1);var r=Zi(t),i=Zi(t)&&oj(t),o=_a(t),s=hu(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((is(t)!=="body"||zR(o))&&(a=ij(t)),Zi(t)?(l=hu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=UR(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function aj(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function lj(e){var t=aj(e);return y$.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function cj(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function uj(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var CI={placement:"bottom",modifiers:[],strategy:"absolute"};function yI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dj(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?CI:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},CI,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(g){var v=typeof g=="function"?g(u.options):g;C(),u.options=Object.assign({},o,u.options,v),u.scrollParents={reference:Dl(a)?qd(a):a.contextElement?qd(a.contextElement):[],popper:qd(l)};var m=lj(uj([].concat(r,u.options.modifiers)));return u.orderedModifiers=m.filter(function(w){return w.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var g=u.elements,v=g.reference,m=g.popper;if(yI(v,m)){u.rects={reference:sj(v,Cp(m),u.options.strategy==="fixed"),popper:GR(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(b){return u.modifiersData[b.name]=Object.assign({},b.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var E=u.orderedModifiers[w],P=E.fn,A=E.options,R=A===void 0?{}:A,T=E.name;typeof P=="function"&&(u=P({state:u,options:R,name:T,instance:p})||u)}}}},update:cj(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){C(),h=!0}};if(!yI(a,l))return p;p.setOptions(c).then(function(y){!h&&c.onFirstUpdate&&c.onFirstUpdate(y)});function f(){u.orderedModifiers.forEach(function(y){var g=y.name,v=y.options,m=v===void 0?{}:v,w=y.effect;if(typeof w=="function"){var E=w({state:u,name:g,instance:p,options:m}),P=function(){};d.push(E||P)}})}function C(){d.forEach(function(y){return y()}),d=[]}return p}}var hj=[L$,Z$,M$,b$,X$,j$,nj,x$,q$],pj=dj({defaultModifiers:hj});function fj(e){return typeof e=="function"?e():e}const VM=S.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=S.useState(null),l=Vn(S.isValidElement(r)?mp(r):null,n);if(Ls(()=>{o||a(fj(i)||document.body)},[i,o]),Ls(()=>{if(s&&!o)return Kg(n,s),()=>{Kg(n,null)}},[n,s,o]),o){if(S.isValidElement(r)){const c={ref:l};return S.cloneElement(r,c)}return r}return s&&Vl.createPortal(r,s)});function gj(e){return at("MuiPopper",e)}it("MuiPopper",["root"]);function mj(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function aw(e){return typeof e=="function"?e():e}function vj(e){return e.nodeType!==void 0}const Cj=e=>{const{classes:t}=e;return ct({root:["root"]},gj,t)},yj={},Sj=S.forwardRef(function(t,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:h={},slots:p={},TransitionProps:f,ownerState:C,...y}=t,g=S.useRef(null),v=Vn(g,n),m=S.useRef(null),w=Vn(m,d),E=S.useRef(w);Ls(()=>{E.current=w},[w]),S.useImperativeHandle(d,()=>m.current,[]);const P=mj(c,o),[A,R]=S.useState(P),[T,b]=S.useState(aw(r));S.useEffect(()=>{m.current&&m.current.forceUpdate()}),S.useEffect(()=>{r&&b(aw(r))},[r]),Ls(()=>{if(!T||!l)return;const _=L=>{R(L.placement)};let N=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:L})=>{_(L)}}];a!=null&&(N=N.concat(a)),u&&u.modifiers!=null&&(N=N.concat(u.modifiers));const H=pj(T,g.current,{placement:P,...u,modifiers:N});return E.current(H),()=>{H.destroy(),E.current(null)}},[T,s,a,l,u,P]);const I={placement:A};f!==null&&(I.TransitionProps=f);const D=Cj(t),F=p.root??"div",O=XS({elementType:F,externalSlotProps:h.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:v},ownerState:t,className:D.root});return x.jsx(F,{...O,children:typeof i=="function"?i(I):i})}),wj=S.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=yj,popperRef:p,style:f,transition:C=!1,slotProps:y={},slots:g={},...v}=t,[m,w]=S.useState(!0),E=()=>{w(!1)},P=()=>{w(!0)};if(!l&&!u&&(!C||m))return null;let A;if(o)A=o;else if(r){const b=aw(r);A=b&&vj(b)?Mi(b).body:Mi(null).body}const R=!u&&l&&(!C||m)?"none":void 0,T=C?{in:u,onEnter:E,onExited:P}:void 0;return x.jsx(VM,{disablePortal:a,container:A,children:x.jsx(Sj,{anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:C?!m:u,placement:d,popperOptions:h,popperRef:p,slotProps:y,slots:g,...v,style:{position:"fixed",top:0,left:0,display:R,...f},TransitionProps:T,children:i})})}),bj=Se(wj,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),WM=S.forwardRef(function(t,n){const r=wM(),i=ut({props:t,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:C,popperRef:y,transition:g,slots:v,slotProps:m,...w}=i,E=(v==null?void 0:v.root)??(a==null?void 0:a.Root),P={anchorEl:o,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:C,popperRef:y,transition:g,...w};return x.jsx(bj,{as:s,direction:r?"rtl":"ltr",slots:{root:E},slotProps:m??l,...P,ref:n})});function Rj(e){return at("MuiListSubheader",e)}it("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Ej=e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e,s={root:["root",n!=="default"&&`color${ye(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return ct(s,Rj,t)},Pj=Se("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ye(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(st(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),lw=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1,...u}=r,d={...r,color:o,component:s,disableGutters:a,disableSticky:l,inset:c},h=Ej(d);return x.jsx(Pj,{as:s,className:Me(h.root,i),ref:n,ownerState:d,...u})});lw&&(lw.muiSkipListHighlight=!0);const Tj=Fu(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Aj(e){return at("MuiChip",e)}const Rt=it("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ij=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${ye(r)}`,`color${ye(i)}`,a&&"clickable",a&&`clickableColor${ye(i)}`,s&&"deletable",s&&`deletableColor${ye(i)}`,`${l}${ye(i)}`],label:["label",`label${ye(r)}`],avatar:["avatar",`avatar${ye(r)}`,`avatarColor${ye(i)}`],icon:["icon",`icon${ye(r)}`,`iconColor${ye(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ye(r)}`,`deleteIconColor${ye(i)}`,`deleteIcon${ye(l)}Color${ye(i)}`]};return ct(c,Aj,t)},xj=Se("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Rt.avatar}`]:t.avatar},{[`& .${Rt.avatar}`]:t[`avatar${ye(a)}`]},{[`& .${Rt.avatar}`]:t[`avatarColor${ye(r)}`]},{[`& .${Rt.icon}`]:t.icon},{[`& .${Rt.icon}`]:t[`icon${ye(a)}`]},{[`& .${Rt.icon}`]:t[`iconColor${ye(i)}`]},{[`& .${Rt.deleteIcon}`]:t.deleteIcon},{[`& .${Rt.deleteIcon}`]:t[`deleteIcon${ye(a)}`]},{[`& .${Rt.deleteIcon}`]:t[`deleteIconColor${ye(r)}`]},{[`& .${Rt.deleteIcon}`]:t[`deleteIcon${ye(l)}Color${ye(r)}`]},t.root,t[`size${ye(a)}`],t[`color${ye(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${ye(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${ye(r)}`],t[l],t[`${l}${ye(r)}`]]}})(st(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Rt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Rt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Rt.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Rt.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Rt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Rt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Rt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Zt(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Zt(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Rt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Rt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(ri(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${Rt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].contrastTextChannel} / 0.7)`:Zt(e.palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Rt.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Rt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Rt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Zt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(ri(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Rt.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Zt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Rt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Zt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(ri(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Rt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Rt.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Rt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Rt.avatar}`]:{marginLeft:4},[`& .${Rt.avatarSmall}`]:{marginLeft:2},[`& .${Rt.icon}`]:{marginLeft:4},[`& .${Rt.iconSmall}`]:{marginLeft:2},[`& .${Rt.deleteIcon}`]:{marginRight:5},[`& .${Rt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(ri()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Zt(e.palette[n].main,.7)}`,[`&.${Rt.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette[n].main,e.palette.action.hoverOpacity)},[`&.${Rt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Zt(e.palette[n].main,e.palette.action.focusOpacity)},[`& .${Rt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Zt(e.palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),Dj=Se("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ye(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function SI(e){return e.key==="Backspace"||e.key==="Delete"}const Fj=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:C,onKeyUp:y,size:g="medium",variant:v="filled",tabIndex:m,skipFocusWhenDisabled:w=!1,...E}=r,P=S.useRef(null),A=Vn(P,n),R=M=>{M.stopPropagation(),f&&f(M)},T=M=>{M.currentTarget===M.target&&SI(M)&&M.preventDefault(),C&&C(M)},b=M=>{M.currentTarget===M.target&&f&&SI(M)&&f(M),y&&y(M)},I=s!==!1&&p?!0:s,D=I||f?_h:l||"div",F={...r,component:D,disabled:u,size:g,color:a,iconColor:S.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:I,variant:v},O=Ij(F),_=D===_h?{component:l||"div",focusVisibleClassName:O.focusVisible,...f&&{disableRipple:!0}}:{};let N=null;f&&(N=c&&S.isValidElement(c)?S.cloneElement(c,{className:Me(c.props.className,O.deleteIcon),onClick:R}):x.jsx(Tj,{className:Me(O.deleteIcon),onClick:R}));let H=null;i&&S.isValidElement(i)&&(H=S.cloneElement(i,{className:Me(O.avatar,i.props.className)}));let L=null;return d&&S.isValidElement(d)&&(L=S.cloneElement(d,{className:Me(O.icon,d.props.className)})),x.jsxs(xj,{as:D,className:Me(O.root,o),disabled:I&&u?!0:void 0,onClick:p,onKeyDown:T,onKeyUp:b,ref:A,tabIndex:w&&u?-1:m,ownerState:F,..._,...E,children:[H||L,x.jsx(Dj,{className:Me(O.label),ownerState:F,children:h}),N]})});function hf(e){return parseInt(e,10)||0}const Oj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Mj(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const kj=S.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=t,{current:c}=S.useRef(a!=null),u=S.useRef(null),d=Vn(n,u),h=S.useRef(null),p=S.useRef(null),f=S.useCallback(()=>{const g=u.current,m=Ns(g).getComputedStyle(g);if(m.width==="0px")return{outerHeightStyle:0,overflowing:!1};const w=p.current;w.style.width=m.width,w.value=g.value||t.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const E=m.boxSizing,P=hf(m.paddingBottom)+hf(m.paddingTop),A=hf(m.borderBottomWidth)+hf(m.borderTopWidth),R=w.scrollHeight;w.value="x";const T=w.scrollHeight;let b=R;o&&(b=Math.max(Number(o)*T,b)),i&&(b=Math.min(Number(i)*T,b)),b=Math.max(b,T);const I=b+(E==="border-box"?P+A:0),D=Math.abs(b-R)<=1;return{outerHeightStyle:I,overflowing:D}},[i,o,t.placeholder]),C=S.useCallback(()=>{const g=f();if(Mj(g))return;const v=g.outerHeightStyle,m=u.current;h.current!==v&&(h.current=v,m.style.height=`${v}px`),m.style.overflow=g.overflowing?"hidden":""},[f]);Ls(()=>{const g=()=>{C()};let v;const m=fM(g),w=u.current,E=Ns(w);E.addEventListener("resize",m);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(g),P.observe(w)),()=>{m.clear(),cancelAnimationFrame(v),E.removeEventListener("resize",m),P&&P.disconnect()}},[f,C]),Ls(()=>{C()});const y=g=>{c||C(),r&&r(g)};return x.jsxs(S.Fragment,{children:[x.jsx("textarea",{value:a,onChange:y,ref:d,rows:o,style:s,...l}),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:{...Oj.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function Gh(e){return typeof e=="string"}function Ou({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const $R=S.createContext(void 0);function Mu(){return S.useContext($R)}function wI(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Xg(e,t=!1){return e&&(wI(e.value)&&e.value!==""||t&&wI(e.defaultValue)&&e.defaultValue!=="")}function Lj(e){return e.startAdornment}function Nj(e){return at("MuiInputBase",e)}const yi=it("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var bI;const Mv=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ye(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},kv=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},_j=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e,C={root:["root",`color${ye(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ye(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",f==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return ct(C,Nj,t)},Lv=Se("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Mv})(st(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${yi.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Nv=Se("input",{name:"MuiInputBase",slot:"Input",overridesResolver:kv})(st(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${yi.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${yi.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),RI=Yz({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),jR=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,error:C,fullWidth:y=!1,id:g,inputComponent:v="input",inputProps:m={},inputRef:w,margin:E,maxRows:P,minRows:A,multiline:R=!1,name:T,onBlur:b,onChange:I,onClick:D,onFocus:F,onKeyDown:O,onKeyUp:_,placeholder:N,readOnly:H,renderSuffix:L,rows:M,size:ne,slotProps:oe={},slots:G={},startAdornment:re,type:z="text",value:K,...Q}=r,de=m.value!=null?m.value:K,{current:ue}=S.useRef(de!=null),X=S.useRef(),se=S.useCallback(ht=>{},[]),me=Vn(X,w,m.ref,se),[le,ve]=S.useState(!1),Ce=Mu(),he=Ou({props:r,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});he.focused=Ce?Ce.focused:le,S.useEffect(()=>{!Ce&&h&&le&&(ve(!1),b&&b())},[Ce,h,le,b]);const ae=Ce&&Ce.onFilled,Xe=Ce&&Ce.onEmpty,Ae=S.useCallback(ht=>{Xg(ht)?ae&&ae():Xe&&Xe()},[ae,Xe]);Ls(()=>{ue&&Ae({value:de})},[de,Ae,ue]);const Ye=ht=>{F&&F(ht),m.onFocus&&m.onFocus(ht),Ce&&Ce.onFocus?Ce.onFocus(ht):ve(!0)},Le=ht=>{b&&b(ht),m.onBlur&&m.onBlur(ht),Ce&&Ce.onBlur?Ce.onBlur(ht):ve(!1)},$e=(ht,...jt)=>{if(!ue){const lr=ht.target||X.current;if(lr==null)throw new Error(ks(1));Ae({value:lr.value})}m.onChange&&m.onChange(ht,...jt),I&&I(ht,...jt)};S.useEffect(()=>{Ae(X.current)},[]);const ge=ht=>{X.current&&ht.currentTarget===ht.target&&X.current.focus(),D&&D(ht)};let Je=v,At=m;R&&Je==="input"&&(M?At={type:void 0,minRows:M,maxRows:M,...At}:At={type:void 0,maxRows:P,minRows:A,...At},Je=kj);const Ze=ht=>{Ae(ht.animationName==="mui-auto-fill-cancel"?X.current:{value:"x"})};S.useEffect(()=>{Ce&&Ce.setAdornedStart(!!re)},[Ce,re]);const ot={...r,color:he.color||"primary",disabled:he.disabled,endAdornment:f,error:he.error,focused:he.focused,formControl:Ce,fullWidth:y,hiddenLabel:he.hiddenLabel,multiline:R,size:he.size,startAdornment:re,type:z},dt=_j(ot),yt=G.root||c.Root||Lv,lt=oe.root||u.root||{},Wt=G.input||c.Input||Nv;return At={...At,...oe.input??u.input},x.jsxs(S.Fragment,{children:[!p&&typeof RI=="function"&&(bI||(bI=x.jsx(RI,{}))),x.jsxs(yt,{...lt,ref:n,onClick:ge,...Q,...!Gh(yt)&&{ownerState:{...ot,...lt.ownerState}},className:Me(dt.root,lt.className,a,H&&"MuiInputBase-readOnly"),children:[re,x.jsx($R.Provider,{value:null,children:x.jsx(Wt,{"aria-invalid":he.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:he.disabled,id:g,onAnimationStart:Ze,name:T,placeholder:N,readOnly:H,required:he.required,rows:M,value:de,onKeyDown:O,onKeyUp:_,type:z,...At,...!Gh(Wt)&&{as:Je,ownerState:{...ot,...At.ownerState}},ref:me,className:Me(dt.input,At.className,H&&"MuiInputBase-readOnly"),onBlur:Le,onChange:$e,onFocus:Ye})}),f,L?L({...he,startAdornment:re}):null]})]})});function Bj(e){return at("MuiInput",e)}const sa={...yi,...it("MuiInput",["root","underline","input"])};function Hj(e){return at("MuiOutlinedInput",e)}const Ui={...yi,...it("MuiOutlinedInput",["root","notchedOutline","input"])};function Gj(e){return at("MuiFilledInput",e)}const Si={...yi,...it("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},UM=Fu(x.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Vj(e){return at("MuiAutocomplete",e)}const ft=it("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var EI,PI;const Wj=e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=e,d={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ye(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ct(d,Vj,t)},Uj=Se("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${ft.tag}`]:t.tag},{[`& .${ft.tag}`]:t[`tagSize${ye(a)}`]},{[`& .${ft.inputRoot}`]:t.inputRoot},{[`& .${ft.input}`]:t.input},{[`& .${ft.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${ft.focused} .${ft.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ft.clearIndicator}`]:{visibility:"visible"}},[`& .${ft.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ft.inputRoot}`]:{[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:30},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:56},[`& .${ft.input}`]:{width:0,minWidth:30}},[`& .${sa.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${sa.root}.${yi.sizeSmall}`]:{[`& .${sa.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ui.root}`]:{padding:9,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:39},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:65},[`& .${ft.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${Ui.root}.${yi.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ft.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Si.root}`]:{paddingTop:19,paddingLeft:8,[`.${ft.hasPopupIcon}&, .${ft.hasClearIcon}&`]:{paddingRight:39},[`.${ft.hasPopupIcon}.${ft.hasClearIcon}&`]:{paddingRight:65},[`& .${Si.input}`]:{padding:"7px 4px"},[`& .${ft.endAdornment}`]:{right:9}},[`& .${Si.root}.${yi.sizeSmall}`]:{paddingBottom:1,[`& .${Si.input}`]:{padding:"2.5px 4px"}},[`& .${yi.hiddenLabel}`]:{paddingTop:8},[`& .${Si.root}.${yi.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ft.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Si.root}.${yi.hiddenLabel}.${yi.sizeSmall}`]:{[`& .${ft.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ft.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ft.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ft.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ft.inputRoot}`]:{flexWrap:"wrap"}}}]}),zj=Se("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),$j=Se(Mc,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),jj=Se(Mc,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Kj=Se(WM,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ft.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(st(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),qj=Se(Wl,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(st(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Yj=Se("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(st(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Qj=Se("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(st(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Xj=Se("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(st(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ft.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ft.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ft.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ft.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ft.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Jj=Se(lw,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(st(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Zj=Se("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${ft.option}`]:{paddingLeft:24}}),TI=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=EI||(EI=x.jsx(K2,{fontSize:"small"})),clearOnBlur:d=!r.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:f="Close",componentsProps:C,defaultValue:y=r.multiple?[]:null,disableClearable:g=!1,disableCloseOnSelect:v=!1,disabled:m=!1,disabledItemsFocusable:w=!1,disableListWrap:E=!1,disablePortal:P=!1,filterOptions:A,filterSelectedOptions:R=!1,forcePopupIcon:T="auto",freeSolo:b=!1,fullWidth:I=!1,getLimitTagsText:D=xe=>`+${xe}`,getOptionDisabled:F,getOptionKey:O,getOptionLabel:_,isOptionEqualToValue:N,groupBy:H,handleHomeEndKeys:L=!r.freeSolo,id:M,includeInputInList:ne=!1,inputValue:oe,limitTags:G=-1,ListboxComponent:re,ListboxProps:z,loading:K=!1,loadingText:Q="Loading",multiple:de=!1,noOptionsText:ue="No options",onChange:X,onClose:se,onHighlightChange:me,onInputChange:le,onOpen:ve,open:Ce,openOnFocus:he=!1,openText:ae="Open",options:Xe,PaperComponent:Ae,PopperComponent:Ye,popupIcon:Le=PI||(PI=x.jsx(UM,{})),readOnly:$e=!1,renderGroup:ge,renderInput:Je,renderOption:At,renderTags:Ze,selectOnFocus:ot=!r.freeSolo,size:dt="medium",slots:yt={},slotProps:lt={},value:Wt,...ht}=r,{getRootProps:jt,getInputProps:lr,getInputLabelProps:qt,getPopupIndicatorProps:Fe,getClearProps:St,getTagProps:Yt,getListboxProps:jr,getOptionProps:Kr,value:di,dirty:hs,expanded:yr,id:Sr,popupOpen:qr,focused:hi,focusedTag:k,anchorEl:B,setAnchorEl:V,inputValue:Y,groupedOptions:q}=a$({...r,componentName:"Autocomplete"}),Pe=!g&&!m&&hs&&!$e,Be=(!b||T===!0)&&T!==!1,{onMouseDown:Ne}=lr(),{ref:Qe,...He}=jr(),rn=_||(xe=>xe.label??xe),Lt={...r,disablePortal:P,expanded:yr,focused:hi,fullWidth:I,getOptionLabel:rn,hasClearIcon:Pe,hasPopupIcon:Be,inputFocused:k===-1,popupOpen:qr,size:dt},wt=Wj(Lt),Ht={slots:{paper:Ae,popper:Ye,...yt},slotProps:{chip:l,listbox:z,...C,...lt}},[ie,J]=xr("listbox",{elementType:Xj,externalForwardedProps:Ht,ownerState:Lt,className:wt.listbox,additionalProps:He,ref:Qe}),[Te,et]=xr("paper",{elementType:Wl,externalForwardedProps:Ht,ownerState:Lt,className:wt.paper}),[tt,ln]=xr("popper",{elementType:WM,externalForwardedProps:Ht,ownerState:Lt,className:wt.popper,additionalProps:{disablePortal:P,style:{width:B?B.clientWidth:null},role:"presentation",anchorEl:B,open:qr}});let Dt;if(de&&di.length>0){const xe=bt=>({className:wt.tag,disabled:m,...Yt(bt)});Ze?Dt=Ze(di,xe,Lt):Dt=di.map((bt,mt)=>{const{key:Ct,...Nt}=xe({index:mt});return x.jsx(Fj,{label:rn(bt),size:dt,...Nt,...Ht.slotProps.chip},Ct)})}if(G>-1&&Array.isArray(Dt)){const xe=Dt.length-G;!hi&&xe>0&&(Dt=Dt.splice(0,G),Dt.push(x.jsx("span",{className:wt.tag,children:D(xe)},Dt.length)))}const Hi=ge||(xe=>x.jsxs("li",{children:[x.jsx(Jj,{className:wt.groupLabel,ownerState:Lt,component:"div",children:xe.group}),x.jsx(Zj,{className:wt.groupUl,ownerState:Lt,children:xe.children})]},xe.key)),RC=At||((xe,bt)=>{const{key:mt,...Ct}=xe;return x.jsx("li",{...Ct,children:rn(bt)},mt)}),Wp=(xe,bt)=>{const mt=Kr({option:xe,index:bt});return RC({...mt,className:wt.option},xe,{selected:mt["aria-selected"],index:bt,inputValue:Y},Lt)},Re=Ht.slotProps.clearIndicator,Ve=Ht.slotProps.popupIndicator,Ot=xe=>x.jsx(Kj,{as:tt,...ln,children:x.jsx(qj,{as:Te,...et,children:xe})});let xt=null;return q.length>0?xt=Ot(x.jsx(ie,{as:re,...J,children:q.map((xe,bt)=>H?Hi({key:xe.key,group:xe.group,children:xe.options.map((mt,Ct)=>Wp(mt,xe.index+Ct))}):Wp(xe,bt))})):K&&q.length===0?xt=Ot(x.jsx(Yj,{className:wt.loading,ownerState:Lt,children:Q})):q.length===0&&!b&&!K&&(xt=Ot(x.jsx(Qj,{className:wt.noOptions,ownerState:Lt,role:"presentation",onMouseDown:xe=>{xe.preventDefault()},children:ue}))),x.jsxs(S.Fragment,{children:[x.jsx(Uj,{ref:n,className:Me(wt.root,c),ownerState:Lt,...jt(ht),children:Je({id:Sr,disabled:m,fullWidth:!0,size:dt==="small"?"small":void 0,InputLabelProps:qt(),InputProps:{ref:V,className:wt.inputRoot,startAdornment:Dt,onMouseDown:xe=>{xe.target===xe.currentTarget&&Ne(xe)},...(Pe||Be)&&{endAdornment:x.jsxs(zj,{className:wt.endAdornment,ownerState:Lt,children:[Pe?x.jsx($j,{...St(),"aria-label":p,title:p,ownerState:Lt,...Re,className:Me(wt.clearIndicator,Re==null?void 0:Re.className),children:u}):null,Be?x.jsx(jj,{...Fe(),disabled:m,"aria-label":qr?f:ae,title:qr?f:ae,ownerState:Lt,...Ve,className:Me(wt.popupIndicator,Ve==null?void 0:Ve.className),children:Le}):null]})}},inputProps:{className:wt.input,disabled:m,readOnly:$e,...lr()}})}),B?xt:null]})}),eK={entering:{opacity:1},entered:{opacity:1}},tK=S.forwardRef(function(t,n){const r=Dv(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:C,style:y,timeout:g=i,TransitionComponent:v=ko,...m}=t,w=S.useRef(null),E=Vn(w,mp(a),n),P=O=>_=>{if(O){const N=w.current;_===void 0?O(N):O(N,_)}},A=P(h),R=P((O,_)=>{DM(O);const N=cu({style:y,timeout:g,easing:l},{mode:"enter"});O.style.webkitTransition=r.transitions.create("opacity",N),O.style.transition=r.transitions.create("opacity",N),u&&u(O,_)}),T=P(d),b=P(C),I=P(O=>{const _=cu({style:y,timeout:g,easing:l},{mode:"exit"});O.style.webkitTransition=r.transitions.create("opacity",_),O.style.transition=r.transitions.create("opacity",_),p&&p(O)}),D=P(f),F=O=>{o&&o(w.current,O)};return x.jsx(v,{appear:s,in:c,nodeRef:w,onEnter:R,onEntered:T,onEntering:A,onExit:I,onExited:D,onExiting:b,addEndListener:F,timeout:g,...m,children:(O,{ownerState:_,...N})=>S.cloneElement(a,{style:{opacity:0,visibility:O==="exited"&&!c?"hidden":void 0,...eK[O],...y,...a.props.style},ref:E,...N})})});function nK(e){return at("MuiBackdrop",e)}it("MuiBackdrop",["root","invisible"]);const rK=e=>{const{classes:t,invisible:n}=e;return ct({root:["root",n&&"invisible"]},nK,t)},iK=Se("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),oK=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:f,...C}=r,y={...r,component:s,invisible:a},g=rK(y),v={transition:p,root:c.Root,...h},m={...u,...d},w={slots:v,slotProps:m},[E,P]=xr("root",{elementType:iK,externalForwardedProps:w,className:Me(g.root,o),ownerState:y}),[A,R]=xr("transition",{elementType:tK,externalForwardedProps:w,ownerState:y});return x.jsx(A,{in:l,timeout:f,...C,...R,children:x.jsx(E,{"aria-hidden":!0,...P,classes:g,ref:n,children:i})})}),sK=it("MuiBox",["root"]),aK=IM(),Xn=MU({themeId:nv,defaultTheme:aK,defaultClassName:sK.root,generateClassName:lM.generate});function lK(e){return at("MuiButton",e)}const nc=it("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),cK=S.createContext({}),uK=S.createContext(void 0),dK=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${ye(t)}`,`size${ye(i)}`,`${o}Size${ye(i)}`,`color${ye(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ye(i)}`],endIcon:["icon","endIcon",`iconSize${ye(i)}`]},l=ct(a,lK,s);return{...s,...l}},zM=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],hK=Se(_h,{shouldForwardProp:e=>Mo(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ye(n.color)}`],t[`size${ye(n.size)}`],t[`${n.variant}Size${ye(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(st(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${nc.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${nc.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${nc.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${nc.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(ri()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Zt(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${nc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${nc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),pK=Se("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${ye(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...zM]}),fK=Se("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${ye(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...zM]}),Kn=S.forwardRef(function(t,n){const r=S.useContext(cK),i=S.useContext(uK),o=Nh(r,t),s=ut({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:C,fullWidth:y=!1,size:g="medium",startIcon:v,type:m,variant:w="text",...E}=s,P={...s,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:y,size:g,type:m,variant:w},A=dK(P),R=v&&x.jsx(pK,{className:A.startIcon,ownerState:P,children:v}),T=f&&x.jsx(fK,{className:A.endIcon,ownerState:P,children:f}),b=i||"";return x.jsxs(hK,{ownerState:P,className:Me(r.className,A.root,u,b),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:Me(A.focusVisible,C),ref:n,type:m,...E,classes:A,children:[R,a,T]})});function gK(e){return at("MuiCircularProgress",e)}it("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ks=44,cw=hp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,uw=hp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,mK=typeof cw!="string"?PR`
        animation: ${cw} 1.4s linear infinite;
      `:null,vK=typeof uw!="string"?PR`
        animation: ${uw} 1.4s ease-in-out infinite;
      `:null,CK=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${ye(r)}`],svg:["svg"],circle:["circle",`circle${ye(n)}`,i&&"circleDisableShrink"]};return ct(o,gK,t)},yK=Se("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ye(n.color)}`]]}})(st(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:mK||{animation:`${cw} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ri()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),SK=Se("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),wK=Se("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ye(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(st(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:vK||{animation:`${uw} 1.4s ease-in-out infinite`}}]}))),$M=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d},f=CK(p),C={},y={},g={};if(d==="determinate"){const v=2*Math.PI*((Ks-c)/2);C.strokeDasharray=v.toFixed(3),g["aria-valuenow"]=Math.round(u),C.strokeDashoffset=`${((100-u)/100*v).toFixed(3)}px`,y.transform="rotate(-90deg)"}return x.jsx(yK,{className:Me(f.root,i),style:{width:a,height:a,...y,...l},ownerState:p,ref:n,role:"progressbar",...g,...h,children:x.jsx(SK,{className:f.svg,ownerState:p,viewBox:`${Ks/2} ${Ks/2} ${Ks} ${Ks}`,children:x.jsx(wK,{className:f.circle,style:C,ownerState:p,cx:Ks,cy:Ks,r:(Ks-c)/2,fill:"none",strokeWidth:c})})})});function bK(e){const t=Mi(e);return t.body===e?Ns(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Yd(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function AI(e){return parseInt(Ns(e).getComputedStyle(e).paddingRight,10)||0}function RK(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function II(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=!o.includes(s),l=!RK(s);a&&l&&Yd(s,i)})}function ty(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function EK(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(bK(r)){const s=mM(Ns(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${AI(r)+s}px`;const a=Mi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${AI(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Mi(r).body;else{const s=r.parentElement,a=Ns(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function PK(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class TK{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Yd(t.modalRef,!1);const i=PK(n);II(n,t.mount,t.modalRef,i,!0);const o=ty(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=ty(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=EK(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=ty(this.containers,s=>s.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Yd(t.modalRef,n),II(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Yd(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const AK=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function IK(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function xK(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function DK(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||xK(e))}function FK(e){const t=[],n=[];return Array.from(e.querySelectorAll(AK)).forEach((r,i)=>{const o=IK(r);o===-1||!DK(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function OK(){return!0}function MK(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=FK,isEnabled:s=OK,open:a}=e,l=S.useRef(!1),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=S.useRef(!1),f=S.useRef(null),C=Vn(mp(t),f),y=S.useRef(null);S.useEffect(()=>{!a||!f.current||(p.current=!n)},[n,a]),S.useEffect(()=>{if(!a||!f.current)return;const m=Mi(f.current);return f.current.contains(m.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),S.useEffect(()=>{if(!a||!f.current)return;const m=Mi(f.current),w=A=>{y.current=A,!(r||!s()||A.key!=="Tab")&&m.activeElement===f.current&&A.shiftKey&&(l.current=!0,u.current&&u.current.focus())},E=()=>{var T,b;const A=f.current;if(A===null)return;if(!m.hasFocus()||!s()||l.current){l.current=!1;return}if(A.contains(m.activeElement)||r&&m.activeElement!==c.current&&m.activeElement!==u.current)return;if(m.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let R=[];if((m.activeElement===c.current||m.activeElement===u.current)&&(R=o(f.current)),R.length>0){const I=!!((T=y.current)!=null&&T.shiftKey&&((b=y.current)==null?void 0:b.key)==="Tab"),D=R[0],F=R[R.length-1];typeof D!="string"&&typeof F!="string"&&(I?F.focus():D.focus())}else A.focus()};m.addEventListener("focusin",E),m.addEventListener("keydown",w,!0);const P=setInterval(()=>{m.activeElement&&m.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(P),m.removeEventListener("focusin",E),m.removeEventListener("keydown",w,!0)}},[n,r,i,s,a,o]);const g=m=>{d.current===null&&(d.current=m.relatedTarget),p.current=!0,h.current=m.target;const w=t.props.onFocus;w&&w(m)},v=m=>{d.current===null&&(d.current=m.relatedTarget),p.current=!0};return x.jsxs(S.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),S.cloneElement(t,{ref:C,onFocus:g}),x.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})}function kK(e){return typeof e=="function"?e():e}function LK(e){return e?e.props.hasOwnProperty("in"):!1}const xI=()=>{},pf=new TK;function NK(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:c,rootRef:u}=e,d=S.useRef({}),h=S.useRef(null),p=S.useRef(null),f=Vn(p,u),[C,y]=S.useState(!c),g=LK(a);let v=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(v=!1);const m=()=>Mi(h.current),w=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),E=()=>{pf.mount(w(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},P=Yo(()=>{const _=kK(t)||m().body;pf.add(w(),_),p.current&&E()}),A=()=>pf.isTopModal(w()),R=Yo(_=>{h.current=_,_&&(c&&A()?E():p.current&&Yd(p.current,v))}),T=S.useCallback(()=>{pf.remove(w(),v)},[v]);S.useEffect(()=>()=>{T()},[T]),S.useEffect(()=>{c?P():(!g||!i)&&T()},[c,T,g,i,P]);const b=_=>N=>{var H;(H=_.onKeyDown)==null||H.call(_,N),!(N.key!=="Escape"||N.which===229||!A())&&(n||(N.stopPropagation(),l&&l(N,"escapeKeyDown")))},I=_=>N=>{var H;(H=_.onClick)==null||H.call(_,N),N.target===N.currentTarget&&l&&l(N,"backdropClick")};return{getRootProps:(_={})=>{const N=CM(e);delete N.onTransitionEnter,delete N.onTransitionExited;const H={...N,..._};return{role:"presentation",...H,onKeyDown:b(H),ref:f}},getBackdropProps:(_={})=>{const N=_;return{"aria-hidden":!0,...N,onClick:I(N),open:c}},getTransitionProps:()=>{const _=()=>{y(!1),o&&o()},N=()=>{y(!0),s&&s(),i&&T()};return{onEnter:UA(_,(a==null?void 0:a.props.onEnter)??xI),onExited:UA(N,(a==null?void 0:a.props.onExited)??xI)}},rootRef:f,portalRef:R,isTopModal:A,exited:C,hasTransition:g}}function _K(e){return at("MuiModal",e)}it("MuiModal",["root","hidden","backdrop"]);const BK=e=>{const{open:t,exited:n,classes:r}=e;return ct({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},_K,r)},HK=Se("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(st(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),GK=Se(oK,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),VK=S.forwardRef(function(t,n){const r=ut({name:"MuiModal",props:t}),{BackdropComponent:i=GK,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:f=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:y=!1,disablePortal:g=!1,disableRestoreFocus:v=!1,disableScrollLock:m=!1,hideBackdrop:w=!1,keepMounted:E=!1,onBackdropClick:P,onClose:A,onTransitionEnter:R,onTransitionExited:T,open:b,slotProps:I={},slots:D={},theme:F,...O}=r,_={...r,closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:C,disableEscapeKeyDown:y,disablePortal:g,disableRestoreFocus:v,disableScrollLock:m,hideBackdrop:w,keepMounted:E},{getRootProps:N,getBackdropProps:H,getTransitionProps:L,portalRef:M,isTopModal:ne,exited:oe,hasTransition:G}=NK({..._,rootRef:n}),re={..._,exited:oe},z=BK(re),K={};if(c.props.tabIndex===void 0&&(K.tabIndex="-1"),G){const{onEnter:le,onExited:ve}=L();K.onEnter=le,K.onExited=ve}const Q={...O,slots:{root:h.Root,backdrop:h.Backdrop,...D},slotProps:{...p,...I}},[de,ue]=xr("root",{elementType:HK,externalForwardedProps:Q,getSlotProps:N,additionalProps:{ref:n,as:d},ownerState:re,className:Me(a,z==null?void 0:z.root,!re.open&&re.exited&&(z==null?void 0:z.hidden))}),[X,se]=xr("backdrop",{elementType:i,externalForwardedProps:Q,additionalProps:o,getSlotProps:le=>H({...le,onClick:ve=>{P&&P(ve),le!=null&&le.onClick&&le.onClick(ve)}}),className:Me(o==null?void 0:o.className,z==null?void 0:z.backdrop),ownerState:re}),me=Vn(o==null?void 0:o.ref,se.ref);return!E&&!b&&(!G||oe)?null:x.jsx(VM,{ref:M,container:u,disablePortal:g,children:x.jsxs(de,{...ue,children:[!w&&i?x.jsx(X,{...se,ref:me}):null,x.jsx(MK,{disableEnforceFocus:C,disableAutoFocus:f,disableRestoreFocus:v,isEnabled:ne,open:b,children:S.cloneElement(c,K)})]})})}),WK=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${ye(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},c=ct(l,Gj,t);return{...t,...c}},UK=Se(Lv,{shouldForwardProp:e=>Mo(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Mv(e,t),!n.disableUnderline&&t.underline]}})(st(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Si.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Si.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Si.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Si.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Si.disabled}, .${Si.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Si.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ri()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(e.vars||e).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),zK=Se(Nv,{name:"MuiFilledInput",slot:"Input",overridesResolver:kv})(st(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),KR=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:h={},type:p="text",...f}=r,C={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},y=WK(r),g={root:{ownerState:C},input:{ownerState:C}},v=d??s?ir(g,d??s):g,m=h.root??o.Root??UK,w=h.input??o.Input??zK;return x.jsx(jR,{slots:{root:m,input:w},slotProps:v,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...f,classes:y})});KR.muiName="Input";function $K(e){return at("MuiFormControl",e)}it("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const jK=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${ye(n)}`,r&&"fullWidth"]};return ct(i,$K,t)},KK=Se("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${ye(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),qK=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:C="medium",variant:y="outlined",...g}=r,v={...r,color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:C,variant:y},m=jK(v),[w,E]=S.useState(()=>{let F=!1;return i&&S.Children.forEach(i,O=>{if(!og(O,["Input","Select"]))return;const _=og(O,["Select"])?O.props.input:O;_&&Lj(_.props)&&(F=!0)}),F}),[P,A]=S.useState(()=>{let F=!1;return i&&S.Children.forEach(i,O=>{og(O,["Input","Select"])&&(Xg(O.props,!0)||Xg(O.props.inputProps,!0))&&(F=!0)}),F}),[R,T]=S.useState(!1);l&&R&&T(!1);const b=u!==void 0&&!l?u:R;let I;S.useRef(!1);const D=S.useMemo(()=>({adornedStart:w,setAdornedStart:E,color:s,disabled:l,error:c,filled:P,focused:b,fullWidth:d,hiddenLabel:h,size:C,onBlur:()=>{T(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{T(!0)},registerEffect:I,required:f,variant:y}),[w,s,l,c,P,b,d,h,I,f,C,y]);return x.jsx($R.Provider,{value:D,children:x.jsx(KK,{as:a,ownerState:v,className:Me(m.root,o),ref:n,...g,children:i})})});function YK(e){return at("MuiFormHelperText",e)}const DI=it("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var FI;const QK=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&`size${ye(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return ct(c,YK,t)},XK=Se("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ye(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(st(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${DI.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${DI.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),JK=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:c,focused:u,margin:d,required:h,variant:p,...f}=r,C=Mu(),y=Ou({props:r,muiFormControl:C,states:["variant","size","disabled","error","filled","focused","required"]}),g={...r,component:s,contained:y.variant==="filled"||y.variant==="outlined",variant:y.variant,size:y.size,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required};delete g.ownerState;const v=QK(g);return x.jsx(XK,{as:s,className:Me(v.root,o),ref:n,...f,ownerState:g,children:i===" "?FI||(FI=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function ZK(e){return at("MuiFormLabel",e)}const Qd=it("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),e3=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root",`color${ye(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return ct(l,ZK,t)},t3=Se("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(st(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(ri()).map(([t])=>({props:{color:t},style:{[`&.${Qd.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Qd.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Qd.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),n3=Se("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(st(({theme:e})=>({[`&.${Qd.error}`]:{color:(e.vars||e).palette.error.main}}))),r3=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:c,filled:u,focused:d,required:h,...p}=r,f=Mu(),C=Ou({props:r,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),y={...r,color:C.color||"primary",component:a,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required},g=e3(y);return x.jsxs(t3,{as:a,ownerState:y,className:Me(g.root,o),ref:n,...p,children:[i,C.required&&x.jsxs(n3,{ownerState:y,"aria-hidden":!0,className:g.asterisk,children:["","*"]})]})});function dw(e){return`scale(${e}, ${e**2})`}const i3={entering:{opacity:1,transform:dw(1)},entered:{opacity:1,transform:"none"}},ny=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hw=S.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:C="auto",TransitionComponent:y=ko,...g}=t,v=MR(),m=S.useRef(),w=Dv(),E=S.useRef(null),P=Vn(E,mp(o),n),A=_=>N=>{if(_){const H=E.current;N===void 0?_(H):_(H,N)}},R=A(u),T=A((_,N)=>{DM(_);const{duration:H,delay:L,easing:M}=cu({style:f,timeout:C,easing:s},{mode:"enter"});let ne;C==="auto"?(ne=w.transitions.getAutoHeightDuration(_.clientHeight),m.current=ne):ne=H,_.style.transition=[w.transitions.create("opacity",{duration:ne,delay:L}),w.transitions.create("transform",{duration:ny?ne:ne*.666,delay:L,easing:M})].join(","),l&&l(_,N)}),b=A(c),I=A(p),D=A(_=>{const{duration:N,delay:H,easing:L}=cu({style:f,timeout:C,easing:s},{mode:"exit"});let M;C==="auto"?(M=w.transitions.getAutoHeightDuration(_.clientHeight),m.current=M):M=N,_.style.transition=[w.transitions.create("opacity",{duration:M,delay:H}),w.transitions.create("transform",{duration:ny?M:M*.666,delay:ny?H:H||M*.333,easing:L})].join(","),_.style.opacity=0,_.style.transform=dw(.75),d&&d(_)}),F=A(h),O=_=>{C==="auto"&&v.start(m.current||0,_),r&&r(E.current,_)};return x.jsx(y,{appear:i,in:a,nodeRef:E,onEnter:T,onEntered:b,onEntering:R,onExit:D,onExited:F,onExiting:I,addEndListener:O,timeout:C==="auto"?null:C,...g,children:(_,{ownerState:N,...H})=>S.cloneElement(o,{style:{opacity:0,transform:dw(.75),visibility:_==="exited"&&!a?"hidden":void 0,...i3[_],...f,...o.props.style},ref:P,...H})})});hw&&(hw.muiSupportAuto=!0);const o3=e=>{const{classes:t,disableUnderline:n}=e,i=ct({root:["root",!n&&"underline"],input:["input"]},Bj,t);return{...t,...i}},s3=Se(Lv,{shouldForwardProp:e=>Mo(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Mv(e,t),!n.disableUnderline&&t.underline]}})(st(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sa.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sa.disabled}, .${sa.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${sa.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ri()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),a3=Se(Nv,{name:"MuiInput",slot:"Input",overridesResolver:kv})({}),qR=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...p}=r,f=o3(r),y={root:{ownerState:{disableUnderline:i}}},g=u??s?ir(u??s,y):y,v=d.root??o.Root??s3,m=d.input??o.Input??a3;return x.jsx(jR,{slots:{root:v,input:m},slotProps:g,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:f})});qR.muiName="Input";function l3(e){return at("MuiInputLabel",e)}it("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const c3=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ye(r)}`,s],asterisk:[a&&"asterisk"]},c=ct(l,l3,t);return{...t,...c}},u3=Se(r3,{shouldForwardProp:e=>Mo(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Qd.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(st(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),d3=S.forwardRef(function(t,n){const r=ut({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...c}=r,u=Mu();let d=s;typeof d>"u"&&u&&(d=u.filled||u.focused||u.adornedStart);const h=Ou({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},f=c3(p);return x.jsx(u3,{"data-shrink":d,ref:n,className:Me(f.root,l),...c,ownerState:p,classes:f})}),Xd=S.createContext({});function h3(e){return at("MuiList",e)}it("MuiList",["root","padding","dense","subheader"]);const p3=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return ct({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},h3,t)},f3=Se("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Jg=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,d=S.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=p3(h);return x.jsx(Xd.Provider,{value:d,children:x.jsxs(f3,{as:s,className:Me(p.root,o),ref:n,ownerState:h,...u,children:[c,i]})})});function g3(e){return at("MuiListItem",e)}it("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const m3=it("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function v3(e){return at("MuiListItemSecondaryAction",e)}it("MuiListItemSecondaryAction",["root","disableGutters"]);const C3=e=>{const{disableGutters:t,classes:n}=e;return ct({root:["root",t&&"disableGutters"]},v3,n)},y3=Se("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),jM=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=S.useContext(Xd),a={...r,disableGutters:s.disableGutters},l=C3(a);return x.jsx(y3,{className:Me(l.root,i),ownerState:a,ref:n,...o})});jM.muiName="ListItemSecondaryAction";const S3=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},w3=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return ct({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},g3,n)},b3=Se("div",{name:"MuiListItem",slot:"Root",overridesResolver:S3})(st(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${m3.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),R3=Se("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),pw=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:f=!1,disablePadding:C=!1,divider:y=!1,secondaryAction:g,slotProps:v={},slots:m={},...w}=r,E=S.useContext(Xd),P=S.useMemo(()=>({dense:p||E.dense||!1,alignItems:i,disableGutters:f}),[i,E.dense,p,f]),A=S.useRef(null),R=S.Children.toArray(o),T=R.length&&og(R[R.length-1],["ListItemSecondaryAction"]),b={...r,alignItems:i,dense:P.dense,disableGutters:f,disablePadding:C,divider:y,hasSecondaryAction:T},I=w3(b),D=Vn(A,n),F=m.root||l.Root||b3,O=v.root||c.root||{},_={className:Me(I.root,O.className,s),...w};let N=a||"li";return T?(N=!_.component&&!a?"div":N,u==="li"&&(N==="li"?N="div":_.component==="li"&&(_.component="div")),x.jsx(Xd.Provider,{value:P,children:x.jsxs(R3,{as:u,className:Me(I.container,d),ref:D,ownerState:b,...h,children:[x.jsx(F,{...O,...!Gh(F)&&{as:N,ownerState:{...b,...O.ownerState}},..._,children:R}),R.pop()]})})):x.jsx(Xd.Provider,{value:P,children:x.jsxs(F,{...O,as:N,ref:D,...!Gh(F)&&{ownerState:{...b,...O.ownerState}},..._,children:[R,g&&x.jsx(jM,{children:g})]})})});function ry(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function OI(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function KM(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function ad(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!KM(a,o)||l)a=i(e,a,n);else return a.focus(),!0}return!1}const E3=S.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=t,p=S.useRef(null),f=S.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ls(()=>{i&&p.current.focus()},[i]),S.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(m,{direction:w})=>{const E=!p.current.style.width;if(m.clientHeight<p.current.clientHeight&&E){const P=`${mM(Ns(m))}px`;p.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=P,p.current.style.width=`calc(100% + ${P})`}return p.current}}),[]);const C=m=>{const w=p.current,E=m.key;if(m.ctrlKey||m.metaKey||m.altKey){u&&u(m);return}const A=Mi(w).activeElement;if(E==="ArrowDown")m.preventDefault(),ad(w,A,c,l,ry);else if(E==="ArrowUp")m.preventDefault(),ad(w,A,c,l,OI);else if(E==="Home")m.preventDefault(),ad(w,null,c,l,ry);else if(E==="End")m.preventDefault(),ad(w,null,c,l,OI);else if(E.length===1){const R=f.current,T=E.toLowerCase(),b=performance.now();R.keys.length>0&&(b-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&T!==R.keys[0]&&(R.repeating=!1)),R.lastTime=b,R.keys.push(T);const I=A&&!R.repeating&&KM(A,R);R.previousKeyMatched&&(I||ad(w,A,!1,l,ry,R))?m.preventDefault():R.previousKeyMatched=!1}u&&u(m)},y=Vn(p,n);let g=-1;S.Children.forEach(s,(m,w)=>{if(!S.isValidElement(m)){g===w&&(g+=1,g>=s.length&&(g=-1));return}m.props.disabled||(d==="selectedMenu"&&m.props.selected||g===-1)&&(g=w),g===w&&(m.props.disabled||m.props.muiSkipListHighlight||m.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))});const v=S.Children.map(s,(m,w)=>{if(w===g){const E={};return o&&(E.autoFocus=!0),m.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),S.cloneElement(m,E)}return m});return x.jsx(Jg,{role:"menu",ref:y,className:a,onKeyDown:C,tabIndex:i?0:-1,...h,children:v})});function P3(e){return at("MuiPopover",e)}it("MuiPopover",["root","paper"]);function MI(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function kI(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function LI(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function iy(e){return typeof e=="function"?e():e}const T3=e=>{const{classes:t}=e;return ct({root:["root"],paper:["paper"]},P3,t)},A3=Se(VK,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qM=Se(Wl,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),I3=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:f,PaperProps:C={},slots:y={},slotProps:g={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:m=hw,transitionDuration:w="auto",TransitionProps:{onEntering:E,...P}={},disableScrollLock:A=!1,...R}=r,T=(g==null?void 0:g.paper)??C,b=S.useRef(),I={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,externalPaperSlotProps:T,transformOrigin:v,TransitionComponent:m,transitionDuration:w,TransitionProps:P},D=T3(I),F=S.useCallback(()=>{if(l==="anchorPosition")return a;const se=iy(o),le=(se&&se.nodeType===1?se:Mi(b.current).body).getBoundingClientRect();return{top:le.top+MI(le,s.vertical),left:le.left+kI(le,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),O=S.useCallback(se=>({vertical:MI(se,v.vertical),horizontal:kI(se,v.horizontal)}),[v.horizontal,v.vertical]),_=S.useCallback(se=>{const me={width:se.offsetWidth,height:se.offsetHeight},le=O(me);if(l==="none")return{top:null,left:null,transformOrigin:LI(le)};const ve=F();let Ce=ve.top-le.vertical,he=ve.left-le.horizontal;const ae=Ce+me.height,Xe=he+me.width,Ae=Ns(iy(o)),Ye=Ae.innerHeight-p,Le=Ae.innerWidth-p;if(p!==null&&Ce<p){const $e=Ce-p;Ce-=$e,le.vertical+=$e}else if(p!==null&&ae>Ye){const $e=ae-Ye;Ce-=$e,le.vertical+=$e}if(p!==null&&he<p){const $e=he-p;he-=$e,le.horizontal+=$e}else if(Xe>Le){const $e=Xe-Le;he-=$e,le.horizontal+=$e}return{top:`${Math.round(Ce)}px`,left:`${Math.round(he)}px`,transformOrigin:LI(le)}},[o,l,F,O,p]),[N,H]=S.useState(f),L=S.useCallback(()=>{const se=b.current;if(!se)return;const me=_(se);me.top!==null&&se.style.setProperty("top",me.top),me.left!==null&&(se.style.left=me.left),se.style.transformOrigin=me.transformOrigin,H(!0)},[_]);S.useEffect(()=>(A&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)),[o,A,L]);const M=(se,me)=>{E&&E(se,me),L()},ne=()=>{H(!1)};S.useEffect(()=>{f&&L()}),S.useImperativeHandle(i,()=>f?{updatePosition:()=>{L()}}:null,[f,L]),S.useEffect(()=>{if(!f)return;const se=fM(()=>{L()}),me=Ns(o);return me.addEventListener("resize",se),()=>{se.clear(),me.removeEventListener("resize",se)}},[o,f,L]);let oe=w;w==="auto"&&!m.muiSupportAuto&&(oe=void 0);const G=d||(o?Mi(iy(o)).body:void 0),re={slots:y,slotProps:{...g,paper:T}},[z,K]=xr("paper",{elementType:qM,externalForwardedProps:re,additionalProps:{elevation:h,className:Me(D.paper,T==null?void 0:T.className),style:N?T.style:{...T.style,opacity:0}},ownerState:I}),[Q,{slotProps:de,...ue}]=xr("root",{elementType:A3,externalForwardedProps:re,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:G,open:f},ownerState:I,className:Me(D.root,u)}),X=Vn(b,K.ref);return x.jsx(Q,{...ue,...!Gh(Q)&&{slotProps:de,disableScrollLock:A},...R,ref:n,children:x.jsx(m,{appear:!0,in:f,onEntering:M,onExited:ne,timeout:oe,...P,children:x.jsx(z,{...K,ref:X,children:c})})})});function x3(e){return at("MuiMenu",e)}it("MuiMenu",["root","paper","list"]);const D3={vertical:"top",horizontal:"right"},F3={vertical:"top",horizontal:"left"},O3=e=>{const{classes:t}=e;return ct({root:["root"],paper:["paper"],list:["list"]},x3,t)},M3=Se(I3,{shouldForwardProp:e=>Mo(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),k3=Se(qM,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),L3=Se(E3,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),N3=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:f,...C}={},variant:y="selectedMenu",slots:g={},slotProps:v={},...m}=r,w=wM(),E={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:f,PaperProps:d,transitionDuration:p,TransitionProps:C,variant:y},P=O3(E),A=i&&!a&&u,R=S.useRef(null),T=(N,H)=>{R.current&&R.current.adjustStyleForScrollbar(N,{direction:w?"rtl":"ltr"}),f&&f(N,H)},b=N=>{N.key==="Tab"&&(N.preventDefault(),c&&c(N,"tabKeyDown"))};let I=-1;S.Children.map(o,(N,H)=>{S.isValidElement(N)&&(N.props.disabled||(y==="selectedMenu"&&N.props.selected||I===-1)&&(I=H))});const D=g.paper??k3,F=v.paper??d,O=XS({elementType:g.root,externalSlotProps:v.root,ownerState:E,className:[P.root,s]}),_=XS({elementType:D,externalSlotProps:F,ownerState:E,className:P.paper});return x.jsx(M3,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?D3:F3,slots:{paper:D,root:g.root},slotProps:{root:O,paper:_},open:u,ref:n,transitionDuration:p,TransitionProps:{onEntering:T,...C},ownerState:E,...m,classes:h,children:x.jsx(L3,{onKeyDown:b,actions:R,autoFocus:i&&(I===-1||a),autoFocusItem:A,variant:y,...l,className:Me(P.list,l.className),children:o})})});function _3(e){return at("MuiNativeSelect",e)}const YR=it("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),B3=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ye(n)}`,o&&"iconOpen",r&&"disabled"]};return ct(a,_3,t)},YM=Se("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${YR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),H3=Se(YM,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Mo,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${YR.multiple}`]:t.multiple}]}})({}),QM=Se("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${YR.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),G3=Se(QM,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ye(n.variant)}`],n.open&&t.iconOpen]}})({}),V3=S.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=t,u={...t,disabled:i,variant:l,error:o},d=B3(u);return x.jsxs(S.Fragment,{children:[x.jsx(H3,{ownerState:u,className:Me(d.select,r),disabled:i,ref:a||n,...c}),t.multiple?null:x.jsx(G3,{as:s,ownerState:u,className:d.icon})]})});var NI;const W3=Se("fieldset",{shouldForwardProp:Mo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),U3=Se("legend",{shouldForwardProp:Mo})(st(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function z3(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=i!=null&&i!=="",l={...e,notched:o,withLabel:a};return x.jsx(W3,{"aria-hidden":!0,className:r,ownerState:l,...s,children:x.jsx(U3,{ownerState:l,children:a?x.jsx("span",{children:i}):NI||(NI=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const $3=e=>{const{classes:t}=e,r=ct({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Hj,t);return{...t,...r}},j3=Se(Lv,{shouldForwardProp:e=>Mo(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Mv})(st(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ui.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ui.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Ui.focused} .${Ui.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(ri()).map(([n])=>({props:{color:n},style:{[`&.${Ui.focused} .${Ui.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Ui.error} .${Ui.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ui.disabled} .${Ui.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),K3=Se(z3,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(st(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),q3=Se(Nv,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:kv})(st(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),QR=S.forwardRef(function(t,n){var r;const i=ut({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...p}=i,f=$3(i),C=Mu(),y=Ou({props:i,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),g={...i,color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:C,fullWidth:s,hiddenLabel:y.hiddenLabel,multiline:c,size:y.size,type:h},v=d.root??o.Root??j3,m=d.input??o.Input??q3;return x.jsx(jR,{slots:{root:v,input:m},renderSuffix:w=>x.jsx(K3,{ownerState:g,className:f.notchedOutline,label:l!=null&&l!==""&&y.required?r||(r=x.jsxs(S.Fragment,{children:[l,"","*"]})):l,notched:typeof u<"u"?u:!!(w.startAdornment||w.filled||w.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...f,notchedOutline:null}})});QR.muiName="Input";function Y3(e){return at("MuiSelect",e)}const ld=it("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _I;const Q3=Se(YM,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${ld.select}`]:t.select},{[`&.${ld.select}`]:t[n.variant]},{[`&.${ld.error}`]:t.error},{[`&.${ld.multiple}`]:t.multiple}]}})({[`&.${ld.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),X3=Se(QM,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ye(n.variant)}`],n.open&&t.iconOpen]}})({}),J3=Se("input",{shouldForwardProp:e=>xM(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function BI(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Z3(e){return e==null||typeof e=="string"&&!e.trim()}const e5=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ye(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ct(a,Y3,t)},t5=S.forwardRef(function(t,n){var qt;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:p=!1,IconComponent:f,inputRef:C,labelId:y,MenuProps:g={},multiple:v,name:m,onBlur:w,onChange:E,onClose:P,onFocus:A,onOpen:R,open:T,readOnly:b,renderValue:I,required:D,SelectDisplayProps:F={},tabIndex:O,type:_,value:N,variant:H="standard",...L}=t,[M,ne]=Kc({controlled:N,default:u,name:"Select"}),[oe,G]=Kc({controlled:T,default:c,name:"Select"}),re=S.useRef(null),z=S.useRef(null),[K,Q]=S.useState(null),{current:de}=S.useRef(T!=null),[ue,X]=S.useState(),se=Vn(n,C),me=S.useCallback(Fe=>{z.current=Fe,Fe&&Q(Fe)},[]),le=K==null?void 0:K.parentNode;S.useImperativeHandle(se,()=>({focus:()=>{z.current.focus()},node:re.current,value:M}),[M]),S.useEffect(()=>{c&&oe&&K&&!de&&(X(s?null:le.clientWidth),z.current.focus())},[K,s]),S.useEffect(()=>{o&&z.current.focus()},[o]),S.useEffect(()=>{if(!y)return;const Fe=Mi(z.current).getElementById(y);if(Fe){const St=()=>{getSelection().isCollapsed&&z.current.focus()};return Fe.addEventListener("click",St),()=>{Fe.removeEventListener("click",St)}}},[y]);const ve=(Fe,St)=>{Fe?R&&R(St):P&&P(St),de||(X(s?null:le.clientWidth),G(Fe))},Ce=Fe=>{Fe.button===0&&(Fe.preventDefault(),z.current.focus(),ve(!0,Fe))},he=Fe=>{ve(!1,Fe)},ae=S.Children.toArray(a),Xe=Fe=>{const St=ae.find(Yt=>Yt.props.value===Fe.target.value);St!==void 0&&(ne(St.props.value),E&&E(Fe,St))},Ae=Fe=>St=>{let Yt;if(St.currentTarget.hasAttribute("tabindex")){if(v){Yt=Array.isArray(M)?M.slice():[];const jr=M.indexOf(Fe.props.value);jr===-1?Yt.push(Fe.props.value):Yt.splice(jr,1)}else Yt=Fe.props.value;if(Fe.props.onClick&&Fe.props.onClick(St),M!==Yt&&(ne(Yt),E)){const jr=St.nativeEvent||St,Kr=new jr.constructor(jr.type,jr);Object.defineProperty(Kr,"target",{writable:!0,value:{value:Yt,name:m}}),E(Kr,Fe)}v||ve(!1,St)}},Ye=Fe=>{b||[" ","ArrowUp","ArrowDown","Enter"].includes(Fe.key)&&(Fe.preventDefault(),ve(!0,Fe))},Le=K!==null&&oe,$e=Fe=>{!Le&&w&&(Object.defineProperty(Fe,"target",{writable:!0,value:{value:M,name:m}}),w(Fe))};delete L["aria-invalid"];let ge,Je;const At=[];let Ze=!1;(Xg({value:M})||h)&&(I?ge=I(M):Ze=!0);const ot=ae.map(Fe=>{if(!S.isValidElement(Fe))return null;let St;if(v){if(!Array.isArray(M))throw new Error(ks(2));St=M.some(Yt=>BI(Yt,Fe.props.value)),St&&Ze&&At.push(Fe.props.children)}else St=BI(M,Fe.props.value),St&&Ze&&(Je=Fe.props.children);return S.cloneElement(Fe,{"aria-selected":St?"true":"false",onClick:Ae(Fe),onKeyUp:Yt=>{Yt.key===" "&&Yt.preventDefault(),Fe.props.onKeyUp&&Fe.props.onKeyUp(Yt)},role:"option",selected:St,value:void 0,"data-value":Fe.props.value})});Ze&&(v?At.length===0?ge=null:ge=At.reduce((Fe,St,Yt)=>(Fe.push(St),Yt<At.length-1&&Fe.push(", "),Fe),[]):ge=Je);let dt=ue;!s&&de&&K&&(dt=le.clientWidth);let yt;typeof O<"u"?yt=O:yt=d?null:0;const lt=F.id||(m?`mui-component-select-${m}`:void 0),Wt={...t,variant:H,value:M,open:Le,error:p},ht=e5(Wt),jt={...g.PaperProps,...(qt=g.slotProps)==null?void 0:qt.paper},lr=FR();return x.jsxs(S.Fragment,{children:[x.jsx(Q3,{as:"div",ref:me,tabIndex:yt,role:"combobox","aria-controls":lr,"aria-disabled":d?"true":void 0,"aria-expanded":Le?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[y,lt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":D?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Ye,onMouseDown:d||b?null:Ce,onBlur:$e,onFocus:A,...F,ownerState:Wt,className:Me(F.className,ht.select,l),id:lt,children:Z3(ge)?_I||(_I=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ge}),x.jsx(J3,{"aria-invalid":p,value:Array.isArray(M)?M.join(","):M,name:m,ref:re,"aria-hidden":!0,onChange:Xe,tabIndex:-1,disabled:d,className:ht.nativeInput,autoFocus:o,required:D,...L,ownerState:Wt}),x.jsx(X3,{as:f,className:ht.icon,ownerState:Wt}),x.jsx(N3,{id:`menu-${m||""}`,anchorEl:le,open:Le,onClose:he,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...g,MenuListProps:{"aria-labelledby":y,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:lr,...g.MenuListProps},slotProps:{...g.slotProps,paper:{...jt,style:{minWidth:dt,...jt!=null?jt.style:null}}},children:ot})]})}),n5=e=>{const{classes:t}=e;return t},XR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Mo(e)&&e!=="variant",slot:"Root"},r5=Se(qR,XR)(""),i5=Se(QR,XR)(""),o5=Se(KR,XR)(""),XM=S.forwardRef(function(t,n){const r=ut({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=UM,id:d,input:h,inputProps:p,label:f,labelId:C,MenuProps:y,multiple:g=!1,native:v=!1,onClose:m,onOpen:w,open:E,renderValue:P,SelectDisplayProps:A,variant:R="outlined",...T}=r,b=v?V3:t5,I=Mu(),D=Ou({props:r,muiFormControl:I,states:["variant","error"]}),F=D.variant||R,O={...r,variant:F,classes:s},_=n5(O),{root:N,...H}=_,L=h||{standard:x.jsx(r5,{ownerState:O}),outlined:x.jsx(i5,{label:f,ownerState:O}),filled:x.jsx(o5,{ownerState:O})}[F],M=Vn(n,mp(L));return x.jsx(S.Fragment,{children:S.cloneElement(L,{inputComponent:b,inputProps:{children:o,error:D.error,IconComponent:u,variant:F,type:void 0,multiple:g,...v?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:C,MenuProps:y,onClose:m,onOpen:w,open:E,renderValue:P,SelectDisplayProps:{id:d,...A}},...p,classes:p?ir(H,p.classes):H,...h?h.props.inputProps:{}},...(g&&v||c)&&F==="outlined"?{notched:!0}:{},ref:M,className:Me(L.props.className,a,_.root),...!h&&{variant:F},...T})})});XM.muiName="Select";const s5=Cz({createStyledComponent:Se("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>ut({props:e,name:"MuiStack"})}),JM=S.createContext();function a5(e){return at("MuiTable",e)}it("MuiTable",["root","stickyHeader"]);const l5=e=>{const{classes:t,stickyHeader:n}=e;return ct({root:["root",n&&"stickyHeader"]},a5,t)},c5=Se("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(st(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),HI="table",u5=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTable"}),{className:i,component:o=HI,padding:s="normal",size:a="medium",stickyHeader:l=!1,...c}=r,u={...r,component:o,padding:s,size:a,stickyHeader:l},d=l5(u),h=S.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return x.jsx(JM.Provider,{value:h,children:x.jsx(c5,{as:o,role:o===HI?null:"table",ref:n,className:Me(d.root,i),ownerState:u,...c})})}),_v=S.createContext();function d5(e){return at("MuiTableBody",e)}it("MuiTableBody",["root"]);const h5=e=>{const{classes:t}=e;return ct({root:["root"]},d5,t)},p5=Se("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),f5={variant:"body"},GI="tbody",g5=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTableBody"}),{className:i,component:o=GI,...s}=r,a={...r,component:o},l=h5(a);return x.jsx(_v.Provider,{value:f5,children:x.jsx(p5,{className:Me(l.root,i),as:o,ref:n,role:o===GI?null:"rowgroup",ownerState:a,...s})})});function m5(e){return at("MuiTableCell",e)}const v5=it("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),C5=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${ye(r)}`,i!=="normal"&&`padding${ye(i)}`,`size${ye(o)}`]};return ct(a,m5,t)},y5=Se("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${ye(n.size)}`],n.padding!=="normal"&&t[`padding${ye(n.padding)}`],n.align!=="inherit"&&t[`align${ye(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(st(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?xv(Zt(e.palette.divider,1),.88):Iv(Zt(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${v5.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),cd=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d,...h}=r,p=S.useContext(JM),f=S.useContext(_v),C=f&&f.variant==="head";let y;s?y=s:y=C?"th":"td";let g=l;y==="td"?g=void 0:!g&&C&&(g="col");const v=d||f&&f.variant,m={...r,align:i,component:y,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:v==="head"&&p&&p.stickyHeader,variant:v},w=C5(m);let E=null;return u&&(E=u==="asc"?"ascending":"descending"),x.jsx(y5,{as:y,ref:n,className:Me(w.root,o),"aria-sort":E,scope:g,ownerState:m,...h})});function S5(e){return at("MuiTableContainer",e)}it("MuiTableContainer",["root"]);const w5=e=>{const{classes:t}=e;return ct({root:["root"]},S5,t)},b5=Se("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),ZM=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTableContainer"}),{className:i,component:o="div",...s}=r,a={...r,component:o},l=w5(a);return x.jsx(b5,{ref:n,as:o,className:Me(l.root,i),ownerState:a,...s})});function R5(e){return at("MuiTableHead",e)}it("MuiTableHead",["root"]);const E5=e=>{const{classes:t}=e;return ct({root:["root"]},R5,t)},P5=Se("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),T5={variant:"head"},VI="thead",A5=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTableHead"}),{className:i,component:o=VI,...s}=r,a={...r,component:o},l=E5(a);return x.jsx(_v.Provider,{value:T5,children:x.jsx(P5,{as:o,className:Me(l.root,i),ref:n,role:o===VI?null:"rowgroup",ownerState:a,...s})})});function I5(e){return at("MuiToolbar",e)}it("MuiToolbar",["root","gutters","regular","dense"]);const x5=e=>{const{classes:t,disableGutters:n,variant:r}=e;return ct({root:["root",!n&&"gutters",r]},I5,t)},D5=Se("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(st(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),WI=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular",...l}=r,c={...r,component:o,disableGutters:s,variant:a},u=x5(c);return x.jsx(D5,{as:o,className:Me(u.root,i),ref:n,ownerState:c,...l})});function F5(e){return at("MuiTableRow",e)}const UI=it("MuiTableRow",["root","selected","hover","head","footer"]),O5=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return ct({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},F5,t)},M5=Se("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(st(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${UI.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${UI.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),zI="tr",oy=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTableRow"}),{className:i,component:o=zI,hover:s=!1,selected:a=!1,...l}=r,c=S.useContext(_v),u={...r,component:o,hover:s,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},d=O5(u);return x.jsx(M5,{as:o,ref:n,className:Me(d.root,i),role:o===zI?null:"row",ownerState:u,...l})});function k5(e){return at("MuiTextField",e)}it("MuiTextField",["root"]);const L5={standard:qR,filled:KR,outlined:QR},N5=e=>{const{classes:t}=e;return ct({root:["root"]},k5,t)},_5=Se(qK,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Po=S.forwardRef(function(t,n){const r=ut({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:C,InputLabelProps:y,inputProps:g,InputProps:v,inputRef:m,label:w,maxRows:E,minRows:P,multiline:A=!1,name:R,onBlur:T,onChange:b,onFocus:I,placeholder:D,required:F=!1,rows:O,select:_=!1,SelectProps:N,slots:H={},slotProps:L={},type:M,value:ne,variant:oe="outlined",...G}=r,re={...r,autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:A,required:F,select:_,variant:oe},z=N5(re),K=FR(C),Q=f&&K?`${K}-helper-text`:void 0,de=w&&K?`${K}-label`:void 0,ue=L5[oe],X={slots:H,slotProps:{input:v,inputLabel:y,htmlInput:g,formHelperText:h,select:N,...L}},se={},me=X.slotProps.inputLabel;oe==="outlined"&&(me&&typeof me.shrink<"u"&&(se.notched=me.shrink),se.label=w),_&&((!N||!N.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const[le,ve]=xr("input",{elementType:ue,externalForwardedProps:X,additionalProps:se,ownerState:re}),[Ce,he]=xr("inputLabel",{elementType:d3,externalForwardedProps:X,ownerState:re}),[ae,Xe]=xr("htmlInput",{elementType:"input",externalForwardedProps:X,ownerState:re}),[Ae,Ye]=xr("formHelperText",{elementType:JK,externalForwardedProps:X,ownerState:re}),[Le,$e]=xr("select",{elementType:XM,externalForwardedProps:X,ownerState:re}),ge=x.jsx(le,{"aria-describedby":Q,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:A,name:R,rows:O,maxRows:E,minRows:P,type:M,value:ne,id:K,inputRef:m,onBlur:T,onChange:b,onFocus:I,placeholder:D,inputProps:Xe,slots:{input:H.htmlInput?ae:void 0},...ve});return x.jsxs(_5,{className:Me(z.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:F,color:l,variant:oe,ownerState:re,...G,children:[w!=null&&w!==""&&x.jsx(Ce,{htmlFor:K,id:de,...he,children:w}),_?x.jsx(Le,{"aria-describedby":Q,id:K,labelId:de,value:ne,input:ge,...$e,children:s}):ge,f&&x.jsx(Ae,{id:Q,...Ye,children:f})]})}),ek=[{ENVIRONMENT:"EarlyON-AAD",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev2.edcs5.csc.gov.on.ca/LocationAdmin-AAD",URL2:"https://intra.dev2.edcs5.csc.gov.on.ca/LocationAdmin-AAD",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"Oracle",APP_TYPE:"EARLYON"},{ENVIRONMENT:"EarlyON-CI",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev2.edcs5.csc.gov.on.ca/LocationAdmin-CI",URL2:"https://intra.dev2.edcs5.csc.gov.on.ca/LocationAdmin-CI",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"Oracle",APP_TYPE:"EARLYON"},{ENVIRONMENT:"EDCS-1",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS1",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-1/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-1/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\d\\Files\\EDCS-1\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Inetpub\\wwwroot\\EDCS-1",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\d\\inetpub\\wwwroot\\edcs-1",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Services\\EDCS-1",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-1-PR",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR1",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-1/pr/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-1/pr",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\d\\Files\\EDCS-1\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Inetpub\\wwwroot\\EDCS-1",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\d\\inetpub\\wwwroot\\EDCS-1",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Services\\EDCS-1",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-3",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS3",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-3/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-3/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\D\\Files\\EDCS-3\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\d\\Inetpub\\wwwroot\\EDCS-3",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\D\\inetpub\\wwwroot\\EDCS-3",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\d\\Services\\EDCS-3",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-3-PR",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR3",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-3/pr/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-3/pr",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\D\\Files\\EDCS-3\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapweb03\\D\\Inetpub\\wwwroot\\EDCS-3",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\D\\Inetpub\\wwwroot\\EDCS-3",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\D\\Services\\EDCS-3",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-5",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS5",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-5/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-5/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\D\\Files\\EDCS-5\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\d\\Inetpub\\wwwroot\\EDCS-5",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\D\\inetpub\\wwwroot\\EDCS-5",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\d\\Services\\EDCS-5",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-6",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS6",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-6/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-6/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\D\\Files\\EDCS-6\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Inetpub\\wwwroot\\EDCS-6",WEB_TIER_LOG_FOLDER:"\\\\Cscgikdcapweb01\\d\\inetpub\\wwwroot\\EDCS-6",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Services\\EDCS-6",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-6-PR",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR6",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-6/pr/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-6/pr",EMAIL_NOTIFICATION_FOLDER:` \\\\cscgikdcapmdw11\\Files\\EDCS-6\\Emails
    `,APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Inetpub\\wwwroot\\EDCS-6",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapmdw01\\D\\Inetpub\\wwwroot\\EDCS-6",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Services\\EDCS-6",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-7",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS7",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-7/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-7/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\D\\Files\\EDCS-7\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Inetpub\\wwwroot\\EDCS-7",WEB_TIER_LOG_FOLDER:"\\\\Cscgikdcapweb01\\d\\inetpub\\wwwroot\\EDCS-7",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Services\\EDCS-7",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-7-PR",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR7",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-7/pr/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-7/pr",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\D\\Files\\EDCS-7\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\d\\Inetpub\\wwwroot\\EDCS-7",WEB_TIER_LOG_FOLDER:"\\\\Cscgikdcapweb01\\d\\inetpub\\wwwroot\\EDCS-7",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Services\\EDCS-7",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-8",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS8",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-8/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-8/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\Files\\EDCS-8\\Emails",APP_INETPUB_LOG_FOLDER:"\\t\\\\cscgikdcapweb03\\Files\\EDCS-8\\App\\EDCS",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb03\\Files\\EDCS-8\\Web\\EDCS",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\Files\\EDCS-8\\Services",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-8-PR",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR8",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-8/pr/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-8/pr",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\Files\\EDCS-8\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapweb03\\D\\Inetpub\\wwwroot\\EDCS-8",WEB_TIER_LOG_FOLDER:"\\\\Cscgikdcapweb01\\D\\Inetpub\\wwwroot\\EDCS-8",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\D\\Services\\EDCS-8",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-9",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS9",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs5.csc.gov.on.ca/EDCS-9/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs5.csc.gov.on.ca/EDCS-9/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\Files\\EDCS-9\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapweb03\\D\\Inetpub\\wwwroot\\EDCS-9",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcwhiis11\\d\\inetpub\\wwwroot\\EDCS-9",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Services\\EDCS-9",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-9-PR",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR9",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs5.csc.gov.on.ca/EDCS-9/pr",URL2:"https://intra.dev2.edcs5.csc.gov.on.ca/EDCS-9/pr",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\Files\\EDCS-9\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Inetpub\\wwwroot\\EDCS-9",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcwhiis11\\d\\inetpub\\wwwroot\\EDCS-9",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapweb03\\d\\Services\\EDCS-9",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-QA",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS11",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-QA/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-QA/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\t\\\\cscgikdcapmdw11\\Files\\EDCS-QA",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\Files\\EDCS-QA\\App\\EDCS",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapmdw11\\Files\\EDCS-QA\\Web\\EDCS",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Services\\EDCS-QA",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-QA-PR",HOST:"cscgikdcdbora47.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR11",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-QA/pr",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-QA/pr",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapmdw11\\D\\Files\\EDCS-QA\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Inetpub\\wwwroot\\EDCS-QA",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\d\\inetpub\\wwwroot\\EDCS-QA",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw11\\D\\Services\\EDCS-QA",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-UAT",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1521",DB_NAME:"EDCS12",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-UAT/Main/CSCITPortal.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-UAT/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\Files\\EDCS-UAT\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw15\\D\\Inetpub\\wwwroot\\EDCS-UAT",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\d\\inetpub\\wwwroot\\EDCS-UAT",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw15\\D\\Services\\EDCS-UAT",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-UAT-PR",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1521",DB_NAME:"PR12",USERNAME:"OPS_WRITE",PASSWORD:"qateamrw1#",URL:"https://intra.dev.edcs7.csc.gov.on.ca/EDCS-UAT/pr/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/EDCS-UAT/pr/",EMAIL_NOTIFICATION_FOLDER:"\\\\cscgikdcapweb03\\Files\\EDCS-UAT\\Emails",APP_INETPUB_LOG_FOLDER:"\\\\cscgikdcapmdw15\\D\\Inetpub\\wwwroot\\EDCS-UAT",WEB_TIER_LOG_FOLDER:"\\\\cscgikdcapweb01\\D\\Inetpub\\wwwroot\\EDCS-UAT",APP_SERVICE_LOG_FOLDER:"\\\\cscgikdcapmdw15\\D\\Services\\EDCS-UAT",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-PF-TRAIN",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.training.edcs.csc.gov.on.ca/Main/CSCITPortal.aspx",URL2:"https://www.train.edcs1.csc.gov.on.ca/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-PF-TRAIN-PR",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.training.edcs.csc.gov.on.ca/pr/",URL2:"https://www.train.edcs1.csc.gov.on.ca/pr/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"EDCS-PF-UAT",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.uat.edcs.csc.gov.on.ca/Main/CSCITPortal.aspx",URL2:"https://www.uat.edcs1.csc.gov.on.ca/Main/CSCITPortal.aspx",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"EDCS"},{ENVIRONMENT:"EDCS-PF-UAT-PR",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.uat.edcs.csc.gov.on.ca/pr/",URL2:"https://www.uat.edcs1.csc.gov.on.ca/pr/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"PICASSO"},{ENVIRONMENT:"KeychainForDev",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://cscgigdcwhiis05.cihs.ad.gov.on.ca/KeychainForDev/",URL2:"https://cscgigdcwhiis05.cihs.ad.gov.on.ca/KeychainForDev/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"KEYCHAIN"},{ENVIRONMENT:"Keychain-QA",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://cscgigdcwhiis05.cihs.ad.gov.on.ca/Keychain-QA/",URL2:"https://cscgigdcwhiis05.cihs.ad.gov.on.ca/Keychain-QA/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"KEYCHAIN"},{ENVIRONMENT:"OEN-1",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev.edcs7.csc.gov.on.ca/OEN-1/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/OEN-1/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"OEN"},{ENVIRONMENT:"OEN-2",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev.edcs7.csc.gov.on.ca/OEN-2/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/OEN-2/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"OEN"},{ENVIRONMENT:"OEN-3",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev.edcs7.csc.gov.on.ca/OEN-3/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/OEN-3/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"OEN"},{ENVIRONMENT:"OEN-4",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev.edcs7.csc.gov.on.ca/OEN-4/",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/OEN-4/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"OEN"},{ENVIRONMENT:"OEN-TEST",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.test.oen.edu.gov.on.ca/",URL2:"https://www.test.oen1.edu.gov.on.ca/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"OEN"},{ENVIRONMENT:"OEN-TRAINING",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.training.oen.edu.gov.on.ca/",URL2:"https://www.train.oen1.edu.gov.on.ca/",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"OEN"},{ENVIRONMENT:"OnSIS-1",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev.edcs7.csc.gov.on.ca/OnSIS-1/welcome.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/OnSIS-1/welcome.aspx",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"ONSIS"},{ENVIRONMENT:"OnSIS-2",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://intra.dev.edcs7.csc.gov.on.ca/ONSIS-2/1/Welcome.aspx",URL2:"https://intra.dev2.edcs7.csc.gov.on.ca/OnSIS-2/Welcome.aspx",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"ORACLE",APP_TYPE:"ONSIS"},{ENVIRONMENT:"OpenSIMS-DEV",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://osimsdev-afd.azurefd.net/index.html#/sign-in",URL2:"https://osimsdev-afd.azurefd.net/index.html#/sign-in",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"",APP_TYPE:"OPENSIMS"},{ENVIRONMENT:"OpenSIMS-IST",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://test.opensims.tcu.gov.on.ca/index.html#/sign-in",URL2:"https://test.opensims.tcu.gov.on.ca/index.html#/sign-in",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"",APP_TYPE:"OPENSIMS"},{ENVIRONMENT:"OpenSIMS-PROD",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://www.opensims.tcu.gov.on.ca/index.html",URL2:"https://www.opensims.tcu.gov.on.ca/index.html",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"",APP_TYPE:"OPENSIMS"},{ENVIRONMENT:"OpenSIMS-UAT",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://stage.opensims.tcu.gov.on.ca/index.html",URL2:"https://stage.opensims.tcu.gov.on.ca/index.html",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"0",DB_TYPE:"",APP_TYPE:"OPENSIMS"},{ENVIRONMENT:"RVDEV1",HOST:"cscgikdcdbora48.cihs.gov.on.ca",PORT:"1523",DB_NAME:"RVDEV1",USERNAME:"qa_automation",PASSWORD:"PX6TgbIGSAV+jcjSTOA01g==",URL:"",URL2:"",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"1",DB_TYPE:"ORACLE",APP_TYPE:"ORACLE"},{ENVIRONMENT:"IBM_TRIRIGA-QA1",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://qa1.ecis.edu.gov.on.ca",URL2:"https://qa1.ecis.edu.gov.on.ca",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"",DB_TYPE:"",APP_TYPE:""},{ENVIRONMENT:"IBM_TRIRIGA-QA2",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://qa2.ecis.edu.gov.on.ca",URL2:"https://qa2.ecis.edu.gov.on.ca",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"",DB_TYPE:"",APP_TYPE:""},{ENVIRONMENT:"SHSM_OA-UAT",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://app.powerbi.com/singleSignOn?experience=power-bi&ru=https%3A%2F%2Fapp.powerbi.com%2Fgroups%2Fme%2Fapps%2Fa8f03439-3d1b-4106-852d-9001b1f9d245%2Freports%2F7d81b5dc-3f89-44af-ab71-2a497b054737%2Fec3953b0789f21be176e%3Fexperience%3Dpower-bi%26noSignUpCheck%3D1",URL2:"https://app.powerbi.com/singleSignOn?experience=power-bi&ru=https%3A%2F%2Fapp.powerbi.com%2Fgroups%2Fme%2Fapps%2Fa8f03439-3d1b-4106-852d-9001b1f9d245%2Freports%2F7d81b5dc-3f89-44af-ab71-2a497b054737%2Fec3953b0789f21be176e%3Fexperience%3Dpower-bi%26noSignUpCheck%3D1",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"",DB_TYPE:"",APP_TYPE:""},{ENVIRONMENT:"SHSM_OA-POC",HOST:"",PORT:"",DB_NAME:"",USERNAME:"",PASSWORD:"",URL:"https://app.powerbi.com/singleSignOn?experience=power-bi&ru=https%3A%2F%2Fapp.powerbi.com%2Fgroups%2Fme%2Fapps%2Fb6d05341-9858-406b-8381-18df509cbced%2Freports%2F65317479-ddbb-4888-b55a-b124f34d9da9%2Fec3953b0789f21be176e%3Fexperience%3Dpower-bi%26noSignUpCheck%3D1",URL2:"https://app.powerbi.com/singleSignOn?experience=power-bi&ru=https%3A%2F%2Fapp.powerbi.com%2Fgroups%2Fme%2Fapps%2Fb6d05341-9858-406b-8381-18df509cbced%2Freports%2F65317479-ddbb-4888-b55a-b124f34d9da9%2Fec3953b0789f21be176e%3Fexperience%3Dpower-bi%26noSignUpCheck%3D1",EMAIL_NOTIFICATION_FOLDER:"",APP_INETPUB_LOG_FOLDER:"",WEB_TIER_LOG_FOLDER:"",APP_SERVICE_LOG_FOLDER:"",IS_PASSWORD_ENCRYPTED:"",DB_TYPE:"",APP_TYPE:""}];/*! @azure/msal-common v14.16.0 2024-11-05 */const Z={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},ff={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},xa=[Z.OPENID_SCOPE,Z.PROFILE_SCOPE,Z.OFFLINE_ACCESS_SCOPE],$I=[...xa,Z.EMAIL_SCOPE],Br={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},er={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Sa={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},gf={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},nr={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},jI={PLAIN:"plain",S256:"S256"},yp={QUERY:"query",FRAGMENT:"fragment"},B5={...yp,FORM_POST:"form_post"},tk={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},mf={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ir={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},qe={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},JR="appmetadata",H5="client_info",Jd="1",Zg={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},gi={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},ur={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Kt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Zd={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},KI={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},qI={username:"username",password:"password"},vf={httpSuccess:200,httpBadRequest:400},rc={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},sy={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Xs={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},G5={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},V5=300;/*! @azure/msal-common v14.16.0 2024-11-05 */const ZR="unexpected_error",W5="post_request_failed";/*! @azure/msal-common v14.16.0 2024-11-05 */const YI={[ZR]:"Unexpected error in authentication.",[W5]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class fn extends Error{constructor(t,n,r){const i=n?`${t}: ${n}`:t;super(i),Object.setPrototypeOf(this,fn.prototype),this.errorCode=t||Z.EMPTY_STRING,this.errorMessage=n||Z.EMPTY_STRING,this.subError=r||Z.EMPTY_STRING,this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function nk(e,t){return new fn(e,t?`${YI[e]} ${t}`:YI[e])}/*! @azure/msal-common v14.16.0 2024-11-05 */const eE="client_info_decoding_error",rk="client_info_empty_error",tE="token_parsing_error",ik="null_or_empty_token",vs="endpoints_resolution_error",ok="network_error",sk="openid_config_error",ak="hash_not_deserialized",fu="invalid_state",lk="state_mismatch",em="state_not_found",ck="nonce_mismatch",nE="auth_time_not_found",uk="max_age_transpired",U5="multiple_matching_tokens",z5="multiple_matching_accounts",dk="multiple_matching_appMetadata",hk="request_cannot_be_made",pk="cannot_remove_empty_scope",fk="cannot_append_scopeset",fw="empty_input_scopeset",$5="device_code_polling_cancelled",j5="device_code_expired",K5="device_code_unknown_error",rE="no_account_in_silent_request",gk="invalid_cache_record",iE="invalid_cache_environment",gw="no_account_found",mw="no_crypto_object",vw="unexpected_credential_type",q5="invalid_assertion",Y5="invalid_client_credential",bs="token_refresh_required",Q5="user_timeout_reached",mk="token_claims_cnf_required_for_signedjwt",vk="authorization_code_missing_from_server_response",Ck="binding_key_not_removed",yk="end_session_endpoint_not_supported",oE="key_id_missing",X5="no_network_connectivity",J5="user_canceled",Z5="missing_tenant_id_error",vt="method_not_implemented",e4="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.16.0 2024-11-05 */const QI={[eE]:"The client info could not be parsed/decoded correctly",[rk]:"The client info was empty",[tE]:"Token cannot be parsed",[ik]:"The token is null or empty",[vs]:"Endpoints cannot be resolved",[ok]:"Network request failed",[sk]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[ak]:"The hash parameters could not be deserialized",[fu]:"State was not the expected format",[lk]:"State mismatch error",[em]:"State not found",[ck]:"Nonce mismatch error",[nE]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[uk]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[U5]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[z5]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[dk]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[hk]:"Token request cannot be made without authorization code or refresh token.",[pk]:"Cannot remove null or empty scope from ScopeSet",[fk]:"Cannot append ScopeSet",[fw]:"Empty input ScopeSet cannot be processed",[$5]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[j5]:"Device code is expired.",[K5]:"Device code stopped polling for unknown reasons.",[rE]:"Please pass an account object, silent flow is not supported without account information",[gk]:"Cache record object was null or undefined.",[iE]:"Invalid environment when attempting to create cache entry",[gw]:"No account found in cache for given key.",[mw]:"No crypto object detected.",[vw]:"Unexpected credential type.",[q5]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Y5]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[bs]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[Q5]:"User defined timeout for device code polling reached",[mk]:"Cannot generate a POP jwt if the token_claims are not populated",[vk]:"Server response does not contain an authorization code to proceed",[Ck]:"Could not remove the credential's binding key from storage.",[yk]:"The provided authority does not support logout",[oE]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[X5]:"No network connectivity. Check your internet connection.",[J5]:"User cancelled the flow.",[Z5]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[vt]:"This method has not been implemented",[e4]:"The nested app auth bridge is disabled"};class Bv extends fn{constructor(t,n){super(t,n?`${QI[t]}: ${n}`:QI[t]),this.name="ClientAuthError",Object.setPrototypeOf(this,Bv.prototype)}}function pe(e,t){return new Bv(e,t)}/*! @azure/msal-common v14.16.0 2024-11-05 */const tm={createNewGuid:()=>{throw pe(vt)},base64Decode:()=>{throw pe(vt)},base64Encode:()=>{throw pe(vt)},base64UrlEncode:()=>{throw pe(vt)},encodeKid:()=>{throw pe(vt)},async getPublicKeyThumbprint(){throw pe(vt)},async removeTokenBindingKey(){throw pe(vt)},async clearKeystore(){throw pe(vt)},async signJwt(){throw pe(vt)},async hashString(){throw pe(vt)}};/*! @azure/msal-common v14.16.0 2024-11-05 */var Cn;(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"})(Cn||(Cn={}));class Bs{constructor(t,n,r){this.level=Cn.Info;const i=()=>{},o=t||Bs.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Cn.Info,this.correlationId=o.correlationId||Z.EMPTY_STRING,this.packageName=n||Z.EMPTY_STRING,this.packageVersion=r||Z.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Cn.Info}}clone(t,n,r){return new Bs({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,n)}logMessage(t,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Cn[n.logLevel]} - ${t}`;this.executeCallback(n.logLevel,o,n.containsPii||!1)}executeCallback(t,n,r){this.localCallback&&this.localCallback(t,n,r)}error(t,n){this.logMessage(t,{logLevel:Cn.Error,containsPii:!1,correlationId:n||Z.EMPTY_STRING})}errorPii(t,n){this.logMessage(t,{logLevel:Cn.Error,containsPii:!0,correlationId:n||Z.EMPTY_STRING})}warning(t,n){this.logMessage(t,{logLevel:Cn.Warning,containsPii:!1,correlationId:n||Z.EMPTY_STRING})}warningPii(t,n){this.logMessage(t,{logLevel:Cn.Warning,containsPii:!0,correlationId:n||Z.EMPTY_STRING})}info(t,n){this.logMessage(t,{logLevel:Cn.Info,containsPii:!1,correlationId:n||Z.EMPTY_STRING})}infoPii(t,n){this.logMessage(t,{logLevel:Cn.Info,containsPii:!0,correlationId:n||Z.EMPTY_STRING})}verbose(t,n){this.logMessage(t,{logLevel:Cn.Verbose,containsPii:!1,correlationId:n||Z.EMPTY_STRING})}verbosePii(t,n){this.logMessage(t,{logLevel:Cn.Verbose,containsPii:!0,correlationId:n||Z.EMPTY_STRING})}trace(t,n){this.logMessage(t,{logLevel:Cn.Trace,containsPii:!1,correlationId:n||Z.EMPTY_STRING})}tracePii(t,n){this.logMessage(t,{logLevel:Cn.Trace,containsPii:!0,correlationId:n||Z.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Sk="@azure/msal-common",sE="14.16.0";/*! @azure/msal-common v14.16.0 2024-11-05 */const aE={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v14.16.0 2024-11-05 */function Ul(e,t){const n=t4(e);try{const r=t(n);return JSON.parse(r)}catch{throw pe(tE)}}function t4(e){if(!e)throw pe(ik);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!n||n.length<4)throw pe(tE);return n[2]}function wk(e,t){if(t===0||Date.now()-3e5>e+t)throw pe(uk)}/*! @azure/msal-common v14.16.0 2024-11-05 */function os(){return Math.round(new Date().getTime()/1e3)}function Cw(e,t){const n=Number(e)||0;return os()+t>n}function n4(e){return Number(e)>os()}/*! @azure/msal-common v14.16.0 2024-11-05 */function kc(e){return[r4(e),i4(e),o4(e),s4(e),a4(e)].join(Ir.CACHE_KEY_SEPARATOR).toLowerCase()}function Hv(e,t,n,r,i){return{credentialType:qe.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:i}}function Gv(e,t,n,r,i,o,s,a,l,c,u,d,h,p,f){var y,g;const C={homeAccountId:e,credentialType:qe.ACCESS_TOKEN,secret:n,cachedAt:os().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:i,target:o,tokenType:u||Kt.BEARER};if(d&&(C.userAssertionHash=d),c&&(C.refreshOn=c.toString()),p&&(C.requestedClaims=p,C.requestedClaimsHash=f),((y=C.tokenType)==null?void 0:y.toLowerCase())!==Kt.BEARER.toLowerCase())switch(C.credentialType=qe.ACCESS_TOKEN_WITH_AUTH_SCHEME,C.tokenType){case Kt.POP:const v=Ul(n,l);if(!((g=v==null?void 0:v.cnf)!=null&&g.kid))throw pe(mk);C.keyId=v.cnf.kid;break;case Kt.SSH:C.keyId=h}return C}function bk(e,t,n,r,i,o,s){const a={credentialType:qe.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function lE(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function XI(e){return e?lE(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===qe.ACCESS_TOKEN||e.credentialType===qe.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function JI(e){return e?lE(e)&&e.hasOwnProperty("realm")&&e.credentialType===qe.ID_TOKEN:!1}function ZI(e){return e?lE(e)&&e.credentialType===qe.REFRESH_TOKEN:!1}function r4(e){return[e.homeAccountId,e.environment].join(Ir.CACHE_KEY_SEPARATOR).toLowerCase()}function i4(e){const t=e.credentialType===qe.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(Ir.CACHE_KEY_SEPARATOR).toLowerCase()}function o4(e){return(e.target||"").toLowerCase()}function s4(e){return(e.requestedClaimsHash||"").toLowerCase()}function a4(e){return e.tokenType&&e.tokenType.toLowerCase()!==Kt.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function l4(e,t){const n=e.indexOf(ur.CACHE_KEY)===0;let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}function c4(e,t){let n=!1;e&&(n=e.indexOf(Zd.THROTTLING_PREFIX)===0);let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}function u4({environment:e,clientId:t}){return[JR,e,t].join(Ir.CACHE_KEY_SEPARATOR).toLowerCase()}function d4(e,t){return t?e.indexOf(JR)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function h4(e,t){return t?e.indexOf(Zg.CACHE_KEY)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function ex(){return os()+Zg.REFRESH_TIME_SECONDS}function Cf(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function ay(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function tx(e){return e.expiresAt<=os()}/*! @azure/msal-common v14.16.0 2024-11-05 */const Rk="redirect_uri_empty",p4="claims_request_parsing_error",Ek="authority_uri_insecure",xd="url_parse_error",Pk="empty_url_error",Tk="empty_input_scopes_error",Ak="invalid_prompt_value",cE="invalid_claims",Ik="token_request_empty",xk="logout_request_empty",Dk="invalid_code_challenge_method",uE="pkce_params_missing",dE="invalid_cloud_discovery_metadata",Fk="invalid_authority_metadata",Ok="untrusted_authority",Vv="missing_ssh_jwk",Mk="missing_ssh_kid",f4="missing_nonce_authentication_header",g4="invalid_authentication_header",kk="cannot_set_OIDCOptions",Lk="cannot_allow_native_broker",Nk="authority_mismatch";/*! @azure/msal-common v14.16.0 2024-11-05 */const m4={[Rk]:"A redirect URI is required for all calls, and none has been set.",[p4]:"Could not parse the given claims request object.",[Ek]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[xd]:"URL could not be parsed into appropriate segments.",[Pk]:"URL was empty or null.",[Tk]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Ak]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[cE]:"Given claims parameter must be a stringified JSON object.",[Ik]:"Token request was empty and not found in cache.",[xk]:"The logout request was null or undefined.",[Dk]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[uE]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[dE]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Fk]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ok]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Vv]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Mk]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[f4]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[g4]:"Invalid authentication header provided",[kk]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Lk]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Nk]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class hE extends fn{constructor(t){super(t,m4[t]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,hE.prototype)}}function en(e){return new hE(e)}/*! @azure/msal-common v14.16.0 2024-11-05 */class To{static isEmptyObj(t){if(t)try{const n=JSON.parse(t);return Object.keys(n).length===0}catch{}return!0}static startsWith(t,n){return t.indexOf(n)===0}static endsWith(t,n){return t.length>=n.length&&t.lastIndexOf(n)===t.length-n.length}static queryStringToObject(t){const n={},r=t.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(n[i(s)]=i(a))}}),n}static trimArrayEntries(t){return t.map(n=>n.trim())}static removeEmptyStringsFromArray(t){return t.filter(n=>!!n)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,n){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Hn{constructor(t){const n=t?To.trimArrayEntries([...t]):[],r=n?To.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(t){const r=(t||Z.EMPTY_STRING).split(" ");return new Hn(r)}static createSearchScopes(t){const n=new Hn(t);return n.containsOnlyOIDCScopes()?n.removeScope(Z.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}validateInputScopes(t){if(!t||t.length<1)throw en(Tk)}containsScope(t){const n=this.printScopesLowerCase().split(" "),r=new Hn(n);return t?r.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let t=0;return $I.forEach(n=>{this.containsScope(n)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(n=>this.appendScope(n))}catch{throw pe(fk)}}removeScope(t){if(!t)throw pe(pk);this.scopes.delete(t.trim())}removeOIDCScopes(){$I.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw pe(fw);const n=new Set;return t.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(t){if(!t)throw pe(fw);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const n=this.unionScopeSets(t),r=t.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(n=>t.push(n)),t}printScopes(){return this.scopes?this.asArray().join(" "):Z.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.16.0 2024-11-05 */function nm(e,t){if(!e)throw pe(rk);try{const n=t(e);return JSON.parse(n)}catch{throw pe(eE)}}function Lc(e){if(!e)throw pe(eE);const t=e.split(Ir.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Z.EMPTY_STRING:t[1]}}/*! @azure/msal-common v14.16.0 2024-11-05 */function rm(e,t){return!!e&&!!t&&e===t.split(".")[1]}function pE(e,t,n,r){if(r){const{oid:i,sub:o,tid:s,name:a,tfp:l,acr:c}=r,u=s||l||c||"";return{tenantId:u,localAccountId:i||o||"",name:a,isHomeTenant:rm(u,e)}}else return{tenantId:n,localAccountId:t,isHomeTenant:rm(n,e)}}function fE(e,t,n,r){let i=e;if(t){const{isHomeTenant:o,...s}=t;i={...e,...s}}if(n){const{isHomeTenant:o,...s}=pE(e.homeAccountId,e.localAccountId,e.tenantId,n);return i={...i,...s,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v14.16.0 2024-11-05 */const vo={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.16.0 2024-11-05 */function _k(e){return e&&(e.tid||e.tfp||e.acr)||null}/*! @azure/msal-common v14.16.0 2024-11-05 */const Ps={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.16.0 2024-11-05 */class Qn{generateAccountId(){return[this.homeAccountId,this.environment].join(Ir.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Qn.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(t=>[t.tenantId,t]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(t){const n=t.homeAccountId.split(".")[1];return[t.homeAccountId,t.environment||"",n||t.tenantId||""].join(Ir.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(t,n,r){var c,u,d,h,p,f;const i=new Qn;n.authorityType===vo.Adfs?i.authorityType=mf.ADFS_ACCOUNT_TYPE:n.protocolMode===Ps.AAD?i.authorityType=mf.MSSTS_ACCOUNT_TYPE:i.authorityType=mf.GENERIC_ACCOUNT_TYPE;let o;t.clientInfo&&r&&(o=nm(t.clientInfo,r)),i.clientInfo=t.clientInfo,i.homeAccountId=t.homeAccountId,i.nativeAccountId=t.nativeAccountId;const s=t.environment||n&&n.getPreferredCache();if(!s)throw pe(iE);i.environment=s,i.realm=(o==null?void 0:o.utid)||_k(t.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((c=t.idTokenClaims)==null?void 0:c.oid)||((u=t.idTokenClaims)==null?void 0:u.sub)||"";const a=((d=t.idTokenClaims)==null?void 0:d.preferred_username)||((h=t.idTokenClaims)==null?void 0:h.upn),l=(p=t.idTokenClaims)!=null&&p.emails?t.idTokenClaims.emails[0]:null;if(i.username=a||l||"",i.name=((f=t.idTokenClaims)==null?void 0:f.name)||"",i.cloudGraphHostName=t.cloudGraphHostName,i.msGraphHost=t.msGraphHost,t.tenantProfiles)i.tenantProfiles=t.tenantProfiles;else{const C=pE(t.homeAccountId,i.localAccountId,i.realm,t.idTokenClaims);i.tenantProfiles=[C]}return i}static createFromAccountInfo(t,n,r){var o;const i=new Qn;return i.authorityType=t.authorityType||mf.GENERIC_ACCOUNT_TYPE,i.homeAccountId=t.homeAccountId,i.localAccountId=t.localAccountId,i.nativeAccountId=t.nativeAccountId,i.realm=t.tenantId,i.environment=t.environment,i.username=t.username,i.name=t.name,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((o=t.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(t,n,r,i,o){if(!(n===vo.Adfs||n===vo.Dsts)){if(t)try{const s=nm(t,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(t){return t?t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(t,n,r){if(!t||!n)return!1;let i=!0;if(r){const o=t.idTokenClaims||{},s=n.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return t.homeAccountId===n.homeAccountId&&t.localAccountId===n.localAccountId&&t.username===n.username&&t.tenantId===n.tenantId&&t.environment===n.environment&&t.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v14.16.0 2024-11-05 */function Bk(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function im(e){if(!e||e.indexOf("=")<0)return null;try{const t=Bk(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch{throw pe(ak)}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ft{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw en(Pk);t.includes("#")||(this._urlString=Ft.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let n=t.toLowerCase();return To.endsWith(n,"?")?n=n.slice(0,-1):To.endsWith(n,"?/")&&(n=n.slice(0,-2)),To.endsWith(n,"/")||(n+="/"),n}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw en(xd)}if(!t.HostNameAndPort||!t.PathSegments)throw en(xd);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw en(Ek)}static appendQueryString(t,n){return n?t.indexOf("?")<0?`${t}?${n}`:`${t}&${n}`:t}static removeHashFromUrl(t){return Ft.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const n=this.getUrlComponents(),r=n.PathSegments;return t&&r.length!==0&&(r[0]===Sa.COMMON||r[0]===Sa.ORGANIZATIONS)&&(r[0]=t),Ft.constructAuthorityUriFromObject(n)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(t);if(!n)throw en(xd);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(t){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(n);if(!r)throw en(xd);return r[2]}static getAbsoluteUrl(t,n){if(t[0]===Z.FORWARD_SLASH){const i=new Ft(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new Ft(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}static hashContainsKnownProperties(t){return!!im(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Hk={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},nx=Hk.endpointMetadata,gE=Hk.instanceDiscoveryMetadata,Gk=new Set;gE.metadata.forEach(e=>{e.aliases.forEach(t=>{Gk.add(t)})});function v4(e,t){var i;let n;const r=e.canonicalAuthority;if(r){const o=new Ft(r).getUrlComponents().HostNameAndPort;n=rx(o,(i=e.cloudDiscoveryMetadata)==null?void 0:i.metadata,gi.CONFIG,t)||rx(o,gE.metadata,gi.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}function rx(e,t,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const i=om(t,e);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function C4(e){return om(gE.metadata,e)}function om(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */const Vk="cache_quota_exceeded",mE="cache_error_unknown";/*! @azure/msal-common v14.16.0 2024-11-05 */const ly={[Vk]:"Exceeded cache storage capacity.",[mE]:"Unexpected error occurred when using cache storage."};class qc extends Error{constructor(t,n){const r=n||(ly[t]?ly[t]:ly[mE]);super(`${t}: ${r}`),Object.setPrototypeOf(this,qc.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=r}}/*! @azure/msal-common v14.16.0 2024-11-05 */class gu{constructor(t,n,r,i){this.clientId=t,this.cryptoImpl=n,this.commonLogger=r.clone(Sk,sE),this.staticAuthorityOptions=i}getAllAccounts(t){return this.buildTenantProfiles(this.getAccountsFilteredBy(t||{}),t)}getAccountInfoFilteredBy(t){const n=this.getAllAccounts(t);return n.length>1?n.sort(i=>i.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(t){const n=this.getAccountsFilteredBy(t);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(t,n){return t.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(t,n,r,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const a=this.getIdToken(t,n,r.tenantId);return a&&(s=Ul(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=fE(t,r,s,a==null?void 0:a.secret),o)}getTenantProfilesFromAccountEntity(t,n,r){const i=t.getAccountInfo();let o=i.tenantProfiles||new Map;const s=this.getTokenKeys();if(n){const l=o.get(n);if(l)o=new Map([[n,l]]);else return[]}const a=[];return o.forEach(l=>{const c=this.getTenantedAccountInfoByFilter(i,s,l,r);c&&a.push(c)}),a}tenantProfileMatchesFilter(t,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,n.localAccountId)||n.name&&t.name!==n.name||n.isHomeTenant!==void 0&&t.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(t,n.loginHint)||n.username&&!this.matchUsername(t.preferred_username,n.username)||n.name&&!this.matchName(t,n.name)||n.sid&&!this.matchSid(t,n.sid)))}async saveCacheRecord(t,n,r){var i,o,s,a;if(!t)throw pe(gk);try{t.account&&this.setAccount(t.account),t.idToken&&(n==null?void 0:n.idToken)!==!1&&this.setIdTokenCredential(t.idToken),t.accessToken&&(n==null?void 0:n.accessToken)!==!1&&await this.saveAccessToken(t.accessToken),t.refreshToken&&(n==null?void 0:n.refreshToken)!==!1&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata)}catch(l){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),l instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${l.message}`,r),l.name==="QuotaExceededError"||l.name==="NS_ERROR_DOM_QUOTA_REACHED"||l.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new qc(Vk)):new qc(l.name,l.message)):((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${l}`,r),new qc(mE))}}async saveAccessToken(t){const n={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},r=this.getTokenKeys(),i=Hn.fromString(t.target),o=[];r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,n,!1))return;const a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,n)&&Hn.fromString(a.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(s))}),await Promise.all(o),this.setAccessTokenCredential(t)}getAccountsFilteredBy(t){const n=this.getAccountKeys(),r=[];return n.forEach(i=>{var l;if(!this.isAccountKey(i,t.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||t.homeAccountId&&!this.matchHomeAccountId(o,t.homeAccountId)||t.username&&!this.matchUsername(o.username,t.username)||t.environment&&!this.matchEnvironment(o,t.environment)||t.realm&&!this.matchRealm(o,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(o,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(o,t.authorityType))return;const s={localAccountId:t==null?void 0:t.localAccountId,name:t==null?void 0:t.name},a=(l=o.tenantProfiles)==null?void 0:l.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||r.push(o)}),r}isAccountKey(t,n,r){return!(t.split(Ir.CACHE_KEY_SEPARATOR).length<3||n&&!t.toLowerCase().includes(n.toLowerCase())||r&&!t.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(t){if(t.split(Ir.CACHE_KEY_SEPARATOR).length<6)return!1;const n=t.toLowerCase();if(n.indexOf(qe.ID_TOKEN.toLowerCase())===-1&&n.indexOf(qe.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(qe.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(qe.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(qe.REFRESH_TOKEN.toLowerCase())>-1){const r=`${qe.REFRESH_TOKEN}${Ir.CACHE_KEY_SEPARATOR}${this.clientId}${Ir.CACHE_KEY_SEPARATOR}`,i=`${qe.REFRESH_TOKEN}${Ir.CACHE_KEY_SEPARATOR}${Jd}${Ir.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(i.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(t,n){return!(n.clientId&&!this.matchClientId(t,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(t,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(t,n.homeAccountId)||n.environment&&!this.matchEnvironment(t,n.environment)||n.realm&&!this.matchRealm(t,n.realm)||n.credentialType&&!this.matchCredentialType(t,n.credentialType)||n.familyId&&!this.matchFamilyId(t,n.familyId)||n.target&&!this.matchTarget(t,n.target)||(n.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==n.requestedClaimsHash||t.credentialType===qe.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(t,n.tokenType)||n.tokenType===Kt.SSH&&n.keyId&&!this.matchKeyId(t,n.keyId)))}getAppMetadataFilteredBy(t){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(t.environment&&!this.matchEnvironment(o,t.environment)||t.clientId&&!this.matchClientId(o,t.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(t){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(t)!==-1&&(r=o)}),r}async removeAllAccounts(){const t=this.getAccountKeys(),n=[];t.forEach(r=>{n.push(this.removeAccount(r))}),await Promise.all(n)}async removeAccount(t){const n=this.getAccount(t,this.commonLogger);n&&(await this.removeAccountContext(n),this.removeItem(t))}async removeAccountContext(t){const n=this.getTokenKeys(),r=t.generateAccountId(),i=[];n.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),n.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),n.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),await Promise.all(i)}updateOutdatedCachedAccount(t,n,r){var i;if(n&&n.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const o=this.getAccountKeys().filter(u=>u.startsWith(n.homeAccountId)),s=[];o.forEach(u=>{const d=this.getCachedAccountEntity(u);d&&s.push(d)});const a=s.find(u=>rm(u.realm,u.homeAccountId))||s[0];a.tenantProfiles=s.map(u=>({tenantId:u.realm,localAccountId:u.localAccountId,name:u.name,isHomeTenant:rm(u.realm,u.homeAccountId)}));const l=gu.toObject(new Qn,{...a}),c=l.generateAccountKey();return o.forEach(u=>{u!==c&&this.removeOutdatedAccount(t)}),this.setAccount(l),r==null||r.verbose("Updated an outdated account entity in the cache"),l}return n}async removeAccessToken(t){const n=this.getAccessTokenCredential(t);if(n){if(n.credentialType.toLowerCase()===qe.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&n.tokenType===Kt.POP){const i=n.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw pe(Ck)}}return this.removeItem(t)}}removeAppMetadata(){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n)}),!0}readAccountFromCache(t){const n=Qn.generateAccountCacheKey(t);return this.getAccount(n,this.commonLogger)}getIdToken(t,n,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:qe.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,n),l=a.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let c=a;if(!r){const u=new Map;a.forEach((h,p)=>{h.realm===t.tenantId&&u.set(p,h)});const d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;c=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),c.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(t,n){const r=n&&n.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...t}))return;const s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,t)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(t,n){const r=t.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(t){this.removeItem(t)}removeRefreshToken(t){this.removeItem(t)}getAccessToken(t,n,r,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");const a=Hn.createSearchScopes(n.scopes),l=n.authenticationScheme||Kt.BEARER,c=l&&l.toLowerCase()!==Kt.BEARER.toLowerCase()?qe.ACCESS_TOKEN_WITH_AUTH_SCHEME:qe.ACCESS_TOKEN,u={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:c,clientId:this.clientId,realm:i||t.tenantId,target:a,tokenType:l,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(f=>{if(this.accessTokenKeyMatchesFilter(f,u,!0)){const C=this.getAccessTokenCredential(f);C&&this.credentialMatchesFilter(C,u)&&h.push(C)}});const p=h.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),h.forEach(f=>{this.removeAccessToken(kc(f))}),o&&s&&o.addFields({multiMatchedAT:h.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),h[0])}accessTokenKeyMatchesFilter(t,n,r){const i=t.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const o=n.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t){const n=this.getTokenKeys(),r=[];return n.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,t,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,t)&&r.push(o)}),r}getRefreshToken(t,n,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=n?Jd:void 0,a={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:qe.REFRESH_TOKEN,clientId:this.clientId,familyId:s},l=r&&r.refreshToken||this.getTokenKeys().refreshToken,c=[];l.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){const h=this.getRefreshTokenCredential(d);h&&this.credentialMatchesFilter(h,a)&&c.push(h)}});const u=c.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(t,n){const r=t.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t){const n={environment:t,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw pe(dk);return i[0]}isAppMetadataFOCI(t){const n=this.readAppMetadataFromCache(t);return!!(n&&n.familyId===Jd)}matchHomeAccountId(t,n){return typeof t.homeAccountId=="string"&&n===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,n){const r=t.oid||t.sub;return n===r}matchLocalAccountIdFromTenantProfile(t,n){return t.localAccountId===n}matchName(t,n){var r;return n.toLowerCase()===((r=t.name)==null?void 0:r.toLowerCase())}matchUsername(t,n){return!!(t&&typeof t=="string"&&(n==null?void 0:n.toLowerCase())===t.toLowerCase())}matchUserAssertionHash(t,n){return!!(t.userAssertionHash&&n===t.userAssertionHash)}matchEnvironment(t,n){if(this.staticAuthorityOptions){const i=v4(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(t.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,n){return t.credentialType&&n.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,n){return!!(t.clientId&&n===t.clientId)}matchFamilyId(t,n){return!!(t.familyId&&n===t.familyId)}matchRealm(t,n){var r;return((r=t.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(t,n){return!!(t.nativeAccountId&&n===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,n){return t.login_hint===n||t.preferred_username===n||t.upn===n}matchSid(t,n){return t.sid===n}matchAuthorityType(t,n){return!!(t.authorityType&&n.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,n){return t.credentialType!==qe.ACCESS_TOKEN&&t.credentialType!==qe.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:Hn.fromString(t.target).containsScopeSet(n)}matchTokenType(t,n){return!!(t.tokenType&&t.tokenType===n)}matchKeyId(t,n){return!!(t.keyId&&t.keyId===n)}isAppMetadata(t){return t.indexOf(JR)!==-1}isAuthorityMetadata(t){return t.indexOf(Zg.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(t){return`${Zg.CACHE_KEY}-${this.clientId}-${t}`}static toObject(t,n){for(const r in n)t[r]=n[r];return t}}class y4 extends gu{setAccount(){throw pe(vt)}getAccount(){throw pe(vt)}getCachedAccountEntity(){throw pe(vt)}setIdTokenCredential(){throw pe(vt)}getIdTokenCredential(){throw pe(vt)}setAccessTokenCredential(){throw pe(vt)}getAccessTokenCredential(){throw pe(vt)}setRefreshTokenCredential(){throw pe(vt)}getRefreshTokenCredential(){throw pe(vt)}setAppMetadata(){throw pe(vt)}getAppMetadata(){throw pe(vt)}setServerTelemetry(){throw pe(vt)}getServerTelemetry(){throw pe(vt)}setAuthorityMetadata(){throw pe(vt)}getAuthorityMetadata(){throw pe(vt)}getAuthorityMetadataKeys(){throw pe(vt)}setThrottlingCache(){throw pe(vt)}getThrottlingCache(){throw pe(vt)}removeItem(){throw pe(vt)}getKeys(){throw pe(vt)}getAccountKeys(){throw pe(vt)}getTokenKeys(){throw pe(vt)}updateCredentialCacheKey(){throw pe(vt)}removeOutdatedAccount(){throw pe(vt)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Wk={tokenRenewalOffsetSeconds:V5,preventCorsPreflight:!1},S4={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Cn.Info,correlationId:Z.EMPTY_STRING},w4={claimsBasedCachingEnabled:!1},b4={async sendGetRequestAsync(){throw pe(vt)},async sendPostRequestAsync(){throw pe(vt)}},R4={sku:Z.SKU,version:sE,cpu:Z.EMPTY_STRING,os:Z.EMPTY_STRING},E4={clientSecret:Z.EMPTY_STRING,clientAssertion:void 0},P4={azureCloudInstance:aE.None,tenant:`${Z.DEFAULT_COMMON_TENANT}`},T4={application:{appName:"",appVersion:""}};function A4({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}){const p={...S4,...n};return{authOptions:I4(e),systemOptions:{...Wk,...t},loggerOptions:p,cacheOptions:{...w4,...r},storageInterface:i||new y4(e.clientId,tm,new Bs(p)),networkInterface:o||b4,cryptoInterface:s||tm,clientCredentials:a||E4,libraryInfo:{...R4,...l},telemetry:{...T4,...c},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}function I4(e){return{clientCapabilities:[],azureCloudOptions:P4,skipAuthorityMetadataCache:!1,instanceAware:!1,...e}}function yw(e){return e.authOptions.authority.options.protocolMode===Ps.OIDC}/*! @azure/msal-common v14.16.0 2024-11-05 */const Ei={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.16.0 2024-11-05 */const Fl="client_id",Uk="redirect_uri",ix="response_type",x4="response_mode",D4="grant_type",F4="claims",O4="scope",M4="refresh_token",k4="state",L4="nonce",N4="prompt",_4="code",B4="code_challenge",H4="code_challenge_method",G4="code_verifier",V4="client-request-id",W4="x-client-SKU",U4="x-client-VER",z4="x-client-OS",$4="x-client-CPU",j4="x-client-current-telemetry",K4="x-client-last-telemetry",q4="x-ms-lib-capability",Y4="x-app-name",Q4="x-app-ver",X4="post_logout_redirect_uri",J4="id_token_hint",Z4="device_code",eq="client_secret",tq="client_assertion",nq="client_assertion_type",ox="token_type",sx="req_cnf",rq="assertion",iq="requested_token_use",ax="return_spa_code",oq="nativebroker",sq="logout_hint",aq="sid",lq="login_hint",cq="domain_hint",uq="x-client-xtra-sku",vE="brk_client_id",Sw="brk_redirect_uri";/*! @azure/msal-common v14.16.0 2024-11-05 */class fc{static validateRedirectUri(t){if(!t)throw en(Rk)}static validatePrompt(t){const n=[];for(const r in nr)n.push(nr[r]);if(n.indexOf(t)<0)throw en(Ak)}static validateClaims(t){try{JSON.parse(t)}catch{throw en(cE)}}static validateCodeChallengeParams(t,n){if(!t||!n)throw en(uE);this.validateCodeChallengeMethod(n)}static validateCodeChallengeMethod(t){if([jI.PLAIN,jI.S256].indexOf(t)<0)throw en(Dk)}}/*! @azure/msal-common v14.16.0 2024-11-05 */function dq(e,t,n){if(!t)return;const r=e.get(Fl);r&&e.has(vE)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Uk)},t))}class eh{constructor(t,n){this.parameters=new Map,this.performanceClient=n,this.correlationId=t}addResponseTypeCode(){this.parameters.set(ix,encodeURIComponent(Z.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(ix,encodeURIComponent(`${Z.TOKEN_RESPONSE_TYPE} ${Z.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(t){this.parameters.set(x4,encodeURIComponent(t||B5.QUERY))}addNativeBroker(){this.parameters.set(oq,encodeURIComponent("1"))}addScopes(t,n=!0,r=xa){n&&!r.includes("openid")&&!t.includes("openid")&&r.push("openid");const i=n?[...t||[],...r]:t||[],o=new Hn(i);this.parameters.set(O4,encodeURIComponent(o.printScopes()))}addClientId(t){this.parameters.set(Fl,encodeURIComponent(t))}addRedirectUri(t){fc.validateRedirectUri(t),this.parameters.set(Uk,encodeURIComponent(t))}addPostLogoutRedirectUri(t){fc.validateRedirectUri(t),this.parameters.set(X4,encodeURIComponent(t))}addIdTokenHint(t){this.parameters.set(J4,encodeURIComponent(t))}addDomainHint(t){this.parameters.set(cq,encodeURIComponent(t))}addLoginHint(t){this.parameters.set(lq,encodeURIComponent(t))}addCcsUpn(t){this.parameters.set(Br.CCS_HEADER,encodeURIComponent(`UPN:${t}`))}addCcsOid(t){this.parameters.set(Br.CCS_HEADER,encodeURIComponent(`Oid:${t.uid}@${t.utid}`))}addSid(t){this.parameters.set(aq,encodeURIComponent(t))}addClaims(t,n){const r=this.addClientCapabilitiesToClaims(t,n);fc.validateClaims(r),this.parameters.set(F4,encodeURIComponent(r))}addCorrelationId(t){this.parameters.set(V4,encodeURIComponent(t))}addLibraryInfo(t){this.parameters.set(W4,t.sku),this.parameters.set(U4,t.version),t.os&&this.parameters.set(z4,t.os),t.cpu&&this.parameters.set($4,t.cpu)}addApplicationTelemetry(t){t!=null&&t.appName&&this.parameters.set(Y4,t.appName),t!=null&&t.appVersion&&this.parameters.set(Q4,t.appVersion)}addPrompt(t){fc.validatePrompt(t),this.parameters.set(`${N4}`,encodeURIComponent(t))}addState(t){t&&this.parameters.set(k4,encodeURIComponent(t))}addNonce(t){this.parameters.set(L4,encodeURIComponent(t))}addCodeChallengeParams(t,n){if(fc.validateCodeChallengeParams(t,n),t&&n)this.parameters.set(B4,encodeURIComponent(t)),this.parameters.set(H4,encodeURIComponent(n));else throw en(uE)}addAuthorizationCode(t){this.parameters.set(_4,encodeURIComponent(t))}addDeviceCode(t){this.parameters.set(Z4,encodeURIComponent(t))}addRefreshToken(t){this.parameters.set(M4,encodeURIComponent(t))}addCodeVerifier(t){this.parameters.set(G4,encodeURIComponent(t))}addClientSecret(t){this.parameters.set(eq,encodeURIComponent(t))}addClientAssertion(t){t&&this.parameters.set(tq,encodeURIComponent(t))}addClientAssertionType(t){t&&this.parameters.set(nq,encodeURIComponent(t))}addOboAssertion(t){this.parameters.set(rq,encodeURIComponent(t))}addRequestTokenUse(t){this.parameters.set(iq,encodeURIComponent(t))}addGrantType(t){this.parameters.set(D4,encodeURIComponent(t))}addClientInfo(){this.parameters.set(H5,"1")}addExtraQueryParameters(t){Object.entries(t).forEach(([n,r])=>{!this.parameters.has(n)&&r&&this.parameters.set(n,r)})}addClientCapabilitiesToClaims(t,n){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw en(cE)}return n&&n.length>0&&(r.hasOwnProperty(gf.ACCESS_TOKEN)||(r[gf.ACCESS_TOKEN]={}),r[gf.ACCESS_TOKEN][gf.XMS_CC]={values:n}),JSON.stringify(r)}addUsername(t){this.parameters.set(qI.username,encodeURIComponent(t))}addPassword(t){this.parameters.set(qI.password,encodeURIComponent(t))}addPopToken(t){t&&(this.parameters.set(ox,Kt.POP),this.parameters.set(sx,encodeURIComponent(t)))}addSshJwk(t){t&&(this.parameters.set(ox,Kt.SSH),this.parameters.set(sx,encodeURIComponent(t)))}addServerTelemetry(t){this.parameters.set(j4,t.generateCurrentRequestHeaderValue()),this.parameters.set(K4,t.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(q4,Zd.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(t){this.parameters.set(sq,encodeURIComponent(t))}addBrokerParameters(t){const n={};n[vE]=t.brokerClientId,n[Sw]=t.brokerRedirectUri,this.addExtraQueryParameters(n)}createQueryString(){const t=new Array;return this.parameters.forEach((n,r)=>{t.push(`${r}=${n}`)}),dq(this.parameters,this.correlationId,this.performanceClient),t.join("&")}}/*! @azure/msal-common v14.16.0 2024-11-05 */function hq(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.16.0 2024-11-05 */function pq(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}/*! @azure/msal-common v14.16.0 2024-11-05 */function fq(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}/*! @azure/msal-common v14.16.0 2024-11-05 */const W={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},gq={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v14.16.0 2024-11-05 */const zl=(e,t,n,r,i)=>(...o)=>{n.trace(`Executing function ${t}`);const s=r==null?void 0:r.startMeasurement(t,i);if(i){const a=t+"CallCount";r==null||r.incrementFields({[a]:1},i)}try{const a=e(...o);return s==null||s.end({success:!0}),n.trace(`Returning result from ${t}`),a}catch(a){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},be=(e,t,n,r,i)=>(...o)=>{n.trace(`Executing function ${t}`);const s=r==null?void 0:r.startMeasurement(t,i);if(i){const a=t+"CallCount";r==null||r.incrementFields({[a]:1},i)}return r==null||r.setPreQueueTime(t,i),e(...o).then(a=>(n.trace(`Returning result from ${t}`),s==null||s.end({success:!0}),a)).catch(a=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v14.16.0 2024-11-05 */class Wv{constructor(t,n,r,i){this.networkInterface=t,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(t,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(W.RegionDiscoveryDetectRegion,this.correlationId);let r=t;if(r)n.region_source=rc.ENVIRONMENT_VARIABLE;else{const o=Wv.IMDS_OPTIONS;try{const s=await be(this.getRegionFromIMDS.bind(this),W.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Z.IMDS_VERSION,o);if(s.status===vf.httpSuccess&&(r=s.body,n.region_source=rc.IMDS),s.status===vf.httpBadRequest){const a=await be(this.getCurrentVersion.bind(this),W.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return n.region_source=rc.FAILED_AUTO_DETECTION,null;const l=await be(this.getRegionFromIMDS.bind(this),W.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);l.status===vf.httpSuccess&&(r=l.body,n.region_source=rc.IMDS)}}catch{return n.region_source=rc.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=rc.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(t,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(W.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Z.IMDS_ENDPOINT}?api-version=${t}&format=text`,n,Z.IMDS_TIMEOUT)}async getCurrentVersion(t){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(W.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${Z.IMDS_ENDPOINT}?format=json`,t);return r.status===vf.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Wv.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.16.0 2024-11-05 */class Pr{constructor(t,n,r,i,o,s,a,l){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=l||!1,this.regionDiscovery=new Wv(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(Z.CIAM_AUTH_URL))return vo.Ciam;const n=t.PathSegments;if(n.length)switch(n[0].toLowerCase()){case Z.ADFS:return vo.Adfs;case Z.DSTS:return vo.Dsts}return vo.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Ft(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw pe(vs)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw pe(vs)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw pe(vs)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw pe(yk);return this.replacePath(this.metadata.end_session_endpoint)}else throw pe(vs)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw pe(vs)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw pe(vs)}canReplaceTenant(t){return t.PathSegments.length===1&&!Pr.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===vo.Default&&this.protocolMode===Ps.AAD}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let n=t;const i=new Ft(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,l)=>{let c=o[l];if(l===0&&this.canReplaceTenant(i)){const u=new Ft(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];c!==u&&(this.logger.verbose(`Replacing tenant domain name ${c} with id ${u}`),c=u)}a!==c&&(n=n.replace(`/${c}/`,`/${a}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===vo.Adfs||this.protocolMode!==Ps.AAD&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(W.AuthorityResolveEndpointsAsync,this.correlationId);const t=this.getCurrentMetadataEntity(),n=await be(this.updateCloudDiscoveryMetadata.bind(this),W.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const r=await be(this.updateEndpointMetadata.bind(this),W.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,n,{source:r}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:ex(),jwks_uri:""}),t}updateCachedMetadata(t,n,r){n!==gi.CACHE&&(r==null?void 0:r.source)!==gi.CACHE&&(t.expiresAt=ex(),t.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache);this.cacheManager.setAuthorityMetadata(i,t),this.metadata=t}async updateEndpointMetadata(t){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(W.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(t);if(n){if(n.source===gi.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&n.metadata){const a=await be(this.updateMetadataWithRegionalInformation.bind(this),W.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Cf(t,a,!1),t.canonical_authority=this.canonicalAuthority}return n.source}let r=await be(this.getEndpointMetadataFromNetwork.bind(this),W.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await be(this.updateMetadataWithRegionalInformation.bind(this),W.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Cf(t,r,!0),gi.NETWORK;throw pe(sk,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Cf(t,n,!1),{source:gi.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Cf(t,i,!1),{source:gi.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=tx(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:gi.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(t){return new Ft(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw en(Fk)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(W.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const t={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,t);return hq(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in nx?nx[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(W.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==Z.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=sy.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Pr.replaceWithRegionalInformation(t,n);const s=await be(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),W.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=sy.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Pr.replaceWithRegionalInformation(t,s);this.regionDiscoveryMetadata.region_outcome=sy.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(W.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(n)return n;const r=await be(this.getCloudDiscoveryMetadataFromNetwork.bind(this),W.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return ay(t,r,!0),gi.NETWORK;throw en(Ok)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Z.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Z.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${t.canonical_authority||Z.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),ay(t,n,!1),gi.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=C4(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),ay(t,i,!1),gi.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=tx(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),gi.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===vo.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Pr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=om(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),en(dE)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Pr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(W.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const t=`${Z.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const o=await this.networkInterface.sendGetRequestAsync(t,n);let s,a;if(pq(o.body))s=o.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(fq(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===Z.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=om(a,this.hostnameAndPort)}catch(o){if(o instanceof fn)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Pr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Ft.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,n){let r;if(n&&n.azureCloudInstance!==aE.None){const i=n.tenant?n.tenant:Z.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return Z.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw pe(vs)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return Gk.has(t)}static isPublicCloudAuthority(t){return Z.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0}static buildRegionalAuthorityString(t,n,r){const i=new Ft(t);i.validateAsUri();const o=i.getUrlComponents();let s=`${n}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${n}.${Z.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Ft.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(t,n){const r={...t};return r.authorization_endpoint=Pr.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Pr.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Pr.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(t){let n=t;const i=new Ft(t).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(Z.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];n=`${n}${o}${Z.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Pr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Sa.COMMON,Sa.CONSUMERS,Sa.ORGANIZATIONS]);function mq(e){var i;const r=(i=new Ft(e).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case Sa.COMMON:case Sa.ORGANIZATIONS:case Sa.CONSUMERS:return;default:return r}}function zk(e){return e.endsWith(Z.FORWARD_SLASH)?e:`${e}${Z.FORWARD_SLASH}`}function vq(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch{throw en(dE)}return{canonicalAuthority:e.authority?zk(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v14.16.0 2024-11-05 */async function $k(e,t,n,r,i,o,s){s==null||s.addQueueMeasurement(W.AuthorityFactoryCreateDiscoveredInstance,o);const a=Pr.transformCIAMAuthority(zk(e)),l=new Pr(a,t,n,r,i,o,s);try{return await be(l.resolveEndpointsAsync.bind(l),W.AuthorityResolveEndpointsAsync,i,s,o)(),l}catch{throw pe(vs)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Da extends fn{constructor(t,n,r,i,o){super(t,n,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,Da.prototype)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class $o{static generateThrottlingStorageKey(t){return`${Zd.THROTTLING_PREFIX}.${JSON.stringify(t)}`}static preProcess(t,n){var o;const r=$o.generateThrottlingStorageKey(n),i=t.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){t.removeItem(r);return}throw new Da(((o=i.errorCodes)==null?void 0:o.join(" "))||Z.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(t,n,r){if($o.checkResponseStatus(r)||$o.checkResponseForRetryAfter(r)){const i={throttleTime:$o.calculateThrottleTime(parseInt(r.headers[Br.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache($o.generateThrottlingStorageKey(n),i)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(Br.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const n=t<=0?0:t,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||Zd.DEFAULT_THROTTLE_TIME_SECONDS),r+Zd.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(t,n,r,i){const o={clientId:n,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=this.generateThrottlingStorageKey(o);t.removeItem(s)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Uv extends fn{constructor(t,n,r){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,Uv.prototype),this.name="NetworkError",this.error=t,this.httpStatus=n,this.responseHeaders=r}}function lx(e,t,n){return new Uv(e,t,n)}/*! @azure/msal-common v14.16.0 2024-11-05 */class CE{constructor(t,n){this.config=A4(t),this.logger=new Bs(this.config.loggerOptions,Sk,sE),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(t){const n={};if(n[Br.CONTENT_TYPE]=Z.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case Ei.HOME_ACCOUNT_ID:try{const r=Lc(t.credential);n[Br.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Ei.UPN:n[Br.CCS_HEADER]=`UPN: ${t.credential}`;break}return n}async executePostToTokenEndpoint(t,n,r,i,o,s){var l;s&&((l=this.performanceClient)==null||l.addQueueMeasurement(s,o));const a=await this.sendPostRequest(i,t,{body:n,headers:r},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(t,n,r,i){var s,a,l;$o.preProcess(this.cacheManager,t);let o;try{o=await be(this.networkClient.sendPostRequestAsync.bind(this.networkClient),W.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const c=o.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=o.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:c[Br.X_MS_HTTP_VERSION]||"",requestId:c[Br.X_MS_REQUEST_ID]||""},i)}catch(c){if(c instanceof Uv){const u=c.responseHeaders;throw u&&((l=this.performanceClient)==null||l.addFields({httpVerToken:u[Br.X_MS_HTTP_VERSION]||"",requestId:u[Br.X_MS_REQUEST_ID]||"",contentTypeHeader:u[Br.CONTENT_TYPE]||void 0,contentLengthHeader:u[Br.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},i)),c.error}throw c instanceof fn?c:pe(ok)}return $o.postProcess(this.cacheManager,t,o),o}async updateAuthority(t,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(W.UpdateTokenEndpointAuthority,n);const r=`https://${t}/${this.authority.tenant}/`,i=await $k(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(t){const n=new eh(t.correlationId,this.performanceClient);return t.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenQueryParameters&&n.addExtraQueryParameters(t.tokenQueryParameters),n.addCorrelationId(t.correlationId),n.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */const sm="no_tokens_found",jk="native_account_unavailable",yE="refresh_token_expired",Cq="interaction_required",yq="consent_required",Sq="login_required",zv="bad_token";/*! @azure/msal-common v14.16.0 2024-11-05 */const cx=[Cq,yq,Sq,zv],wq=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],bq={[sm]:"No refresh token found in the cache. Please sign-in.",[jk]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[yE]:"Refresh token has expired.",[zv]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class lo extends fn{constructor(t,n,r,i,o,s,a,l){super(t,n,r),Object.setPrototypeOf(this,lo.prototype),this.timestamp=i||Z.EMPTY_STRING,this.traceId=o||Z.EMPTY_STRING,this.correlationId=s||Z.EMPTY_STRING,this.claims=a||Z.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function ux(e,t,n){const r=!!e&&cx.indexOf(e)>-1,i=!!n&&wq.indexOf(n)>-1,o=!!t&&cx.some(s=>t.indexOf(s)>-1);return r||o||i}function ww(e){return new lo(e,bq[e])}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ao{static setRequestState(t,n,r){const i=Ao.generateLibraryState(t,r);return n?`${i}${Z.RESOURCE_DELIM}${n}`:i}static generateLibraryState(t,n){if(!t)throw pe(mw);const r={id:t.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return t.base64Encode(i)}static parseRequestState(t,n){if(!t)throw pe(mw);if(!n)throw pe(fu);try{const r=n.split(Z.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(Z.RESOURCE_DELIM):Z.EMPTY_STRING,s=t.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||Z.EMPTY_STRING,libraryState:a}}catch{throw pe(fu)}}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Rq={SW:"sw",UHW:"uhw"};class mu{constructor(t,n){this.cryptoUtils=t,this.performanceClient=n}async generateCnf(t,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(W.PopTokenGenerateCnf,t.correlationId);const r=await be(this.generateKid.bind(this),W.PopTokenGenerateCnf,n,this.performanceClient,t.correlationId)(t),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(t){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(W.PopTokenGenerateKid,t.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:Rq.SW}}async signPopToken(t,n,r){return this.signPayload(t,n,r)}async signPayload(t,n,r,i){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:l,shrOptions:c}=r,u=s?new Ft(s):void 0,d=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:os(),m:o==null?void 0:o.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0,...i},n,c,r.correlationId)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Eq{constructor(t,n){this.cache=t,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.16.0 2024-11-05 */function Pq(e){var r,i;const t="code=",n=(r=e.error_uri)==null?void 0:r.lastIndexOf(t);return n&&n>=0?(i=e.error_uri)==null?void 0:i.substring(n+t.length):void 0}class Ol{constructor(t,n,r,i,o,s,a){this.clientId=t,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(t,n){if(!t.state||!n)throw t.state?pe(em,"Cached State"):pe(em,"Server State");let r,i;try{r=decodeURIComponent(t.state)}catch{throw pe(fu,t.state)}try{i=decodeURIComponent(n)}catch{throw pe(fu,t.state)}if(r!==i)throw pe(lk);if(t.error||t.error_description||t.suberror){const o=Pq(t);throw ux(t.error,t.error_description,t.suberror)?new lo(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",o):new Da(t.error||"",t.error_description,t.suberror,o)}}validateTokenResponse(t,n){var r;if(t.error||t.error_description||t.suberror){const i=`Error(s): ${t.error_codes||Z.NOT_AVAILABLE} - Timestamp: ${t.timestamp||Z.NOT_AVAILABLE} - Description: ${t.error_description||Z.NOT_AVAILABLE} - Correlation ID: ${t.correlation_id||Z.NOT_AVAILABLE} - Trace ID: ${t.trace_id||Z.NOT_AVAILABLE}`,o=(r=t.error_codes)!=null&&r.length?t.error_codes[0]:void 0,s=new Da(t.error,i,t.suberror,o,t.status);if(n&&t.status&&t.status>=ff.SERVER_ERROR_RANGE_START&&t.status<=ff.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(n&&t.status&&t.status>=ff.CLIENT_ERROR_RANGE_START&&t.status<=ff.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw ux(t.error,t.error_description,t.suberror)?new lo(t.error,t.error_description,t.suberror,t.timestamp||Z.EMPTY_STRING,t.trace_id||Z.EMPTY_STRING,t.correlation_id||Z.EMPTY_STRING,t.claims||Z.EMPTY_STRING,o):s}}async handleServerTokenResponse(t,n,r,i,o,s,a,l,c){var f;(f=this.performanceClient)==null||f.addQueueMeasurement(W.HandleServerTokenResponse,t.correlation_id);let u;if(t.id_token){if(u=Ul(t.id_token||Z.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw pe(ck);if(i.maxAge||i.maxAge===0){const C=u.auth_time;if(!C)throw pe(nE);wk(C,i.maxAge)}}this.homeAccountIdentifier=Qn.generateHomeAccountId(t.client_info||Z.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,u);let d;o&&o.state&&(d=Ao.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||i.sshKid||void 0;const h=this.generateCacheRecord(t,n,r,i,u,s,o);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new Eq(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!l&&h.account){const C=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(C,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Ol.generateAuthenticationResult(this.cryptoObj,n,h,!1,i,u,d,void 0,c)}await this.cacheStorage.saveCacheRecord(h,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return Ol.generateAuthenticationResult(this.cryptoObj,n,h,!1,i,u,d,t,c)}generateCacheRecord(t,n,r,i,o,s,a){const l=n.getPreferredCache();if(!l)throw pe(iE);const c=_k(o);let u,d;t.id_token&&o&&(u=Hv(this.homeAccountIdentifier,l,t.id_token,this.clientId,c||""),d=SE(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,t.client_info,l,c,a,void 0,this.logger));let h=null;if(t.access_token){const C=t.scope?Hn.fromString(t.scope):new Hn(i.scopes||[]),y=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,g=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,v=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,m=r+y,w=m+g,E=v&&v>0?r+v:void 0;h=Gv(this.homeAccountIdentifier,l,t.access_token,this.clientId,c||n.tenant||"",C.printScopes(),m,w,this.cryptoObj.base64Decode,E,t.token_type,s,t.key_id,i.claims,i.requestedClaimsHash)}let p=null;if(t.refresh_token){let C;if(t.refresh_token_expires_in){const y=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;C=r+y}p=bk(this.homeAccountIdentifier,l,t.refresh_token,this.clientId,t.foci,s,C)}let f=null;return t.foci&&(f={clientId:this.clientId,environment:l,familyId:t.foci}),{account:d,idToken:u,accessToken:h,refreshToken:p,appMetadata:f}}static async generateAuthenticationResult(t,n,r,i,o,s,a,l,c){var m,w,E,P,A;let u=Z.EMPTY_STRING,d=[],h=null,p,f,C=Z.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Kt.POP&&!o.popKid){const R=new mu(t),{secret:T,keyId:b}=r.accessToken;if(!b)throw pe(oE);u=await R.signPopToken(T,b,o)}else u=r.accessToken.secret;d=Hn.fromString(r.accessToken.target).asArray(),h=new Date(Number(r.accessToken.expiresOn)*1e3),p=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(f=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(C=r.appMetadata.familyId===Jd?Jd:"");const y=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",g=(s==null?void 0:s.tid)||"";l!=null&&l.spa_accountid&&r.account&&(r.account.nativeAccountId=l==null?void 0:l.spa_accountid);const v=r.account?fE(r.account.getAccountInfo(),void 0,s,(m=r.idToken)==null?void 0:m.secret):null;return{authority:n.canonicalAuthority,uniqueId:y,tenantId:g,scopes:d,account:v,idToken:((w=r==null?void 0:r.idToken)==null?void 0:w.secret)||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:h,extExpiresOn:p,refreshOn:f,correlationId:o.correlationId,requestId:c||Z.EMPTY_STRING,familyId:C,tokenType:((E=r.accessToken)==null?void 0:E.tokenType)||Z.EMPTY_STRING,state:a?a.userRequestState:Z.EMPTY_STRING,cloudGraphHostName:((P=r.account)==null?void 0:P.cloudGraphHostName)||Z.EMPTY_STRING,msGraphHost:((A=r.account)==null?void 0:A.msGraphHost)||Z.EMPTY_STRING,code:l==null?void 0:l.spa_code,fromNativeBroker:!1}}}function SE(e,t,n,r,i,o,s,a,l,c,u){u==null||u.verbose("setCachedAccount called");const h=e.getAccountKeys().find(g=>g.startsWith(n));let p=null;h&&(p=e.getAccount(h,u));const f=p||Qn.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:l==null?void 0:l.cloud_graph_host_name,msGraphHost:l==null?void 0:l.msgraph_host,nativeAccountId:c},t,r),C=f.tenantProfiles||[],y=a||f.realm;if(y&&!C.find(g=>g.tenantId===y)){const g=pE(n,f.localAccountId,y,i);C.push(g)}return f.tenantProfiles=C,f}/*! @azure/msal-common v14.16.0 2024-11-05 */async function Kk(e,t,n){return typeof e=="string"?e:e({clientId:t,tokenEndpoint:n})}/*! @azure/msal-common v14.16.0 2024-11-05 */class qk extends CE{constructor(t,n){var r;super(t,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async getAuthCodeUrl(t){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(W.GetAuthCodeUrl,t.correlationId);const n=await be(this.createAuthCodeUrlQueryString.bind(this),W.AuthClientCreateQueryString,this.logger,this.performanceClient,t.correlationId)(t);return Ft.appendQueryString(this.authority.authorizationEndpoint,n)}async acquireToken(t,n){var a,l;if((a=this.performanceClient)==null||a.addQueueMeasurement(W.AuthClientAcquireToken,t.correlationId),!t.code)throw pe(hk);const r=os(),i=await be(this.executeTokenRequest.bind(this),W.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(this.authority,t),o=(l=i.headers)==null?void 0:l[Br.X_MS_REQUEST_ID],s=new Ol(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),be(s.handleServerTokenResponse.bind(s),W.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(i.body,this.authority,r,t,n,void 0,void 0,void 0,o)}handleFragmentResponse(t,n){if(new Ol(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(t,n),!t.code)throw pe(vk);return t}getLogoutUri(t){if(!t)throw en(xk);const n=this.createLogoutUrlQueryString(t);return Ft.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(t,n){var c,u;(c=this.performanceClient)==null||c.addQueueMeasurement(W.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=Ft.appendQueryString(t.tokenEndpoint,r),o=await be(this.createTokenRequestBody.bind(this),W.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let s;if(n.clientInfo)try{const d=nm(n.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${d.uid}${Ir.CLIENT_INFO_SEPARATOR}${d.utid}`,type:Ei.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}const a=this.createTokenRequestHeaders(s||n.ccsCredential),l={clientId:((u=n.tokenBodyParameters)==null?void 0:u.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:n.scopes,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid};return be(this.executePostToTokenEndpoint.bind(this),W.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,o,a,l,n.correlationId,W.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(W.AuthClientCreateTokenRequestBody,t.correlationId);const n=new eh(t.correlationId,this.performanceClient);if(n.addClientId(t.embeddedClientId||((o=t.tokenBodyParameters)==null?void 0:o[Fl])||this.config.authOptions.clientId),this.includeRedirectUri?n.addRedirectUri(t.redirectUri):fc.validateRedirectUri(t.redirectUri),n.addScopes(t.scopes,!0,this.oidcDefaultScopes),n.addAuthorizationCode(t.code),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!yw(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),t.codeVerifier&&n.addCodeVerifier(t.codeVerifier),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await Kk(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),n.addClientAssertionType(s.assertionType)}if(n.addGrantType(tk.AUTHORIZATION_CODE_GRANT),n.addClientInfo(),t.authenticationScheme===Kt.POP){const s=new mu(this.cryptoUtils,this.performanceClient);let a;t.popKid?a=this.cryptoUtils.encodeKid(t.popKid):a=(await be(s.generateCnf.bind(s),W.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,n.addPopToken(a)}else if(t.authenticationScheme===Kt.SSH)if(t.sshJwk)n.addSshJwk(t.sshJwk);else throw en(Vv);(!To.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(t.claims,this.config.authOptions.clientCapabilities);let r;if(t.clientInfo)try{const s=nm(t.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${Ir.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Ei.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Ei.HOME_ACCOUNT_ID:try{const s=Lc(r.credential);n.addCcsOid(s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Ei.UPN:n.addCcsUpn(r.credential);break}return t.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenBodyParameters&&n.addExtraQueryParameters(t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[ax])&&n.addExtraQueryParameters({[ax]:"1"}),n.createQueryString()}async createAuthCodeUrlQueryString(t){var o,s;const n=t.correlationId||this.config.cryptoInterface.createNewGuid();(o=this.performanceClient)==null||o.addQueueMeasurement(W.AuthClientCreateQueryString,n);const r=new eh(n,this.performanceClient);r.addClientId(t.embeddedClientId||((s=t.extraQueryParameters)==null?void 0:s[Fl])||this.config.authOptions.clientId);const i=[...t.scopes||[],...t.extraScopesToConsent||[]];if(r.addScopes(i,!0,this.oidcDefaultScopes),r.addRedirectUri(t.redirectUri),r.addCorrelationId(n),r.addResponseMode(t.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),yw(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),t.codeChallenge&&t.codeChallengeMethod&&r.addCodeChallengeParams(t.codeChallenge,t.codeChallengeMethod),t.prompt&&r.addPrompt(t.prompt),t.domainHint&&r.addDomainHint(t.domainHint),t.prompt!==nr.SELECT_ACCOUNT)if(t.sid&&t.prompt===nr.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(t.sid);else if(t.account){const a=this.extractAccountSid(t.account);let l=this.extractLoginHint(t.account);if(l&&t.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),l=null),l){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(l);try{const c=Lc(t.account.homeAccountId);r.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&t.prompt===nr.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(a);try{const c=Lc(t.account.homeAccountId);r.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint);else if(t.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(t.account.username);try{const c=Lc(t.account.homeAccountId);r.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(t.nonce&&r.addNonce(t.nonce),t.state&&r.addState(t.state),(t.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),t.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(t,r),t.nativeBroker&&(r.addNativeBroker(),t.authenticationScheme===Kt.POP)){const a=new mu(this.cryptoUtils);let l;t.popKid?l=this.cryptoUtils.encodeKid(t.popKid):l=(await be(a.generateCnf.bind(a),W.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,r.addPopToken(l)}return r.createQueryString()}createLogoutUrlQueryString(t){const n=new eh(t.correlationId,this.performanceClient);return t.postLogoutRedirectUri&&n.addPostLogoutRedirectUri(t.postLogoutRedirectUri),t.correlationId&&n.addCorrelationId(t.correlationId),t.idTokenHint&&n.addIdTokenHint(t.idTokenHint),t.state&&n.addState(t.state),t.logoutHint&&n.addLogoutHint(t.logoutHint),this.addExtraQueryParams(t,n),n.createQueryString()}addExtraQueryParams(t,n){!(t.extraQueryParameters&&t.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(t.extraQueryParameters=t.extraQueryParameters||{},t.extraQueryParameters.instance_aware="true"),t.extraQueryParameters&&n.addExtraQueryParameters(t.extraQueryParameters)}extractAccountSid(t){var n;return((n=t.idTokenClaims)==null?void 0:n.sid)||null}extractLoginHint(t){var n;return((n=t.idTokenClaims)==null?void 0:n.login_hint)||null}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Tq=300;class bw extends CE{constructor(t,n){super(t,n)}async acquireToken(t){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(W.RefreshTokenClientAcquireToken,t.correlationId);const n=os(),r=await be(this.executeTokenRequest.bind(this),W.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(t,this.authority),i=(a=r.headers)==null?void 0:a[Br.X_MS_REQUEST_ID],o=new Ol(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),be(o.handleServerTokenResponse.bind(o),W.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(r.body,this.authority,n,t,void 0,void 0,!0,t.forceCache,i)}async acquireTokenByRefreshToken(t){var r;if(!t)throw en(Ik);if((r=this.performanceClient)==null||r.addQueueMeasurement(W.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),!t.account)throw pe(rE);if(this.cacheManager.isAppMetadataFOCI(t.account.environment))try{return await be(this.acquireTokenWithCachedRefreshToken.bind(this),W.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(i){const o=i instanceof lo&&i.errorCode===sm,s=i instanceof Da&&i.errorCode===KI.INVALID_GRANT_ERROR&&i.subError===KI.CLIENT_MISMATCH_ERROR;if(o||s)return be(this.acquireTokenWithCachedRefreshToken.bind(this),W.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1);throw i}return be(this.acquireTokenWithCachedRefreshToken.bind(this),W.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(W.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId);const r=zl(this.cacheManager.getRefreshToken.bind(this.cacheManager),W.CacheManagerGetRefreshToken,this.logger,this.performanceClient,t.correlationId)(t.account,n,void 0,this.performanceClient,t.correlationId);if(!r)throw ww(sm);if(r.expiresOn&&Cw(r.expiresOn,t.refreshTokenExpirationOffsetSeconds||Tq))throw ww(yE);const i={...t,refreshToken:r.secret,authenticationScheme:t.authenticationScheme||Kt.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:Ei.HOME_ACCOUNT_ID}};try{return await be(this.acquireToken.bind(this),W.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(i)}catch(s){if(s instanceof lo&&s.subError===zv){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const a=kc(r);this.cacheManager.removeRefreshToken(a)}throw s}}async executeTokenRequest(t,n){var l,c;(l=this.performanceClient)==null||l.addQueueMeasurement(W.RefreshTokenClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),i=Ft.appendQueryString(n.tokenEndpoint,r),o=await be(this.createTokenRequestBody.bind(this),W.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),s=this.createTokenRequestHeaders(t.ccsCredential),a={clientId:((c=t.tokenBodyParameters)==null?void 0:c.clientId)||this.config.authOptions.clientId,authority:n.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return be(this.executePostToTokenEndpoint.bind(this),W.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,s,a,t.correlationId,W.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(W.RefreshTokenClientCreateTokenRequestBody,t.correlationId);const n=t.correlationId,r=new eh(n,this.performanceClient);if(r.addClientId(t.embeddedClientId||((o=t.tokenBodyParameters)==null?void 0:o[Fl])||this.config.authOptions.clientId),t.redirectUri&&r.addRedirectUri(t.redirectUri),r.addScopes(t.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),r.addGrantType(tk.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!yw(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addRefreshToken(t.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await Kk(a.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),r.addClientAssertionType(a.assertionType)}if(t.authenticationScheme===Kt.POP){const a=new mu(this.cryptoUtils,this.performanceClient);let l;t.popKid?l=this.cryptoUtils.encodeKid(t.popKid):l=(await be(a.generateCnf.bind(a),W.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,r.addPopToken(l)}else if(t.authenticationScheme===Kt.SSH)if(t.sshJwk)r.addSshJwk(t.sshJwk);else throw en(Vv);if((!To.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case Ei.HOME_ACCOUNT_ID:try{const a=Lc(t.ccsCredential.credential);r.addCcsOid(a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Ei.UPN:r.addCcsUpn(t.ccsCredential.credential);break}return t.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenBodyParameters&&r.addExtraQueryParameters(t.tokenBodyParameters),r.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Aq extends CE{constructor(t,n){super(t,n)}async acquireToken(t){var n;try{const[r,i]=await this.acquireCachedToken({...t,scopes:(n=t.scopes)!=null&&n.length?t.scopes:[...xa]});return i===Xs.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new bw(this.config,this.performanceClient).acquireTokenByRefreshToken(t).catch(()=>{})),r}catch(r){if(r instanceof Bv&&r.errorCode===bs)return new bw(this.config,this.performanceClient).acquireTokenByRefreshToken(t);throw r}}async acquireCachedToken(t){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(W.SilentFlowClientAcquireCachedToken,t.correlationId);let n=Xs.NOT_APPLICABLE;if(t.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!To.isEmptyObj(t.claims))throw this.setCacheOutcome(Xs.FORCE_REFRESH_OR_CLAIMS,t.correlationId),pe(bs);if(!t.account)throw pe(rE);const r=t.account.tenantId||mq(t.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(t.account,t,i,r,this.performanceClient,t.correlationId);if(o){if(n4(o.cachedAt)||Cw(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Xs.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),pe(bs);o.refreshOn&&Cw(o.refreshOn,0)&&(n=Xs.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Xs.NO_CACHED_ACCESS_TOKEN,t.correlationId),pe(bs);const s=t.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(t.account),accessToken:o,idToken:this.cacheManager.getIdToken(t.account,i,r,this.performanceClient,t.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await be(this.generateResultFromCacheRecord.bind(this),W.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,t.correlationId)(a,t),n]}setCacheOutcome(t,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(t),(i=this.performanceClient)==null||i.addFields({cacheOutcome:t},n),t!==Xs.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${t}`)}async generateResultFromCacheRecord(t,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(W.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(t.idToken&&(r=Ul(t.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const o=r==null?void 0:r.auth_time;if(!o)throw pe(nE);wk(o,n.maxAge)}return Ol.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,n,r)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Iq={sendGetRequestAsync:()=>Promise.reject(pe(vt)),sendPostRequestAsync:()=>Promise.reject(pe(vt))};/*! @azure/msal-common v14.16.0 2024-11-05 */const dx=",",Yk="|";function xq(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(t!=null&&t.length){if(a=t.split(dx),a.length<4)return t}else a=Array.from({length:4},()=>Yk);return s.forEach((l,c)=>{var u,d;l.length===2&&((u=l[0])!=null&&u.length)&&((d=l[1])!=null&&d.length)&&Dq({skuArr:a,index:c,skuName:l[0],skuVersion:l[1]})}),a.join(dx)}function Dq(e){const{skuArr:t,index:n,skuName:r,skuVersion:i}=e;n>=t.length||(t[n]=[r,i].join(Yk))}class Vh{constructor(t,n){this.cacheOutcome=Xs.NOT_APPLICABLE,this.cacheManager=n,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||Z.EMPTY_STRING,this.wrapperVer=t.wrapperVer||Z.EMPTY_STRING,this.telemetryCacheKey=ur.CACHE_KEY+Ir.CACHE_KEY_SEPARATOR+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${ur.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(ur.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[t,o].join(ur.VALUE_SEPARATOR);return[ur.SCHEMA_VERSION,s,i].join(ur.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),n=Vh.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*n).join(ur.VALUE_SEPARATOR),i=t.errors.slice(0,n).join(ur.VALUE_SEPARATOR),o=t.errors.length,s=n<o?ur.OVERFLOW_TRUE:ur.OVERFLOW_FALSE,a=[o,s].join(ur.VALUE_SEPARATOR);return[ur.SCHEMA_VERSION,t.cacheHits,r,i,a].join(ur.CATEGORY_SEPARATOR)}cacheFailedRequest(t){const n=this.getLastRequests();n.errors.length>=ur.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof fn?t.subError?n.errors.push(t.subError):t.errorCode?n.errors.push(t.errorCode):n.errors.push(t.toString()):n.errors.push(t.toString()):n.errors.push(ur.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t}clearTelemetryCache(){const t=this.getLastRequests(),n=Vh.maxErrorsToSend(t),r=t.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:t.failedRequests.slice(n*2),errors:t.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(t){let n,r=0,i=0;const o=t.errors.length;for(n=0;n<o;n++){const s=t.failedRequests[2*n]||Z.EMPTY_STRING,a=t.failedRequests[2*n+1]||Z.EMPTY_STRING,l=t.errors[n]||Z.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+l.length+3,i<ur.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||Z.EMPTY_STRING),t.push(this.regionSource||Z.EMPTY_STRING),t.push(this.regionOutcome||Z.EMPTY_STRING),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const n=this.getLastRequests();n.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}static makeExtraSkuString(t){return xq(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Qk="missing_kid_error",Xk="missing_alg_error";/*! @azure/msal-common v14.16.0 2024-11-05 */const Fq={[Qk]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Xk]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class wE extends fn{constructor(t,n){super(t,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,wE.prototype)}}function hx(e){return new wE(e,Fq[e])}/*! @azure/msal-common v14.16.0 2024-11-05 */class bE{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw hx(Qk);if(!t.alg)throw hx(Xk);const n=new bE({typ:t.typ||G5.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(n)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class px{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Oq{generateId(){return"callback-id"}startMeasurement(t,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:gq.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:n||""},measurement:new px}}startPerformanceMeasurement(){return new px}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const RE="pkce_not_created",Rw="crypto_nonexistent",$v="empty_navigate_uri",Jk="hash_empty_error",EE="no_state_in_hash",Zk="hash_does_not_contain_known_properties",eL="unable_to_parse_state",tL="state_interaction_type_mismatch",nL="interaction_in_progress",rL="popup_window_error",iL="empty_window_error",Ml="user_cancelled",Mq="monitor_popup_timeout",oL="monitor_window_timeout",sL="redirect_in_iframe",aL="block_iframe_reload",lL="block_nested_popups",kq="iframe_closed_prematurely",jv="silent_logout_unsupported",cL="no_account_error",Lq="silent_prompt_value_error",uL="no_token_request_cache_error",dL="unable_to_parse_token_request_cache_error",PE="no_cached_authority_error",Nq="auth_request_not_set_error",_q="invalid_cache_type",Kv="non_browser_environment",gc="database_not_open",am="no_network_connectivity",hL="post_request_failed",pL="get_request_failed",Ew="failed_to_parse_response",fL="unable_to_load_token",TE="crypto_key_not_found",gL="auth_code_required",mL="auth_code_or_nativeAccountId_required",vL="spa_code_and_nativeAccountId_present",AE="database_unavailable",CL="unable_to_acquire_token_from_native_platform",yL="native_handshake_timeout",SL="native_extension_not_installed",Sp="native_connection_not_established",wL="uninitialized_public_client_application",bL="native_prompt_not_supported",RL="invalid_base64_string",EL="invalid_pop_token_request",PL="failed_to_build_headers",TL="failed_to_parse_headers";/*! @azure/msal-browser v3.28.0 2024-12-12 */const gs="For more visit: aka.ms/msaljs/browser-errors",Bq={[RE]:"The PKCE code challenge and verifier could not be generated.",[Rw]:"The crypto object or function is not available.",[$v]:"Navigation URI is empty. Please check stack trace for more info.",[Jk]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${gs}`,[EE]:"Hash does not contain state. Please verify that the request originated from msal.",[Zk]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${gs}`,[eL]:"Unable to parse state. Please verify that the request originated from msal.",[tL]:"Hash contains state but the interaction type does not match the caller.",[nL]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${gs}`,[rL]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[iL]:"window.open returned null or undefined window object.",[Ml]:"User cancelled the flow.",[Mq]:`Token acquisition in popup failed due to timeout.  ${gs}`,[oL]:`Token acquisition in iframe failed due to timeout.  ${gs}`,[sL]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[aL]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${gs}`,[lL]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[kq]:"The iframe being monitored was closed prematurely.",[jv]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[cL]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Lq]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[uL]:"No token request found in cache.",[dL]:"The cached token request could not be parsed.",[PE]:"No cached authority found.",[Nq]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[_q]:"Invalid cache type",[Kv]:"Login and token requests are not supported in non-browser environments.",[gc]:"Database is not open!",[am]:"No network connectivity. Check your internet connection.",[hL]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[pL]:"Network request failed. Please check the network trace to determine root cause.",[Ew]:"Failed to parse network response. Check network trace.",[fL]:"Error loading token to cache.",[TE]:"Cryptographic Key or Keypair not found in browser storage.",[gL]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[mL]:"An authorization code or nativeAccountId must be provided to this flow.",[vL]:"Request cannot contain both spa code and native account id.",[AE]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[CL]:`Unable to acquire token from native platform.  ${gs}`,[yL]:"Timed out while attempting to establish connection to browser extension",[SL]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Sp]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${gs}`,[wL]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${gs}`,[bL]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[RL]:"Invalid base64 encoded string.",[EL]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[PL]:"Failed to build request headers object.",[TL]:"Failed to parse response headers"};class wp extends fn{constructor(t,n){super(t,Bq[t],n),Object.setPrototypeOf(this,wp.prototype),this.name="BrowserAuthError"}}function ke(e,t){return new wp(e,t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const wi={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Nc={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},ul={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},ti={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},fx={GET:"GET",POST:"POST"},Ut={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},qs={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},yf={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},un={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var Oe;(function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"})(Oe||(Oe={}));const Jt={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},gx={scopes:xa},AL="jwk",Hq={React:"@azure/msal-react",Angular:"@azure/msal-angular"},Pw="msal.db",Gq=1,Vq=`${Pw}.keys`,vi={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},Wq=[vi.Default,vi.Skip,vi.RefreshTokenAndNetwork],Uq="msal.browser.log.level",zq="msal.browser.log.pii";/*! @azure/msal-browser v3.28.0 2024-12-12 */function Sf(e){return encodeURIComponent(IE(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function qv(e){return IL(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function IE(e){return IL(new TextEncoder().encode(e))}function IL(e){const t=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const $q="RSASSA-PKCS1-v1_5",xL="SHA-256",jq=2048,Kq=new Uint8Array([1,0,1]),mx="0123456789abcdef",vx=new Uint32Array(1),qq="crypto_subtle_undefined",xE={name:$q,hash:xL,modulusLength:jq,publicExponent:Kq};function Yq(){if(!window)throw ke(Kv);if(!window.crypto)throw ke(Rw);if(!window.crypto.subtle)throw ke(Rw,qq)}async function DL(e,t,n){t==null||t.addQueueMeasurement(W.Sha256Digest,n);const i=new TextEncoder().encode(e);return window.crypto.subtle.digest(xL,i)}function Qq(e){return window.crypto.getRandomValues(e)}function cy(){return window.crypto.getRandomValues(vx),vx[0]}function Hs(){const e=Date.now(),t=cy()*1024+(cy()&1023),n=new Uint8Array(16),r=Math.trunc(t/2**30),i=t&2**30-1,o=cy();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/2**16,n[4]=e/2**8,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=mx.charAt(n[a]>>>4),s+=mx.charAt(n[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function Xq(e,t){return window.crypto.subtle.generateKey(xE,e,t)}async function uy(e){return window.crypto.subtle.exportKey(AL,e)}async function Jq(e,t,n){return window.crypto.subtle.importKey(AL,e,xE,t,n)}async function Zq(e,t){return window.crypto.subtle.sign(xE,e,t)}async function FL(e){const t=await DL(e),n=new Uint8Array(t);return qv(n)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const Wh="storage_not_supported",Un="stubbed_public_client_application_called",lm="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.28.0 2024-12-12 */const ag={[Wh]:"Given storage configuration option was not supported.",[Un]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[lm]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};ag[Wh],ag[Un],ag[lm];class DE extends fn{constructor(t,n){super(t,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,DE.prototype)}}function zn(e){return new DE(e,ag[e])}/*! @azure/msal-browser v3.28.0 2024-12-12 */function e6(e){e.location.hash="",typeof e.history.replaceState=="function"&&e.history.replaceState(null,"",`${e.location.origin}${e.location.pathname}${e.location.search}`)}function t6(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function FE(){return window.parent!==window}function n6(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${wi.POPUP_NAME_PREFIX}.`)===0}function Rs(){return window.location.href.split("?")[0].split("#")[0]}function r6(){const t=new Ft(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function i6(){if(Ft.hashContainsKnownProperties(window.location.hash)&&FE())throw ke(aL)}function o6(e){if(FE()&&!e)throw ke(sL)}function s6(){if(n6())throw ke(lL)}function OL(){if(typeof window>"u")throw ke(Kv)}function ML(e){if(!e)throw ke(wL)}function OE(e){OL(),i6(),s6(),ML(e)}function Cx(e,t){if(OE(e),o6(t.system.allowRedirectInIframe),t.cache.cacheLocation===ti.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw zn(lm)}function kL(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function a6(){return Hs()}/*! @azure/msal-browser v3.28.0 2024-12-12 */class cm{navigateInternal(t,n){return cm.defaultNavigateWindow(t,n)}navigateExternal(t,n){return cm.defaultNavigateWindow(t,n)}static defaultNavigateWindow(t,n){return n.noHistory?window.location.replace(t):window.location.assign(t),new Promise(r=>{setTimeout(()=>{r(!0)},n.timeout)})}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class l6{async sendGetRequestAsync(t,n){let r,i={},o=0;const s=yx(n);try{r=await fetch(t,{method:fx.GET,headers:s})}catch{throw ke(window.navigator.onLine?pL:am)}i=Sx(r.headers);try{return o=r.status,{headers:i,body:await r.json(),status:o}}catch{throw lx(ke(Ew),o,i)}}async sendPostRequestAsync(t,n){const r=n&&n.body||"",i=yx(n);let o,s=0,a={};try{o=await fetch(t,{method:fx.POST,headers:i,body:r})}catch{throw ke(window.navigator.onLine?hL:am)}a=Sx(o.headers);try{return s=o.status,{headers:a,body:await o.json(),status:s}}catch{throw lx(ke(Ew),s,a)}}}function yx(e){try{const t=new Headers;if(!(e&&e.headers))return t;const n=e.headers;return Object.entries(n).forEach(([r,i])=>{t.append(r,i)}),t}catch{throw ke(PL)}}function Sx(e){try{const t={};return e.forEach((n,r)=>{t[r]=n}),t}catch{throw ke(TL)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const c6=6e4,Tw=1e4,u6=3e4,d6=2e3;function h6({auth:e,cache:t,system:n,telemetry:r},i){const o={clientId:Z.EMPTY_STRING,authority:`${Z.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Z.EMPTY_STRING,authorityMetadata:Z.EMPTY_STRING,redirectUri:typeof window<"u"?Rs():"",postLogoutRedirectUri:Z.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ps.AAD,OIDCOptions:{serverResponseType:yp.FRAGMENT,defaultScopes:[Z.OPENID_SCOPE,Z.PROFILE_SCOPE,Z.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:aE.None,tenant:Z.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:ti.SessionStorage,temporaryCacheLocation:ti.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(t&&t.cacheLocation===ti.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Cn.Info,piiLoggingEnabled:!1},c={...{...Wk,loggerOptions:a,networkClient:i?new l6:Iq,navigationClient:new cm,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||c6,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||Tw,navigateFrameWait:0,redirectNavigationTimeout:u6,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||d6,pollIntervalMilliseconds:wi.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||a},u={application:{appName:Z.EMPTY_STRING,appVersion:Z.EMPTY_STRING},client:new Oq};if((e==null?void 0:e.protocolMode)!==Ps.OIDC&&(e!=null&&e.OIDCOptions)&&new Bs(c.loggerOptions).warning(JSON.stringify(en(kk))),e!=null&&e.protocolMode&&e.protocolMode!==Ps.AAD&&(c!=null&&c.allowNativeBroker))throw en(Lk);return{auth:{...o,...e,OIDCOptions:{...o.OIDCOptions,...e==null?void 0:e.OIDCOptions}},cache:{...s,...t},system:c,telemetry:{...u,...r}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const p6="@azure/msal-browser",Yv="3.28.0";/*! @azure/msal-browser v3.28.0 2024-12-12 */class ME{static loggerCallback(t,n){switch(t){case Cn.Error:console.error(n);return;case Cn.Info:console.info(n);return;case Cn.Verbose:console.debug(n);return;case Cn.Warning:console.warn(n);return;default:console.log(n);return}}constructor(t){var l;this.browserEnvironment=typeof window<"u",this.config=h6(t,this.browserEnvironment);let n;try{n=window[ti.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(Uq),i=(l=n==null?void 0:n.getItem(zq))==null?void 0:l.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(Cn).includes(r)?Cn[r]:void 0;a&&(s.loggerCallback=ME.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new Bs(s,p6,Yv),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class kl extends ME{getModuleName(){return kl.MODULE_NAME}getId(){return kl.ID}async initialize(){return this.available=typeof window<"u",this.available}}kl.MODULE_NAME="";kl.ID="StandardOperatingContext";/*! @azure/msal-browser v3.28.0 2024-12-12 */function ts(e){return new TextDecoder().decode(f6(e))}function f6(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw ke(RL)}const n=atob(t);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class g6{constructor(){this.dbName=Pw,this.version=Gq,this.tableName=Vq,this.dbOpen=!1}async open(){return new Promise((t,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,t()}),r.addEventListener("error",()=>n(ke(AE)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ke(gc));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);s.addEventListener("success",a=>{const l=a;this.closeConnection(),n(l.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(t,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(ke(gc));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,t);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",l=>{this.closeConnection(),i(l)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ke(gc));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);s.addEventListener("success",()=>{this.closeConnection(),n()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ke(gc));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const a=s;this.closeConnection(),t(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ke(gc));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);s.addEventListener("success",a=>{const l=a;this.closeConnection(),n(l.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,n)=>{const r=window.indexedDB.deleteDatabase(Pw),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),t(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),t(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Aw{constructor(){this.cache=new Map}getItem(t){return this.cache.get(t)||null}setItem(t,n){this.cache.set(t,n)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((n,r)=>{t.push(r)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class m6{constructor(t){this.inMemoryCache=new Aw,this.indexedDBCache=new g6,this.logger=t}handleDatabaseAccessError(t){if(t instanceof wp&&t.errorCode===AE)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw t}async getItem(t){const n=this.inMemoryCache.getItem(t);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(t)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(t,n){this.inMemoryCache.setItem(t,n);try{await this.indexedDBCache.setItem(t,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(t){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const t=this.inMemoryCache.getKeys();if(t.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return t}async containsKey(t){const n=this.inMemoryCache.containsKey(t);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(t)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const t=await this.indexedDBCache.deleteDatabase();return t&&this.logger.verbose("Persistent keystore deleted"),t}catch(t){return this.handleDatabaseAccessError(t),!1}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class vu{constructor(t,n){this.logger=t,Yq(),this.cache=new m6(this.logger),this.performanceClient=n}createNewGuid(){return Hs()}base64Encode(t){return IE(t)}base64Decode(t){return ts(t)}base64UrlEncode(t){return Sf(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){var u;const n=(u=this.performanceClient)==null?void 0:u.startMeasurement(W.CryptoOptsGetPublicKeyThumbprint,t.correlationId),r=await Xq(vu.EXTRACTABLE,vu.POP_KEY_USAGES),i=await uy(r.publicKey),o={e:i.e,kty:i.kty,n:i.n},s=wx(o),a=await this.hashString(s),l=await uy(r.privateKey),c=await Jq(l,!1,["sign"]);return await this.cache.setItem(a,{privateKey:c,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(t){return await this.cache.removeItem(t),!await this.cache.containsKey(t)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(t,n,r,i){var m;const o=(m=this.performanceClient)==null?void 0:m.startMeasurement(W.CryptoOptsSignJwt,i),s=await this.cache.getItem(n);if(!s)throw ke(TE);const a=await uy(s.publicKey),l=wx(a),c=Sf(JSON.stringify({kid:n})),u=bE.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:c}),d=Sf(u);t.cnf={jwk:JSON.parse(l)};const h=Sf(JSON.stringify(t)),p=`${d}.${h}`,C=new TextEncoder().encode(p),y=await Zq(s.privateKey,C),g=qv(new Uint8Array(y)),v=`${p}.${g}`;return o&&o.end({success:!0}),v}async hashString(t){return FL(t)}}vu.POP_KEY_USAGES=["sign","verify"];vu.EXTRACTABLE=!0;function wx(e){return JSON.stringify(e,Object.keys(e).sort())}/*! @azure/msal-browser v3.28.0 2024-12-12 */class v6{constructor(){if(!window.localStorage)throw zn(Wh)}getItem(t){return window.localStorage.getItem(t)}setItem(t,n){window.localStorage.setItem(t,n)}removeItem(t){window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class C6{constructor(){if(!window.sessionStorage)throw zn(Wh)}getItem(t){return window.sessionStorage.getItem(t)}setItem(t,n){window.sessionStorage.setItem(t,n)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function LL(e,t){if(!t)return null;try{return Ao.parseRequestState(e,t).libraryState.meta}catch{throw pe(fu)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const y6=24*60*60*1e3;class S6{getItem(t){const n=`${encodeURIComponent(t)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const o=r[i],[s,...a]=decodeURIComponent(o).trim().split("="),l=a.join("=");if(s===n)return l}return""}setItem(t,n,r,i=!0){let o=`${encodeURIComponent(t)}=${encodeURIComponent(n)};path=/;SameSite=Lax;`;if(r){const s=w6(r);o+=`expires=${s};`}i&&(o+="Secure;"),document.cookie=o}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),n=[];return t.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(t){return this.getKeys().includes(t)}}function w6(e){const t=new Date;return new Date(t.getTime()+e*y6).toUTCString()}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Iw extends gu{constructor(t,n,r,i,o,s){super(t,r,i,o),this.cacheConfig=n,this.logger=i,this.internalStorage=new Aw,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new S6,n.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(t){try{switch(t){case ti.LocalStorage:return new v6;case ti.SessionStorage:return new C6;case ti.MemoryStorage:default:break}}catch(n){this.logger.error(n)}return this.cacheConfig.cacheLocation=ti.MemoryStorage,new Aw}migrateCacheEntries(){const t=`${Z.CACHE_PREFIX}.${er.ID_TOKEN}`,n=`${Z.CACHE_PREFIX}.${er.CLIENT_INFO}`,r=`${Z.CACHE_PREFIX}.${er.ERROR}`,i=`${Z.CACHE_PREFIX}.${er.ERROR_DESC}`,o=this.browserStorage.getItem(t),s=this.browserStorage.getItem(n),a=this.browserStorage.getItem(r),l=this.browserStorage.getItem(i),c=[o,s,a,l];[er.ID_TOKEN,er.CLIENT_INFO,er.ERROR,er.ERROR_DESC].forEach((d,h)=>{const p=c[h];p&&this.setTemporaryCache(d,p,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const t=this.getItem(qs.ACCOUNT_KEYS),n=this.getItem(`${qs.TOKEN_KEYS}.${this.clientId}`);if(t&&n){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const o=this.getItem(i);if(o){const s=this.validateAndParseJson(o);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case qe.ID_TOKEN:if(JI(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const a=s,l=this.updateCredentialCacheKey(i,a);this.addTokenKey(l,qe.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case qe.ACCESS_TOKEN:case qe.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(XI(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const a=s,l=this.updateCredentialCacheKey(i,a);this.addTokenKey(l,qe.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case qe.REFRESH_TOKEN:if(ZI(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const a=s,l=this.updateCredentialCacheKey(i,a);this.addTokenKey(l,qe.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const o=this.getItem(i);if(o){const s=this.validateAndParseJson(o);s&&Qn.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(t){try{const n=JSON.parse(t);return n&&typeof n=="object"?n:null}catch{return null}}getItem(t){return this.browserStorage.getItem(t)}setItem(t,n){this.browserStorage.setItem(t,n)}getAccount(t,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.getCachedAccountEntity(t);return this.updateOutdatedCachedAccount(t,r,n)}getCachedAccountEntity(t){const n=this.getItem(t);if(!n)return this.removeAccountKeyFromMap(t),null;const r=this.validateAndParseJson(n);return!r||!Qn.isAccountEntity(r)?(this.removeAccountKeyFromMap(t),null):gu.toObject(new Qn,r)}setAccount(t){this.logger.trace("BrowserCacheManager.setAccount called");const n=t.generateAccountKey();this.setItem(n,JSON.stringify(t)),this.addAccountKeyToMap(n)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const t=this.getItem(qs.ACCOUNT_KEYS);return t?JSON.parse(t):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${t}`);const n=this.getAccountKeys();n.indexOf(t)===-1?(n.push(t),this.setItem(qs.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${t}`);const n=this.getAccountKeys(),r=n.indexOf(t);r>-1?(n.splice(r,1),this.setItem(qs.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(t){super.removeAccount(t),this.removeAccountKeyFromMap(t)}removeOutdatedAccount(t){this.removeItem(t),this.removeAccountKeyFromMap(t)}removeIdToken(t){super.removeIdToken(t),this.removeTokenKey(t,qe.ID_TOKEN)}async removeAccessToken(t){super.removeAccessToken(t),this.removeTokenKey(t,qe.ACCESS_TOKEN)}removeRefreshToken(t){super.removeRefreshToken(t),this.removeTokenKey(t,qe.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const t=this.getItem(`${qs.TOKEN_KEYS}.${this.clientId}`);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("idToken")&&n.hasOwnProperty("accessToken")&&n.hasOwnProperty("refreshToken"))return n;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(t,n){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(n){case qe.ID_TOKEN:r.idToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(t));break;case qe.ACCESS_TOKEN:r.accessToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(t));break;case qe.REFRESH_TOKEN:r.refreshToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(t));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${n}`),pe(vw)}this.setItem(`${qs.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(t,n){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(n){case qe.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${t} from map`);const i=r.idToken.indexOf(t);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case qe.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${t} from map`);const o=r.accessToken.indexOf(t);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case qe.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${t} from map`);const s=r.refreshToken.indexOf(t);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${n}`),pe(vw)}this.setItem(`${qs.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,qe.ID_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!JI(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,qe.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=kc(t);this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,qe.ID_TOKEN)}getAccessTokenCredential(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,qe.ACCESS_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!XI(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,qe.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=kc(t);this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,qe.ACCESS_TOKEN)}getRefreshTokenCredential(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,qe.REFRESH_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!ZI(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,qe.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=kc(t);this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,qe.REFRESH_TOKEN)}getAppMetadata(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!d4(t,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(t){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=u4(t);this.setItem(n,JSON.stringify(t))}getServerTelemetry(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!l4(t,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(t,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(n))}getAuthorityMetadata(t){const n=this.internalStorage.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&h4(t,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(t,n){this.internalStorage.setItem(yf.WRAPPER_SKU,t),this.internalStorage.setItem(yf.WRAPPER_VER,n)}getWrapperMetadata(){const t=this.internalStorage.getItem(yf.WRAPPER_SKU)||Z.EMPTY_STRING,n=this.internalStorage.getItem(yf.WRAPPER_VER)||Z.EMPTY_STRING;return[t,n]}setAuthorityMetadata(t,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(n))}getActiveAccount(){const t=this.generateCacheKey(er.ACTIVE_ACCOUNT_FILTERS),n=this.getItem(t);if(!n){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(er.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const s=this.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}const r=this.validateAndParseJson(n);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(t){const n=this.generateCacheKey(er.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(er.ACTIVE_ACCOUNT);if(t){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId};this.browserStorage.setItem(n,JSON.stringify(i)),this.browserStorage.setItem(r,t.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n),this.browserStorage.removeItem(r)}getThrottlingCache(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!c4(t,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(t,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(n))}getTemporaryCache(t,n){const r=n?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===ti.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(t,n,r){const i=r?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(t))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(t=>{(t.indexOf(Z.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(t.indexOf(Z.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(t,n){t.addQueueMeasurement(W.ClearTokensAndKeysWithClaims,n);const r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{const s=this.getAccessTokenCredential(o);s!=null&&s.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(t){return this.validateAndParseJson(t)?JSON.stringify(t):To.startsWith(t,Z.CACHE_PREFIX)||To.startsWith(t,er.ADAL_ID_TOKEN)?t:`${Z.CACHE_PREFIX}.${this.clientId}.${t}`}generateAuthorityKey(t){const{libraryState:{id:n}}=Ao.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`${Ut.AUTHORITY}.${n}`)}generateNonceKey(t){const{libraryState:{id:n}}=Ao.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`${Ut.NONCE_IDTOKEN}.${n}`)}generateStateKey(t){const{libraryState:{id:n}}=Ao.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`${Ut.REQUEST_STATE}.${n}`)}getCachedAuthority(t){const n=this.generateStateKey(t),r=this.getTemporaryCache(n);if(!r)return null;const i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(t,n,r,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(t);this.setTemporaryCache(s,t,!1);const a=this.generateNonceKey(t);this.setTemporaryCache(a,n,!1);const l=this.generateAuthorityKey(t);if(this.setTemporaryCache(l,r,!1),o){const c={credential:o.homeAccountId,type:Ei.HOME_ACCOUNT_ID};this.setTemporaryCache(Ut.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(i){const c={credential:i,type:Ei.UPN};this.setTemporaryCache(Ut.CCS_CREDENTIAL,JSON.stringify(c),!0)}}resetRequestCache(t){this.logger.trace("BrowserCacheManager.resetRequestCache called"),t&&(this.temporaryCacheStorage.getKeys().forEach(n=>{n.indexOf(t)!==-1&&this.removeTemporaryItem(n)}),this.removeTemporaryItem(this.generateStateKey(t)),this.removeTemporaryItem(this.generateNonceKey(t)),this.removeTemporaryItem(this.generateAuthorityKey(t))),this.removeTemporaryItem(this.generateCacheKey(Ut.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Ut.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Ut.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Ut.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(Ut.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(Ut.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(t){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),t){const n=this.generateStateKey(t),r=this.temporaryCacheStorage.getItem(n);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||Z.EMPTY_STRING)}}cleanRequestByInteractionType(t){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(n=>{if(n.indexOf(Ut.REQUEST_STATE)===-1)return;const r=this.temporaryCacheStorage.getItem(n);if(!r)return;const i=LL(this.cryptoImpl,r);i&&i.interactionType===t&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.setInteractionInProgress(!1)}cacheCodeRequest(t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const n=IE(JSON.stringify(t));this.setTemporaryCache(Ut.REQUEST_PARAMS,n,!0)}getCachedRequest(t){this.logger.trace("BrowserCacheManager.getCachedRequest called");const n=this.getTemporaryCache(Ut.REQUEST_PARAMS,!0);if(!n)throw ke(uL);let r;try{r=JSON.parse(ts(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${n}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),ke(dL)}if(this.removeTemporaryItem(this.generateCacheKey(Ut.REQUEST_PARAMS)),!r.authority){const i=this.generateAuthorityKey(t),o=this.getTemporaryCache(i);if(!o)throw ke(PE);r.authority=o}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const t=this.getTemporaryCache(Ut.NATIVE_REQUEST,!0);if(!t)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(t);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(t){const n=this.getInteractionInProgress();return t?n===this.clientId:!!n}getInteractionInProgress(){const t=`${Z.CACHE_PREFIX}.${Ut.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(t,!1)}setInteractionInProgress(t){const n=`${Z.CACHE_PREFIX}.${Ut.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())throw ke(nL);this.setTemporaryCache(n,this.clientId,!1)}else!t&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(n)}getLegacyLoginHint(){const t=this.getTemporaryCache(er.ADAL_ID_TOKEN);t&&(this.browserStorage.removeItem(er.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const n=this.getTemporaryCache(er.ID_TOKEN,!0);n&&(this.browserStorage.removeItem(this.generateCacheKey(er.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const r=n||t;if(r){const i=Ul(r,ts);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(t,n){const r=kc(n);if(t!==r){const i=this.getItem(t);if(i)return this.browserStorage.removeItem(t),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${n.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${n.credentialType} cache key but no item matching the outdated key was found in storage`)}return t}async hydrateCache(t,n){var a,l,c;const r=Hv((a=t.account)==null?void 0:a.homeAccountId,(l=t.account)==null?void 0:l.environment,t.idToken,this.clientId,t.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const o=Gv((c=t.account)==null?void 0:c.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?t.expiresOn.getTime()/1e3:0,t.extExpiresOn?t.extExpiresOn.getTime()/1e3:0,ts,void 0,t.tokenType,void 0,n.sshKid,n.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s)}async saveCacheRecord(t,n,r){try{await super.saveCacheRecord(t,n,r)}catch(i){if(i instanceof qc&&this.performanceClient&&r)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},r)}catch{}throw i}}}const b6=(e,t)=>{const n={cacheLocation:ti.MemoryStorage,temporaryCacheLocation:ti.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Iw(e,n,tm,t)};/*! @azure/msal-browser v3.28.0 2024-12-12 */function R6(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}function E6(e,t,n){if(t.trace("getAccount called"),Object.keys(e).length===0)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}function P6(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}function T6(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function A6(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function I6(e,t){t.setActiveAccount(e)}function x6(e){return e.getActiveAccount()}/*! @azure/msal-browser v3.28.0 2024-12-12 */const Ie={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.28.0 2024-12-12 */class D6{constructor(t){this.eventCallbacks=new Map,this.logger=t||new Bs({})}addEventCallback(t,n,r){if(typeof window<"u"){const i=r||a6();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[t,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose(`Event callback ${t} removed.`)}emitEvent(t,n,r,i){if(typeof window<"u"){const o={eventType:t,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],l)=>{(a.length===0||a.includes(t))&&(this.logger.verbose(`Emitting event to callback ${l}: ${t}`),s.apply(null,[o]))})}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class NL{constructor(t,n,r,i,o,s,a,l,c){this.config=t,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=l,this.correlationId=c||Hs(),this.logger=i.clone(wi.MSAL_SKU,Yv,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(t){if(t){Qn.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Qn.generateAccountCacheKey(t)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(t){this.logger.verbose("getRedirectUri called");const n=t||this.config.auth.redirectUri;return Ft.getAbsoluteUrl(n,Rs())}initializeServerTelemetryManager(t,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Vh(r,this.browserStorage)}async getDiscoveredAuthority(t){const{account:n}=t,r=t.requestExtraQueryParameters&&t.requestExtraQueryParameters.hasOwnProperty("instance_aware")?t.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(W.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=t.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=n&&s?this.config.auth.authority.replace(Ft.getDomainFromUrl(o),n.environment):o,l=Pr.generateAuthority(a,t.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await be($k,W.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(l,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!c.isAlias(n.environment))throw en(Nk);return c}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const F6=32;async function O6(e,t,n){e.addQueueMeasurement(W.GeneratePkceCodes,n);const r=zl(M6,W.GenerateCodeVerifier,t,e,n)(e,t,n),i=await be(k6,W.GenerateCodeChallengeFromVerifier,t,e,n)(r,e,t,n);return{verifier:r,challenge:i}}function M6(e,t,n){try{const r=new Uint8Array(F6);return zl(Qq,W.GetRandomValues,t,e,n)(r),qv(r)}catch{throw ke(RE)}}async function k6(e,t,n,r){t.addQueueMeasurement(W.GenerateCodeChallengeFromVerifier,r);try{const i=await be(DL,W.Sha256Digest,n,t,r)(e,t,r);return qv(new Uint8Array(i))}catch{throw ke(RE)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function kE(e,t,n,r){n.addQueueMeasurement(W.InitializeBaseRequest,e.correlationId);const i=e.authority||t.auth.authority,o=[...e&&e.scopes||[]],s={...e,correlationId:e.correlationId,authority:i,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=Kt.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Kt.SSH){if(!e.sshJwk)throw en(Vv);if(!e.sshKid)throw en(Mk)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return t.cache.claimsBasedCachingEnabled&&e.claims&&!To.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await FL(e.claims)),s}async function L6(e,t,n,r,i){r.addQueueMeasurement(W.InitializeSilentRequest,e.correlationId);const o=await be(kE,W.InitializeBaseRequest,i,r,e.correlationId)(e,n,r,i);return{...e,...o,account:t,forceRefresh:e.forceRefresh||!1}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class ku extends NL{async initializeAuthorizationCodeRequest(t){this.performanceClient.addQueueMeasurement(W.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const n=await be(O6,W.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...t,redirectUri:t.redirectUri,code:Z.EMPTY_STRING,codeVerifier:n.verifier};return t.codeChallenge=n.challenge,t.codeChallengeMethod=Z.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(t){this.logger.verbose("initializeLogoutRequest called",t==null?void 0:t.correlationId);const n={correlationId:this.correlationId||Hs(),...t};if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){const r=this.getLogoutHintFromIdTokenClaims(t.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Ft.getAbsoluteUrl(t.postLogoutRedirectUri,Rs())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Ft.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Rs())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Ft.getAbsoluteUrl(Rs(),Rs())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(t){const n=t.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(t){this.performanceClient.addQueueMeasurement(W.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await be(this.getClientConfiguration.bind(this),W.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(t);return new qk(n,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=t;this.performanceClient.addQueueMeasurement(W.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await be(this.getDiscoveredAuthority.bind(this),W.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),l=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:wi.MSAL_SKU,version:Yv,cpu:Z.EMPTY_STRING,os:Z.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(t,n){this.performanceClient.addQueueMeasurement(W.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(t.redirectUri),i={interactionType:n},o=Ao.setRequestState(this.browserCrypto,t&&t.state||Z.EMPTY_STRING,i),a={...await be(kE,W.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...t,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:o,nonce:t.nonce||Hs(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(t.loginHint||t.sid)return a;const l=t.account||this.browserStorage.getActiveAccount();if(l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,this.correlationId),a.account=l),!a.loginHint&&!l){const c=this.browserStorage.getLegacyLoginHint();c&&(a.loginHint=c)}return a}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const N6="ContentError",_L="user_switch";/*! @azure/msal-browser v3.28.0 2024-12-12 */const _6="USER_INTERACTION_REQUIRED",B6="USER_CANCEL",H6="NO_NETWORK",G6="PERSISTENT_ERROR",V6="DISABLED",W6="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.28.0 2024-12-12 */const U6=-2147186943,z6={[_L]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class jo extends fn{constructor(t,n,r){super(t,n),Object.setPrototypeOf(this,jo.prototype),this.name="NativeAuthError",this.ext=r}}function mc(e){if(e.ext&&e.ext.status&&(e.ext.status===G6||e.ext.status===V6)||e.ext&&e.ext.error&&e.ext.error===U6)return!0;switch(e.errorCode){case N6:return!0;default:return!1}}function xw(e,t,n){if(n&&n.status)switch(n.status){case W6:return ww(jk);case _6:return new lo(e,t);case B6:return ke(Ml);case H6:return ke(am)}return new jo(e,z6[e]||t,n)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class BL extends ku{async acquireToken(t){this.performanceClient.addQueueMeasurement(W.SilentCacheClientAcquireToken,t.correlationId);const n=this.initializeServerTelemetryManager(un.acquireTokenSilent_silentFlow),r=await be(this.getClientConfiguration.bind(this),W.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),i=new Aq(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await be(i.acquireCachedToken.bind(i),W.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),s}catch(o){throw o instanceof wp&&o.errorCode===TE&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(t){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(t);return this.clearCacheOnLogout(n==null?void 0:n.account)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Yc extends NL{constructor(t,n,r,i,o,s,a,l,c,u,d,h){var f;super(t,n,r,i,o,s,l,c,h),this.apiId=a,this.accountId=u,this.nativeMessageHandler=c,this.nativeStorageManager=d,this.silentCacheClient=new BL(t,this.nativeStorageManager,r,i,o,s,l,c,h),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const p=this.nativeMessageHandler.getExtensionId()===Nc.PREFERRED_EXTENSION_ID?"chrome":(f=this.nativeMessageHandler.getExtensionId())!=null&&f.length?"unknown":void 0;this.skus=Vh.makeExtraSkuString({libraryName:wi.MSAL_SKU,libraryVersion:Yv,extensionName:p,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[uq]:this.skus}}async acquireToken(t){this.performanceClient.addQueueMeasurement(W.NativeInteractionClientAcquireToken,t.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(W.NativeInteractionClientAcquireToken,t.correlationId),r=os();try{const i=await this.initializeNativeRequest(t);try{const c=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...o}=i,s={method:ul.GetToken,request:o},a=await this.nativeMessageHandler.sendMessage(s),l=this.validateNativeResponse(a);return await this.handleNativeResponse(l,i,r).then(c=>(n.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),c)).catch(c=>{throw n.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError,isNativeBroker:!0}),c})}catch(i){throw i instanceof jo&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(t,n){return{authority:t.authority,correlationId:this.correlationId,scopes:Hn.fromString(t.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(t,n){if(!t)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),pe(gw);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:t});if(!r)throw pe(gw);try{const i=this.createSilentCacheRequest(n,r),o=await this.silentCacheClient.acquireToken(i),s={...r,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(i){throw i}}async acquireTokenRedirect(t,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=t;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r),o={method:ul.GetToken,request:i};try{const l=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(l)}catch(l){if(l instanceof jo&&(this.serverTelemetryManager.setNativeBrokerErrorCode(l.errorCode),mc(l)))throw l}this.browserStorage.setTemporaryCache(Ut.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:un.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(t,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),t&&n&&(t==null||t.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...o}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ut.NATIVE_REQUEST));const s={method:ul.GetToken,request:o},a=os();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const l=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(l);const c=this.handleNativeResponse(l,o,a);this.browserStorage.setInteractionInProgress(!1);const u=await c;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),u}catch(l){throw this.browserStorage.setInteractionInProgress(!1),l}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,n,r){var u;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=Ul(t.id_token,ts),o=this.createHomeAccountIdentifier(t,i),s=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId}))==null?void 0:u.homeAccountId;if(o!==s&&t.account.id!==n.accountId)throw xw(_L);const a=await this.getDiscoveredAuthority({requestAuthority:n.authority}),l=SE(this.browserStorage,a,o,ts,i,t.client_info,void 0,i.tid,void 0,t.account.id,this.logger),c=await this.generateAuthenticationResult(t,n,i,l,a.canonicalAuthority,r);return this.cacheAccount(l),this.cacheNativeTokens(t,n,o,i,t.access_token,c.tenantId,r),c}createHomeAccountIdentifier(t,n){return Qn.generateHomeAccountId(t.client_info||Z.EMPTY_STRING,vo.Default,this.logger,this.browserCrypto,n)}generateScopes(t,n){return t.scope?Hn.fromString(t.scope):Hn.fromString(n.scope)}async generatePopAccessToken(t,n){if(n.tokenType===Kt.POP&&n.signPopToken){if(t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),t.shr;const r=new mu(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw pe(oE);return r.signPopToken(t.access_token,n.keyId,i)}else return t.access_token}async generateAuthenticationResult(t,n,r,i,o,s){const a=this.addTelemetryFromNativeResponse(t),l=t.scope?Hn.fromString(t.scope):Hn.fromString(n.scope),c=t.account.properties||{},u=c.UID||r.oid||r.sub||Z.EMPTY_STRING,d=c.TenantId||r.tid||Z.EMPTY_STRING,h=fE(i.getAccountInfo(),void 0,r,t.id_token);h.nativeAccountId!==t.account.id&&(h.nativeAccountId=t.account.id);const p=await this.generatePopAccessToken(t,n),f=n.tokenType===Kt.POP?Kt.POP:Kt.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:l.asArray(),account:h,idToken:t.id_token,idTokenClaims:r,accessToken:p,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+t.expires_in)*1e3),tokenType:f,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0}}cacheAccount(t){this.browserStorage.setAccount(t),this.browserStorage.removeAccountContext(t).catch(n=>{this.logger.error(`Error occurred while removing account context from browser storage. ${n}`)})}cacheNativeTokens(t,n,r,i,o,s,a){const l=Hv(r,n.authority,t.id_token||"",n.clientId,i.tid||""),c=n.tokenType===Kt.POP?Z.SHR_NONCE_VALIDITY:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,u=a+c,d=this.generateScopes(t,n),h=Gv(r,n.authority,o,n.clientId,i.tid||s,d.printScopes(),u,0,ts,void 0,n.tokenType,void 0,n.keyId),p={idToken:l,accessToken:h};this.nativeStorageManager.saveCacheRecord(p,n.storeInCache)}addTelemetryFromNativeResponse(t){const n=this.getMATSFromResponse(t);return n?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}validateNativeResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw nk(ZR,"Response missing expected properties.")}getMATSFromResponse(t){if(t.properties.MATS)try{return JSON.parse(t.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=t.authority||this.config.auth.authority;t.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:t.azureCloudOptions,account:t.account});const r=new Ft(n);r.validateAsUri();const{scopes:i,...o}=t,s=new Hn(i||[]);s.appendScopes(xa);const a=()=>{switch(this.apiId){case un.ssoSilent:case un.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),nr.NONE}if(!t.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(t.prompt){case nr.NONE:case nr.CONSENT:case nr.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${t.prompt} is not compatible with native flow`),ke(bL)}},l={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraQueryParameters,...t.tokenQueryParameters},extendedExpiryToken:!1,keyId:t.popKid};if(l.signPopToken&&t.popKid)throw ke(EL);if(this.handleExtraBrokerParams(l),l.extraParameters=l.extraParameters||{},l.extraParameters.telemetry=Nc.MATS_TELEMETRY,t.authenticationScheme===Kt.POP){const c={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},u=new mu(this.browserCrypto);let d;if(l.keyId)d=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:l.keyId})),l.signPopToken=!1;else{const h=await be(u.generateCnf.bind(u),W.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(c,this.logger);d=h.reqCnfString,l.keyId=h.kid,l.signPopToken=!0}l.reqCnf=d}return this.addRequestSKUs(l),l}handleExtraBrokerParams(t){var o;const n=t.extraParameters&&t.extraParameters.hasOwnProperty(vE)&&t.extraParameters.hasOwnProperty(Sw)&&t.extraParameters.hasOwnProperty(Fl);if(!t.embeddedClientId&&!n)return;let r="";const i=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,r=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[Sw],r=t.extraParameters[Fl]),t.extraParameters={child_client_id:r,child_redirect_uri:i},(o=this.performanceClient)==null||o.addFields({embeddedClientId:r,embeddedRedirectUri:i},t.correlationId)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Qo{constructor(t,n,r,i){this.logger=t,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(W.NativeMessageHandlerHandshake)}async sendMessage(t){this.logger.trace("NativeMessageHandler - sendMessage called.");const n={channel:Nc.CHANNEL_ID,extensionId:this.extensionId,responseId:Hs(),body:t};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n),new Promise((r,i)=>{this.resolvers.set(n.responseId,{resolve:r,reject:i})})}static async createProvider(t,n,r){t.trace("NativeMessageHandler - createProvider called.");try{const i=new Qo(t,n,r,Nc.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new Qo(t,n,r);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const t={channel:Nc.CHANNEL_ID,extensionId:this.extensionId,responseId:Hs(),body:{method:ul.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(t,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(t.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(ke(yL)),this.handshakeResolvers.delete(t.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source!==window)return;const n=t.data;if(!(!n.channel||n.channel!==Nc.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===ul.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(ke(SL))}}onChannelMessage(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const n=t.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const o=n.body.method;if(o===ul.Response){if(!r)return;const s=n.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(xw(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(xw(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw nk(ZR,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(o===ul.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${t}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(t,n,r,i){if(n.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return n.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return n.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Kt.BEARER:case Kt.POP:return n.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return n.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class LE{constructor(t,n,r,i,o){this.authModule=t,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async handleCodeResponse(t,n){this.performanceClient.addQueueMeasurement(W.HandleCodeResponse,n.correlationId);let r;try{r=this.authModule.handleFragmentResponse(t,n.state)}catch(i){throw i instanceof Da&&i.subError===Ml?ke(Ml):i}return be(this.handleCodeResponseFromServer.bind(this),W.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(t,n,r=!0){if(this.performanceClient.addQueueMeasurement(W.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=t.code,t.cloud_instance_host_name&&await be(this.authModule.updateAuthority.bind(this.authModule),W.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(t.cloud_instance_host_name,n.correlationId),r&&(t.nonce=n.nonce||void 0),t.state=n.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const o=this.createCcsCredentials(n);o&&(this.authCodeRequest.ccsCredential=o)}return await be(this.authModule.acquireToken.bind(this.authModule),W.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:Ei.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:Ei.UPN}:null}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function HL(e,t,n){const r=im(e);if(!r)throw Bk(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),ke(Zk)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),ke(Jk));return r}function $6(e,t,n){if(!e.state)throw ke(EE);const r=LL(t,e.state);if(!r)throw ke(eL);if(r.interactionType!==n)throw ke(tL)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class j6 extends ku{constructor(t,n,r,i,o,s,a,l,c,u){super(t,n,r,i,o,s,a,c,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=l}acquireToken(t){try{const r={popupName:this.generatePopupName(t.scopes||xa,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,r)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(t,r))}catch(n){return Promise.reject(n)}}logout(t){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(t),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(t==null?void 0:t.popupWindowAttributes)||{},popupWindowParent:(t==null?void 0:t.popupWindowParent)??window},i=t&&t.authority,o=t&&t.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(t,n){var o;this.logger.verbose("acquireTokenPopupAsync called");const r=this.initializeServerTelemetryManager(un.acquireTokenPopup),i=await be(this.initializeAuthorizationRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,Oe.Popup);kL(i.authority);try{const s=await be(this.initializeAuthorizationCodeRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),a=await be(this.createAuthCodeClient.bind(this),W.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),l=Qo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme);let c;l&&(c=this.performanceClient.startMeasurement(W.FetchAccountIdWithNativeBroker,t.correlationId));const u=await a.getAuthCodeUrl({...i,nativeBroker:l}),d=new LE(a,this.browserStorage,s,this.logger,this.performanceClient),h=this.initiateAuthRequest(u,n);this.eventHandler.emitEvent(Ie.POPUP_OPENED,Oe.Popup,{popupWindow:h},null);const p=await this.monitorPopupForHash(h,n.popupWindowParent),f=zl(HL,W.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);if($o.removeThrottle(this.browserStorage,this.config.auth.clientId,s),f.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw ke(Sp);const y=new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,un.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,f.accountId,this.nativeStorage,i.correlationId),{userRequestState:g}=Ao.parseRequestState(this.browserCrypto,i.state);return await y.acquireToken({...i,state:g,prompt:void 0})}return await d.handleCodeResponse(f,i)}catch(s){throw(o=n.popup)==null||o.close(),s instanceof fn&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}async logoutPopupAsync(t,n,r,i){var s,a,l,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Ie.LOGOUT_START,Oe.Popup,t);const o=this.initializeServerTelemetryManager(un.logoutPopup);try{await this.clearCacheOnLogout(t.account);const u=await be(this.createAuthCodeClient.bind(this),W.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:t.account||void 0});try{u.authority.endSessionEndpoint}catch{if((s=t.account)!=null&&s.homeAccountId&&t.postLogoutRedirectUri&&u.authority.protocolMode===Ps.OIDC){if(this.browserStorage.removeAccount((a=t.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(Ie.LOGOUT_SUCCESS,Oe.Popup,t),i){const p={apiId:un.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=Ft.getAbsoluteUrl(i,Rs());await this.navigationClient.navigateInternal(f,p)}(l=n.popup)==null||l.close();return}}const d=u.getLogoutUri(t);this.eventHandler.emitEvent(Ie.LOGOUT_SUCCESS,Oe.Popup,t);const h=this.openPopup(d,n);if(this.eventHandler.emitEvent(Ie.POPUP_OPENED,Oe.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,n.popupWindowParent).catch(()=>{}),i){const p={apiId:un.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=Ft.getAbsoluteUrl(i,Rs());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${f}`),await this.navigationClient.navigateInternal(f,p)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(c=n.popup)==null||c.close(),u instanceof fn&&(u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Ie.LOGOUT_FAILURE,Oe.Popup,null,u),this.eventHandler.emitEvent(Ie.LOGOUT_END,Oe.Popup),u}this.eventHandler.emitEvent(Ie.LOGOUT_END,Oe.Popup)}initiateAuthRequest(t,n){if(t)return this.logger.infoPii(`Navigate to: ${t}`),this.openPopup(t,n);throw this.logger.error("Navigate url is empty"),ke($v)}monitorPopupForHash(t,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(t.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(ke(Ml));return}let s="";try{s=t.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="";const l=this.config.auth.OIDCOptions.serverResponseType;t&&(l===yp.QUERY?a=t.location.search:a=t.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(t,n)})}openPopup(t,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${t}`),r.location.assign(t)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${t}`),r=this.openSizedPopup(t,n)),!r)throw ke(iL);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),ke(rL)}}openSizedPopup(t,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var p,f,C,y;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=(p=r.popupSize)==null?void 0:p.width,u=(f=r.popupSize)==null?void 0:f.height,d=(C=r.popupPosition)==null?void 0:C.top,h=(y=r.popupPosition)==null?void 0:y.left;return(!c||c<0||c>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=wi.POPUP_WIDTH),(!u||u<0||u>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=wi.POPUP_HEIGHT),(!d||d<0||d>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,l/2-wi.POPUP_HEIGHT/2+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-wi.POPUP_WIDTH/2+o)),i.open(t,n,`width=${c}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(t){this.browserStorage.cleanRequestByInteractionType(Oe.Popup),this.currentWindow&&this.currentWindow.close(),t.preventDefault()}cleanPopup(t,n){t.close(),n.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(t,n){return`${wi.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(t){const n=t.account&&t.account.homeAccountId;return`${wi.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class bx{constructor(t,n,r,i,o){this.authModule=t,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async initiateAuthRequest(t,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),t){n.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Ut.ORIGIN_URI,n.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Ut.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${t}`);const r={apiId:un.acquireTokenRedirect,timeout:n.redirectTimeout,noHistory:!1};if(typeof n.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),n.onRedirectNavigate(t)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await n.navigationClient.navigateExternal(t,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await n.navigationClient.navigateExternal(t,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ke($v)}async handleCodeResponse(t,n){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const r=this.browserStorage.generateStateKey(n),i=this.browserStorage.getTemporaryCache(r);if(!i)throw pe(em,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(t,i)}catch(c){throw c instanceof Da&&c.subError===Ml?ke(Ml):c}const s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await be(this.authModule.updateAuthority.bind(this.authModule),W.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const c=this.checkCcsCredentials();c&&(this.authCodeRequest.ccsCredential=c)}const l=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(n),l}checkCcsCredentials(){const t=this.browserStorage.getTemporaryCache(Ut.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${t}`)}return null}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function K6(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t==null?void 0:t.type}class q6 extends ku{constructor(t,n,r,i,o,s,a,l,c,u){super(t,n,r,i,o,s,a,c,u),this.nativeStorage=l}async acquireToken(t){const n=await be(this.initializeAuthorizationRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,Oe.Redirect);this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||"",n.account||null);const r=this.initializeServerTelemetryManager(un.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(n.state),this.eventHandler.emitEvent(Ie.RESTORE_FROM_BFCACHE,Oe.Redirect))};try{const o=await be(this.initializeAuthorizationCodeRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(n),s=await be(this.createAuthCodeClient.bind(this),W.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new bx(s,this.browserStorage,o,this.logger,this.performanceClient),l=await s.getAuthCodeUrl({...n,nativeBroker:Qo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),c=this.getRedirectStartPage(t.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",i),await a.initiateAuthRequest(l,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:t.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof fn&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(n.state),o}}async handleRedirectPromise(t="",n){const r=this.initializeServerTelemetryManager(un.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,o]=this.getRedirectResponse(t||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(Oe.Redirect),K6()!=="back_forward"?n.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(Ut.ORIGIN_URI,!0)||Z.EMPTY_STRING,a=Ft.removeHashFromUrl(s),l=Ft.removeHashFromUrl(window.location.href);if(a===l&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&t6(s),await this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!FE()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Ut.URL_HASH,o,!0);const c={apiId:un.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let u=!0;if(!s||s==="null"){const d=r6();this.browserStorage.setTemporaryCache(Ut.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=await this.navigationClient.navigateInternal(d,c)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),u=await this.navigationClient.navigateInternal(s,c);if(!u)return await this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,r);return null}catch(i){throw i instanceof fn&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(Oe.Redirect),i}}getRedirectResponse(t){this.logger.verbose("getRedirectResponseHash called");let n=t;n||(this.config.auth.OIDCOptions.serverResponseType===yp.QUERY?n=window.location.search:n=window.location.hash);let r=im(n);if(r){try{$6(r,this.browserCrypto,Oe.Redirect)}catch(o){return o instanceof fn&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return e6(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(Ut.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ut.URL_HASH)),i&&(r=im(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(t,n){const r=t.state;if(!r)throw ke(EE);const i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),t.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ke(Sp);const l=new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,un.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,t.accountId,this.nativeStorage,i.correlationId),{userRequestState:c}=Ao.parseRequestState(this.browserCrypto,r);return l.acquireToken({...i,state:c,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(r)})}const o=this.browserStorage.getCachedAuthority(r);if(!o)throw ke(PE);const s=await be(this.createAuthCodeClient.bind(this),W.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:o});return $o.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new bx(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(t,r)}async logout(t){var i,o;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(t),r=this.initializeServerTelemetryManager(un.logout);try{this.eventHandler.emitEvent(Ie.LOGOUT_START,Oe.Redirect,t),await this.clearCacheOnLogout(n.account);const s={apiId:un.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await be(this.createAuthCodeClient.bind(this),W.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t&&t.authority,requestExtraQueryParameters:t==null?void 0:t.extraQueryParameters,account:t&&t.account||void 0});if(a.authority.protocolMode===Ps.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=n.account)==null?void 0:o.homeAccountId),this.eventHandler.emitEvent(Ie.LOGOUT_SUCCESS,Oe.Redirect,n);return}}const l=a.getLogoutUri(n);if(this.eventHandler.emitEvent(Ie.LOGOUT_SUCCESS,Oe.Redirect,n),t&&typeof t.onRedirectNavigate=="function")if(t.onRedirectNavigate(l)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(l,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(l,s);return}}catch(s){throw s instanceof fn&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(Ie.LOGOUT_FAILURE,Oe.Redirect,null,s),this.eventHandler.emitEvent(Ie.LOGOUT_END,Oe.Redirect),s}this.eventHandler.emitEvent(Ie.LOGOUT_END,Oe.Redirect)}getRedirectStartPage(t){const n=t||window.location.href;return Ft.getAbsoluteUrl(n,Rs())}}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function Y6(e,t,n,r,i){if(t.addQueueMeasurement(W.SilentHandlerInitiateAuthRequest,r),!e)throw n.info("Navigate url is empty"),ke($v);return i?be(X6,W.SilentHandlerLoadFrame,n,t,r)(e,i,t,r):zl(J6,W.SilentHandlerLoadFrameSync,n,t,r)(e)}async function Q6(e,t,n,r,i,o,s){return r.addQueueMeasurement(W.SilentHandlerMonitorIframeForHash,o),new Promise((a,l)=>{t<Tw&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (${Tw}ms). This may result in timeouts.`);const c=window.setTimeout(()=>{window.clearInterval(u),l(ke(oL))},t),u=window.setInterval(()=>{let d="";const h=e.contentWindow;try{d=h?h.location.href:""}catch{}if(!d||d==="about:blank")return;let p="";h&&(s===yp.QUERY?p=h.location.search:p=h.location.hash),window.clearTimeout(c),window.clearInterval(u),a(p)},n)}).finally(()=>{zl(Z6,W.RemoveHiddenIframe,i,r,o)(e)})}function X6(e,t,n,r){return n.addQueueMeasurement(W.SilentHandlerLoadFrame,r),new Promise((i,o)=>{const s=GL();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=e,i(s)},t)})}function J6(e){const t=GL();return t.src=e,t}function GL(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Z6(e){document.body===e.parentNode&&document.body.removeChild(e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class eY extends ku{constructor(t,n,r,i,o,s,a,l,c,u,d){super(t,n,r,i,o,s,l,u,d),this.apiId=a,this.nativeStorage=c}async acquireToken(t){this.performanceClient.addQueueMeasurement(W.SilentIframeClientAcquireToken,t.correlationId),!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...t};n.prompt?n.prompt!==nr.NONE&&n.prompt!==nr.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${nr.NONE}`),n.prompt=nr.NONE):n.prompt=nr.NONE;const r=await be(this.initializeAuthorizationRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(n,Oe.Silent);kL(r.authority);const i=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await be(this.createAuthCodeClient.bind(this),W.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),await be(this.silentTokenHelper.bind(this),W.SilentIframeClientTokenHelper,this.logger,this.performanceClient,t.correlationId)(o,r)}catch(s){if(s instanceof fn&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof fn)||s.errorCode!==wi.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);const a=await be(this.initializeAuthorizationRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(n,Oe.Silent);return await be(this.silentTokenHelper.bind(this),W.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}}logout(){return Promise.reject(ke(jv))}async silentTokenHelper(t,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(W.SilentIframeClientTokenHelper,r);const i=await be(this.initializeAuthorizationCodeRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(n),o=await be(t.getAuthCodeUrl.bind(t),W.GetAuthCodeUrl,this.logger,this.performanceClient,r)({...n,nativeBroker:Qo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme)}),s=new LE(t,this.browserStorage,i,this.logger,this.performanceClient),a=await be(Y6,W.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(o,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),l=this.config.auth.OIDCOptions.serverResponseType,c=await be(Q6,W.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,l),u=zl(HL,W.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(c,l,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ke(Sp);const d=new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,r),{userRequestState:h}=Ao.parseRequestState(this.browserCrypto,n.state);return be(d.acquireToken.bind(d),W.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)({...n,state:h,prompt:n.prompt||nr.NONE})}return be(s.handleCodeResponse.bind(s),W.HandleCodeResponse,this.logger,this.performanceClient,r)(u,n)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class tY extends ku{async acquireToken(t){this.performanceClient.addQueueMeasurement(W.SilentRefreshClientAcquireToken,t.correlationId);const n=await be(kE,W.InitializeBaseRequest,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger),r={...t,...n};t.redirectUri&&(r.redirectUri=this.getRedirectUri(t.redirectUri));const i=this.initializeServerTelemetryManager(un.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return be(o.acquireTokenByRefreshToken.bind(o),W.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(ke(jv))}async createRefreshTokenClient(t){const n=await be(this.getClientConfiguration.bind(this),W.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new bw(n,this.performanceClient)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class nY{constructor(t,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=n,this.logger=r,this.cryptoObj=i}loadExternalTokens(t,n,r){if(!this.isBrowserEnvironment)throw ke(Kv);const i=n.id_token?Ul(n.id_token,ts):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=t.authority?new Pr(Pr.generateAuthority(t.authority,t.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,t.correlationId||Hs()):void 0,a=this.loadAccount(t,r.clientInfo||n.client_info||"",i,s),l=this.loadIdToken(n,a.homeAccountId,a.environment,a.realm),c=this.loadAccessToken(t,n,a.homeAccountId,a.environment,a.realm,r),u=this.loadRefreshToken(n,a.homeAccountId,a.environment);return this.generateAuthenticationResult(t,{account:a,idToken:l,accessToken:c,refreshToken:u},i,s)}loadAccount(t,n,r,i){if(this.logger.verbose("TokenCache - loading account"),t.account){const l=Qn.createFromAccountInfo(t.account);return this.storage.setAccount(l),l}else if(!i||!n&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ke(fL);const o=Qn.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,r),s=r==null?void 0:r.tid,a=SE(this.storage,i,o,ts,r,n,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(t,n,r,i){if(!t.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=Hv(n,r,t.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(t,n,r,i,o,s){if(n.access_token)if(n.expires_in){if(!n.scope&&(!t.scopes||!t.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const a=n.scope?Hn.fromString(n.scope):new Hn(t.scopes),l=s.expiresOn||n.expires_in+new Date().getTime()/1e3,c=s.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+new Date().getTime()/1e3,u=Gv(r,i,n.access_token,this.config.auth.clientId,o,a.printScopes(),l,c,ts);return this.storage.setAccessTokenCredential(u),u}loadRefreshToken(t,n,r){if(!t.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=bk(n,r,t.refresh_token,this.config.auth.clientId,t.foci,void 0,t.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(t,n,r,i){var u,d,h;let o="",s=[],a=null,l;n!=null&&n.accessToken&&(o=n.accessToken.secret,s=Hn.fromString(n.accessToken.target).asArray(),a=new Date(Number(n.accessToken.expiresOn)*1e3),l=new Date(Number(n.accessToken.extendedExpiresOn)*1e3));const c=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:s,account:c.getAccountInfo(),idToken:((u=n.idToken)==null?void 0:u.secret)||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:t.correlationId||"",requestId:"",extExpiresOn:l,familyId:((d=n.refreshToken)==null?void 0:d.familyId)||"",tokenType:((h=n==null?void 0:n.accessToken)==null?void 0:h.tokenType)||"",state:t.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class rY extends qk{constructor(t){super(t),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class iY extends ku{constructor(t,n,r,i,o,s,a,l,c,u){super(t,n,r,i,o,s,l,c,u),this.apiId=a}async acquireToken(t){if(!t.code)throw ke(gL);const n=await be(this.initializeAuthorizationRequest.bind(this),W.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(t,Oe.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:t.code},o=await be(this.getClientConfiguration.bind(this),W.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),s=new rY(o);this.logger.verbose("Auth code client created");const a=new LE(s,this.browserStorage,i,this.logger,this.performanceClient);return await be(a.handleCodeResponseFromServer.bind(a),W.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof fn&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(ke(jv))}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function Bo(e){const t=e==null?void 0:e.idTokenClaims;if(t!=null&&t.tfp||t!=null&&t.acr)return"B2C";if(t!=null&&t.tid){if((t==null?void 0:t.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function wf(e,t){try{OE(e)}catch(n){throw t.end({success:!1},n),n}}class Qv{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new vu(this.logger,this.performanceClient):tm,this.eventHandler=new D6(this.logger),this.browserStorage=this.isBrowserEnvironment?new Iw(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,vq(this.config.auth),this.performanceClient):b6(this.config.auth.clientId,this.logger);const n={cacheLocation:ti.MemoryStorage,temporaryCacheLocation:ti.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Iw(this.config.auth.clientId,n,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new nY(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(t,n){const r=new Qv(t);return await r.initialize(n),r}trackPageVisibility(t){t&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(Ie.INITIALIZE_END);return}const n=(t==null?void 0:t.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(W.InitializeClientApplication,n);if(this.eventHandler.emitEvent(Ie.INITIALIZE_START),r)try{this.nativeExtensionProvider=await Qo.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await be(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),W.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.initialized=!0,this.eventHandler.emitEvent(Ie.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("handleRedirectPromise called"),ML(this.initialized),this.isBrowserEnvironment){const n=t||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(t){const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&Qo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t,o=i?r==null?void 0:r.correlationId:this.browserStorage.getTemporaryCache(Ut.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(W.AcquireTokenRedirect,o);this.eventHandler.emitEvent(Ie.HANDLE_REDIRECT_START,Oe.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const l=new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,un.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=be(l.handleRedirectPromise.bind(l),W.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const l=this.createRedirectClient(o);a=be(l.handleRedirectPromise.bind(l),W.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(t,s)}return a.then(l=>(l?(n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Ie.LOGIN_SUCCESS,Oe.Redirect,l),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_SUCCESS,Oe.Redirect,l),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Bo(l.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(Ie.HANDLE_REDIRECT_END,Oe.Redirect),l)).catch(l=>{const c=l;throw n.length>0?this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_FAILURE,Oe.Redirect,null,c):this.eventHandler.emitEvent(Ie.LOGIN_FAILURE,Oe.Redirect,null,c),this.eventHandler.emitEvent(Ie.HANDLE_REDIRECT_END,Oe.Redirect),s.end({success:!1},c),l})}async acquireTokenRedirect(t){const n=this.getRequestCorrelationId(t);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(W.AcquireTokenPreRedirect,n);r.add({accountType:Bo(t.account),scenarioId:t.scenarioId});const i=t.onRedirectNavigate;if(i)t.onRedirectNavigate=s=>{const a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const l=typeof s=="function"?s(a):void 0;return l!==!1?r.end({success:!0}):r.discard(),l}}const o=this.getAllAccounts().length>0;try{Cx(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_START,Oe.Redirect,t):this.eventHandler.emitEvent(Ie.LOGIN_START,Oe.Redirect,t);let s;return this.nativeExtensionProvider&&this.canUseNative(t)?s=new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,un.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,n).acquireTokenRedirect(t,r).catch(l=>{if(l instanceof jo&&mc(l))return this.nativeExtensionProvider=void 0,this.createRedirectClient(n).acquireToken(t);if(l instanceof lo)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(t);throw this.browserStorage.setInteractionInProgress(!1),l}):s=this.createRedirectClient(n).acquireToken(t),await s}catch(s){throw r.end({success:!1},s),o?this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_FAILURE,Oe.Redirect,null,s):this.eventHandler.emitEvent(Ie.LOGIN_FAILURE,Oe.Redirect,null,s),s}}acquireTokenPopup(t){const n=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(W.AcquireTokenPopup,n);r.add({scenarioId:t.scenarioId,accountType:Bo(t.account)});try{this.logger.verbose("acquireTokenPopup called",n),wf(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_START,Oe.Popup,t):this.eventHandler.emitEvent(Ie.LOGIN_START,Oe.Popup,t);let o;return this.canUseNative(t)?o=this.acquireTokenNative({...t,correlationId:n},un.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,accountType:Bo(s.account)}),s)).catch(s=>{if(s instanceof jo&&mc(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(n).acquireToken(t);if(s instanceof lo)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(t);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(n).acquireToken(t),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Ie.LOGIN_SUCCESS,Oe.Popup,s):this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_SUCCESS,Oe.Popup,s),r.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Bo(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_FAILURE,Oe.Popup,null,s):this.eventHandler.emitEvent(Ie.LOGIN_FAILURE,Oe.Popup,null,s),r.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))}async ssoSilent(t){var o,s;const n=this.getRequestCorrelationId(t),r={...t,prompt:t.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(W.SsoSilent,n),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:t.scenarioId,accountType:Bo(t.account)}),wf(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(Ie.SSO_SILENT_START,Oe.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,un.ssoSilent).catch(a=>{if(a instanceof jo&&mc(a))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(a=>{var l;return this.eventHandler.emitEvent(Ie.SSO_SILENT_SUCCESS,Oe.Silent,a),(l=this.ssoSilentMeasurement)==null||l.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Bo(a.account)}),a}).catch(a=>{var l;throw this.eventHandler.emitEvent(Ie.SSO_SILENT_FAILURE,Oe.Silent,null,a),(l=this.ssoSilentMeasurement)==null||l.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const n=this.getRequestCorrelationId(t);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(W.AcquireTokenByCode,n);wf(this.initialized,r),this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_BY_CODE_START,Oe.Silent,t),r.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw ke(vL);if(t.code){const i=t.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),o=this.acquireTokenByCodeAsync({...t,correlationId:n}).then(s=>(this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Oe.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Bo(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_BY_CODE_FAILURE,Oe.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(t.nativeAccountId)if(this.canUseNative(t,t.nativeAccountId)){const i=await this.acquireTokenNative({...t,correlationId:n},un.acquireTokenByCode,t.nativeAccountId).catch(o=>{throw o instanceof jo&&mc(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:Bo(i.account),success:!0}),i}else throw ke(CL);else throw ke(mL)}catch(i){throw this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_BY_CODE_FAILURE,Oe.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(t){var i;return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(W.AcquireTokenByCodeAsync,t.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,n){switch(this.performanceClient.addQueueMeasurement(W.AcquireTokenFromCache,t.correlationId),n){case vi.Default:case vi.AccessToken:case vi.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(t.correlationId);return be(r.acquireToken.bind(r),W.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw pe(bs)}}async acquireTokenByRefreshToken(t,n){switch(this.performanceClient.addQueueMeasurement(W.AcquireTokenByRefreshToken,t.correlationId),n){case vi.Default:case vi.AccessTokenAndRefreshToken:case vi.RefreshToken:case vi.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(t.correlationId);return be(r.acquireToken.bind(r),W.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw pe(bs)}}async acquireTokenBySilentIframe(t){this.performanceClient.addQueueMeasurement(W.AcquireTokenBySilentIframe,t.correlationId);const n=this.createSilentIframeClient(t.correlationId);return be(n.acquireToken.bind(n),W.SilentIframeClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t)}async logout(t){const n=this.getRequestCorrelationId(t);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...t})}async logoutRedirect(t){const n=this.getRequestCorrelationId(t);return Cx(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(n).logout(t)}logoutPopup(t){try{const n=this.getRequestCorrelationId(t);return OE(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(n).logout(t)}catch(n){return Promise.reject(n)}}async clearCache(t){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(t);return this.createSilentCacheClient(n).logout(t)}getAllAccounts(t){return R6(this.logger,this.browserStorage,this.isBrowserEnvironment,t)}getAccount(t){return E6(t,this.logger,this.browserStorage)}getAccountByUsername(t){return P6(t,this.logger,this.browserStorage)}getAccountByHomeId(t){return T6(t,this.logger,this.browserStorage)}getAccountByLocalId(t){return A6(t,this.logger,this.browserStorage)}setActiveAccount(t){I6(t,this.browserStorage)}getActiveAccount(){return x6(this.browserStorage)}async hydrateCache(t,n){this.logger.verbose("hydrateCache called");const r=Qn.createFromAccountInfo(t.account,t.cloudGraphHostName,t.msGraphHost);return this.browserStorage.setAccount(r),t.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(t,n)):this.browserStorage.hydrateCache(t,n)}async acquireTokenNative(t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw ke(Sp);return new Yc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t)}canUseNative(t,n){if(this.logger.trace("canUseNative called"),!Qo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case nr.NONE:case nr.CONSENT:case nr.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${t.prompt} is not compatible with native flow, returning false`),!1}return!n&&!this.getNativeAccountId(t)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(t){const n=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(t){return new j6(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createRedirectClient(t){return new q6(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentIframeClient(t){return new eY(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,un.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentCacheClient(t){return new BL(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentRefreshClient(t){return new tY(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentAuthCodeClient(t){return new iY(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,un.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)}addEventCallback(t,n){return this.eventHandler.addEventCallback(t,n)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return OL(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(t){var n;try{(n=t.key)!=null&&n.includes(er.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(Ie.ACTIVE_ACCOUNT_CHANGED);const r=t.newValue||t.oldValue;if(!r)return;const i=JSON.parse(r);if(typeof i!="object"||!Qn.isAccountEntity(i))return;const s=gu.toObject(new Qn,i).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(Ie.ACCOUNT_ADDED,void 0,s)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(Ie.ACCOUNT_REMOVED,void 0,s))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,n){this.browserStorage.setWrapperMetadata(t,n)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t!=null&&t.correlationId?t.correlationId:this.isBrowserEnvironment?Hs():Z.EMPTY_STRING}async loginRedirect(t){const n=this.getRequestCorrelationId(t);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...t||gx})}loginPopup(t){const n=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...t||gx})}async acquireTokenSilent(t){const n=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(W.AcquireTokenSilent,n);r.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),wf(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=t.account||this.getActiveAccount();if(!i)throw ke(cL);r.add({accountType:Bo(i)});const o={clientId:this.config.auth.clientId,authority:t.authority||Z.EMPTY_STRING,scopes:t.scopes,homeAccountIdentifier:i.homeAccountId,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,shrOptions:t.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n);const l=be(this.acquireTokenSilentAsync.bind(this),W.AcquireTokenSilentAsync,this.logger,this.performanceClient,n)({...t,correlationId:n},i).then(c=>(this.activeSilentTokenRequests.delete(s),r.end({success:!0,fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker,cacheLookupPolicy:t.cacheLookupPolicy,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),c)).catch(c=>{throw this.activeSilentTokenRequests.delete(s),r.end({success:!1},c),c});return this.activeSilentTokenRequests.set(s,l),{...await l,state:t.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),r.discard(),{...await a,state:t.state}}async acquireTokenSilentAsync(t,n){const r=()=>this.trackPageVisibility(t.correlationId);this.performanceClient.addQueueMeasurement(W.AcquireTokenSilentAsync,t.correlationId),this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_START,Oe.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",r);const i=await be(L6,W.InitializeSilentRequest,this.logger,this.performanceClient,t.correlationId)(t,n,this.config,this.performanceClient,this.logger),o=t.cacheLookupPolicy||vi.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async a=>{if(oY(a,o))if(this.activeIframeRequest)if(o!==vi.Skip){const[c,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);const d=this.performanceClient.startMeasurement(W.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:u});const h=await c;if(d.end({success:h}),h)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),be(this.acquireTokenBySilentIframe.bind(this),W.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let c;return this.activeIframeRequest=[new Promise(u=>{c=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),be(this.acquireTokenBySilentIframe.bind(this),W.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(c(!0),u)).catch(u=>{throw c(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_SUCCESS,Oe.Silent,a),t.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},t.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_FAILURE,Oe.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(t,n){return Qo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(t,un.acquireTokenSilent_silentFlow).catch(async r=>{throw r instanceof jo&&mc(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,pe(bs)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),be(this.acquireTokenFromCache.bind(this),W.AcquireTokenFromCache,this.logger,this.performanceClient,t.correlationId)(t,n).catch(r=>{if(n===vi.AccessToken)throw r;return this.eventHandler.emitEvent(Ie.ACQUIRE_TOKEN_NETWORK_START,Oe.Silent,t),be(this.acquireTokenByRefreshToken.bind(this),W.AcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,n)}))}}function oY(e,t){const n=!(e instanceof lo&&e.subError!==zv),r=e.errorCode===wi.INVALID_GRANT_ERROR||e.errorCode===bs,i=n&&r||e.errorCode===sm||e.errorCode===yE,o=Wq.includes(t);return i&&o}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function sY(e,t){const n=new kl(e);return await n.initialize(),Qv.createController(n,t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class NE{static async createPublicClientApplication(t){const n=await sY(t);return new NE(t,n)}constructor(t,n){this.controller=n||new Qv(new kl(t))}async initialize(t){return this.controller.initialize(t)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,n){return this.controller.addEventCallback(t,n)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,n){return this.controller.initializeWrapperLibrary(t,n)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,n){return this.controller.hydrateCache(t,n)}clearCache(t){return this.controller.clearCache(t)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const aY={initialize:()=>Promise.reject(zn(Un)),acquireTokenPopup:()=>Promise.reject(zn(Un)),acquireTokenRedirect:()=>Promise.reject(zn(Un)),acquireTokenSilent:()=>Promise.reject(zn(Un)),acquireTokenByCode:()=>Promise.reject(zn(Un)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(zn(Un)),loginPopup:()=>Promise.reject(zn(Un)),loginRedirect:()=>Promise.reject(zn(Un)),logout:()=>Promise.reject(zn(Un)),logoutRedirect:()=>Promise.reject(zn(Un)),logoutPopup:()=>Promise.reject(zn(Un)),ssoSilent:()=>Promise.reject(zn(Un)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw zn(Un)},getLogger:()=>{throw zn(Un)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw zn(Un)},hydrateCache:()=>Promise.reject(zn(Un)),clearCache:()=>Promise.reject(zn(Un))};/*! @azure/msal-browser v3.28.0 2024-12-12 */class lY{static getInteractionStatusFromEvent(t,n){switch(t.eventType){case Ie.LOGIN_START:return Jt.Login;case Ie.SSO_SILENT_START:return Jt.SsoSilent;case Ie.ACQUIRE_TOKEN_START:if(t.interactionType===Oe.Redirect||t.interactionType===Oe.Popup)return Jt.AcquireToken;break;case Ie.HANDLE_REDIRECT_START:return Jt.HandleRedirect;case Ie.LOGOUT_START:return Jt.Logout;case Ie.SSO_SILENT_SUCCESS:case Ie.SSO_SILENT_FAILURE:if(n&&n!==Jt.SsoSilent)break;return Jt.None;case Ie.LOGOUT_END:if(n&&n!==Jt.Logout)break;return Jt.None;case Ie.HANDLE_REDIRECT_END:if(n&&n!==Jt.HandleRedirect)break;return Jt.None;case Ie.LOGIN_SUCCESS:case Ie.LOGIN_FAILURE:case Ie.ACQUIRE_TOKEN_SUCCESS:case Ie.ACQUIRE_TOKEN_FAILURE:case Ie.RESTORE_FROM_BFCACHE:if(t.interactionType===Oe.Redirect||t.interactionType===Oe.Popup){if(n&&n!==Jt.Login&&n!==Jt.AcquireToken)break;return Jt.None}break}return null}}/*! @azure/msal-react v2.2.0 2024-11-05 */const cY={instance:aY,inProgress:Jt.None,accounts:[],logger:new Bs({})},_E=S.createContext(cY);_E.Consumer;/*! @azure/msal-react v2.2.0 2024-11-05 */function BE(e,t){return typeof e=="function"?e(t):e}function Rx(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every(r=>{const i=n.shift();return!r||!i?!1:r.homeAccountId===i.homeAccountId&&r.localAccountId===i.localAccountId&&r.username===i.username})}function VL(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter(r=>!(t.username&&t.username.toLowerCase()!==r.username.toLowerCase()||t.homeAccountId&&t.homeAccountId.toLowerCase()!==r.homeAccountId.toLowerCase()||t.localAccountId&&t.localAccountId.toLowerCase()!==r.localAccountId.toLowerCase()))[0]||null}/*! @azure/msal-react v2.2.0 2024-11-05 */const uY="@azure/msal-react",Ex="2.2.0";/*! @azure/msal-react v2.2.0 2024-11-05 */const um={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},dY=(e,t)=>{const{type:n,payload:r}=t;let i=e.inProgress;switch(n){case um.UNBLOCK_INPROGRESS:e.inProgress===Jt.Startup&&(i=Jt.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case um.EVENT:const s=r.message,a=lY.getInteractionStatusFromEvent(s,e.inProgress);a&&(r.logger.info(`MsalProvider - ${s.eventType} results in setting inProgress from ${e.inProgress} to ${a}`),i=a);break;default:throw new Error(`Unknown action type: ${n}`)}const o=r.instance.getAllAccounts();return i!==e.inProgress&&!Rx(o,e.accounts)?{...e,inProgress:i,accounts:o}:i!==e.inProgress?{...e,inProgress:i}:Rx(o,e.accounts)?e:{...e,accounts:o}};function hY({instance:e,children:t}){S.useEffect(()=>{e.initializeWrapperLibrary(Hq.React,Ex)},[e]);const n=S.useMemo(()=>e.getLogger().clone(uY,Ex),[e]),[r,i]=S.useReducer(dY,void 0,()=>({inProgress:Jt.Startup,accounts:e.getAllAccounts()}));S.useEffect(()=>{const s=e.addEventCallback(a=>{i({payload:{instance:e,logger:n,message:a},type:um.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${s}`),e.initialize().then(()=>{e.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:e,logger:n},type:um.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{s&&(n.verbose(`MsalProvider - Removing event callback ${s}`),e.removeEventCallback(s))}},[e,n]);const o={instance:e,inProgress:r.inProgress,accounts:r.accounts,logger:n};return $.createElement(_E.Provider,{value:o},t)}/*! @azure/msal-react v2.2.0 2024-11-05 */const Us=()=>S.useContext(_E);/*! @azure/msal-react v2.2.0 2024-11-05 */function pY(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!VL(e,t):e.length>0}function Xv(e){const{accounts:t,inProgress:n}=Us();return S.useMemo(()=>n===Jt.Startup?!1:pY(t,e),[t,n,e])}/*! @azure/msal-react v2.2.0 2024-11-05 */function WL({username:e,homeAccountId:t,localAccountId:n,children:r}){const i=Us(),o=S.useMemo(()=>({username:e,homeAccountId:t,localAccountId:n}),[e,t,n]);return Xv(o)&&i.inProgress!==Jt.Startup?$.createElement($.Fragment,null,BE(r,i)):null}/*! @azure/msal-react v2.2.0 2024-11-05 */function UL({username:e,homeAccountId:t,localAccountId:n,children:r}){const i=Us(),o=S.useMemo(()=>({username:e,homeAccountId:t,localAccountId:n}),[e,t,n]);return!Xv(o)&&i.inProgress!==Jt.Startup&&i.inProgress!==Jt.HandleRedirect?$.createElement($.Fragment,null,BE(r,i)):null}/*! @azure/msal-react v2.2.0 2024-11-05 */function Px(e,t){return!t||!t.homeAccountId&&!t.localAccountId&&!t.username?e.getActiveAccount():VL(e.getAllAccounts(),t)}function fY(e){const{instance:t,inProgress:n,logger:r}=Us(),[i,o]=S.useState(()=>Px(t,e));return S.useEffect(()=>{o(s=>{const a=Px(t,e);return Qn.accountInfoIsEqual(s,a,!0)?s:(r.info("useAccount - Updating account"),a)})},[n,e,t,r]),i}/*! @azure/msal-react v2.2.0 2024-11-05 */const bf={invalidInteractionType:{code:"invalid_interaction_type",desc:"The provided interaction type is invalid."},unableToFallbackToInteraction:{code:"unable_to_fallback_to_interaction",desc:"Interaction is required but another interaction is already in progress. Please try again when the current interaction is complete."}};class Qc extends fn{constructor(t,n){super(t,n),Object.setPrototypeOf(this,Qc.prototype),this.name="ReactAuthError"}static createInvalidInteractionTypeError(){return new Qc(bf.invalidInteractionType.code,bf.invalidInteractionType.desc)}static createUnableToFallbackToInteractionError(){return new Qc(bf.unableToFallbackToInteraction.code,bf.unableToFallbackToInteraction.desc)}}/*! @azure/msal-react v2.2.0 2024-11-05 */function gY(e,t,n){const{instance:r,inProgress:i,logger:o}=Us(),s=Xv(n),a=fY(n),[[l,c],u]=S.useState([null,null]),d=S.useRef(!0);S.useEffect(()=>()=>{d.current=!1},[]);const h=S.useRef(i!==Jt.None);S.useEffect(()=>{h.current=i!==Jt.None},[i]);const p=S.useRef(!0);S.useEffect(()=>{if(c){p.current=!1;return}if(l){p.current=!1;return}},[c,l]);const f=S.useCallback(async(y,g)=>{const v=y||e,m=g||t;switch(v){case Oe.Popup:return o.verbose("useMsalAuthentication - Calling loginPopup"),r.loginPopup(m);case Oe.Redirect:return o.verbose("useMsalAuthentication - Calling loginRedirect"),r.loginRedirect(m).then(null);case Oe.Silent:return o.verbose("useMsalAuthentication - Calling ssoSilent"),r.ssoSilent(m);default:throw Qc.createInvalidInteractionTypeError()}},[r,e,t,o]),C=S.useCallback(async(y,g)=>{const v=y||e;let m;return g?(o.trace("useMsalAuthentication - acquireToken - Using request provided in the callback"),m={...g}):t?(o.trace("useMsalAuthentication - acquireToken - Using request provided in the hook"),m={...t,scopes:t.scopes||xa}):(o.trace("useMsalAuthentication - acquireToken - No request object provided, using default request."),m={scopes:xa}),!m.account&&a&&(o.trace("useMsalAuthentication - acquireToken - Attaching account to request"),m.account=a),(async()=>(o.verbose("useMsalAuthentication - Calling acquireTokenSilent"),r.acquireTokenSilent(m).catch(async E=>{if(E instanceof lo){if(h.current)throw o.error("useMsalAuthentication - Interaction required but is already in progress. Please try again, if needed, after interaction completes."),Qc.createUnableToFallbackToInteractionError();return o.error("useMsalAuthentication - Interaction required, falling back to interaction"),f(v,m)}throw E})))().then(E=>(d.current&&u([E,null]),E)).catch(E=>{throw d.current&&u([null,E]),E})},[r,e,t,o,a,f]);return S.useEffect(()=>{const y=r.addEventCallback(g=>{switch(g.eventType){case Ie.LOGIN_SUCCESS:case Ie.SSO_SILENT_SUCCESS:g.payload&&u([g.payload,null]);break;case Ie.LOGIN_FAILURE:case Ie.SSO_SILENT_FAILURE:g.error&&u([null,g.error]);break}});return o.verbose(`useMsalAuthentication - Registered event callback with id: ${y}`),()=>{y&&(o.verbose(`useMsalAuthentication - Removing event callback ${y}`),r.removeEventCallback(y))}},[r,o]),S.useEffect(()=>{p.current&&i===Jt.None&&(p.current=!1,s?a&&(o.info("useMsalAuthentication - User is authenticated, attempting to acquire token"),C().catch(()=>{})):(o.info("useMsalAuthentication - No user is authenticated, attempting to login"),f().catch(()=>{})))},[s,a,i,f,C,o]),{login:f,acquireToken:C,result:l,error:c}}/*! @azure/msal-react v2.2.0 2024-11-05 */function Rf({interactionType:e,username:t,homeAccountId:n,localAccountId:r,authenticationRequest:i,loadingComponent:o,errorComponent:s,children:a}){const l=S.useMemo(()=>({username:t,homeAccountId:n,localAccountId:r}),[t,n,r]),c=Us(),u=gY(e,i,l),d=Xv(l);if(u.error&&c.inProgress===Jt.None){if(s)return $.createElement(s,{...u});throw u.error}return d?$.createElement($.Fragment,null,BE(a,u)):o&&c.inProgress!==Jt.None?$.createElement(o,{...c}):null}var zL={VITE_HOST:"on34c03190440",VITE_DB_HOST:"on34c03190440:5000",PROD_HOST:"on34c03370053",DEV_HOST:"on34c03190440",LOCAL_HOST:"localhost:5223",VITE_DEV_AZ_CLIENT:"1e0608a9-5e98-4bf7-8813-64a0696f7a82",VITE_PROD_AZ_CLIENT:"3edb1e5b-7d9c-4d50-ba38-bcfb8374b630",VITE_AZ_TENANT:"cddc1229-ac2a-4b97-b78a-0e5cacb5865c",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\BautisSh\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",COLOR:"1",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ON34C03190440",ComSpec:"C:\\windows\\system32\\cmd.exe","deployment.expiration.check.enabled":"false",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\windows\\notepad.exe",GOPATH:"C:\\Users\\BautisSh\\go",HOME:"C:\\Users\\BautisSh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\BautisSh",INIT_CWD:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client",JETBRAINS_INTELLIJ_COMMAND_END_MARKER:"6ZcImtoJfluFKPihRMT96ftbMh26oiiOZ0xAKvsptWeXOyrI9HmXhEZm2ADMS4Bo",LOCALAPPDATA:"C:\\Users\\BautisSh\\AppData\\Local",LOGONSERVER:"\\\\ONTPIAZRADCDC01",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\BautisSh\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\BautisSh\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client",npm_config_node_gyp:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\BautisSh\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v20.11.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"tsc -b && vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client\\package.json",npm_package_name:"client",npm_package_version:"0.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario",OneDriveCommercial:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario",OneDriveSync:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario",OS:"Windows_NT",Path:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\repos\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\node_modules\\.bin;C:\\Users\\BautisSh\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\BautisSh\\Oracle\\client\\product\\WINDOWS.X64_193000_db_home\\bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\app\\client\\BautisSh\\product\\19.0.0\\client_2\\bin;C:\\oracle\\19_30\\\\;C:\\agent-dev-nic-1\\externals\\git\\cmd;C:\\agent-dev-nic-1\\externals\\git\\mingw64\\bin;C:\\oracle\\19_30\\\\;C:\\agent-dev-nic-1\\externals\\git\\cmd;C:\\agent-dev-nic-1\\externals\\git\\mingw64\\bin;C:\\Program Files (x86)\\Microsoft SDKs\\Azure\\CLI2\\wbin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Oracle\\Client\\Produc\\bin;C:\\Oracle\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\nodejs\\;C:\\windows\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;;C:\\Program Files\\Go\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files\\PuTTY\\;C:\\Program Files\\PowerShell\\7\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Users\\BautisSh\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\BautisSh\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\BautisSh\\.dotnet\\tools;C:\\Program Files\\nodejs\\npx.cmd;C:\\Program Files\\PowerShell\\7\\pwsh.exe;C:\\Users\\BautisSh\\go\\bin;C:\\Users\\BautisSh\\AppData\\Roaming\\npm;C:\\Program Files\\PostgreSQL\\17\\bin;;C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\node_modules\\.bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",POWERSHELL_DISTRIBUTION_CHANNEL:"MSI:Windows 10 Enterprise",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 165 Stepping 2, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"a502",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSExecutionPolicyPreference:"Bypass",PSModulePath:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft Azure Information Protection\\Powershell;",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\windows",TEMP:"C:\\Users\\BautisSh\\AppData\\Local\\Temp",TERMINAL_EMULATOR:"JetBrains-JediTerm",TERM_SESSION_ID:"4193f379-be19-4575-b820-29ea3b99574d",TMP:"C:\\windows\\TEMP",TNS_ADMIN:"C:\\app\\client\\BautisSh\\product\\19.0.0\\client_1\\network\\admin\\tnsnames.ora",UATDATA:"C:\\windows\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.AD.GOV.ON.CA",USERDOMAIN:"ONTARIO",USERDOMAIN_ROAMINGPROFILE:"ONTARIO",USERNAME:"BautisSh",USERPROFILE:"C:\\Users\\BautisSh",VBOX_MSI_INSTALL_PATH:"C:\\Program Files\\Oracle\\VirtualBox\\",windir:"C:\\windows",ZES_ENABLE_SYSMAN:"1",__PSLockDownPolicy:"0"};const Dw=`${zL.VITE_PROD_AZ_CLIENT}`,mY=zL.VITE_AZ_TENANT,vY={auth:{clientId:`${Dw}`,authority:`https://login.microsoftonline.com/${mY}`,redirectUri:"/",postLogoutRedirectUri:"/",scope:`api://${Dw}`,clientCapabilities:["CP1"]},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,n)=>{n||console.log(t)}}}},$L={scopes:[`api://${Dw}/Test.Run`]},CY=async e=>{try{await e.loginRedirect($L)}catch(t){console.error("Login failed with error: "+t)}},jL=async(e,t)=>(await e.acquireTokenSilent({...$L,account:t[0]})).accessToken,yY=async(e,t)=>{const n={account:e.getAccountByHomeId(t[0].homeAccountId),postLogoutRedirectUri:"/"};await e.logoutRedirect(n)},SY=()=>{const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,o]=S.useState(""),[s,a]=S.useState(null),[l,c]=S.useState(""),{instance:u,accounts:d}=Us(),h=S.useMemo(()=>ek.map(v=>v.ENVIRONMENT),[]),p=["Chrome","Edge","Firefox"];S.useEffect(()=>{const v=localStorage.getItem("browser");v!=null&&a(v)},[]),S.useEffect(()=>{const v=localStorage.getItem("environment");v!=null&&r(v)},[]);const f=v=>{v.target.files&&v.target.files.length>0&&t(v.target.files[0])},C=async v=>{if(v.preventDefault(),!e||!n||!s){alert("File or arguments missing");return}const m=new FormData;m.append("file",e),m.append("env",n),m.append("browser",s.toLowerCase());try{const w=await jL(u,d),E=new Headers;E.append("Authorization",`Bearer ${w}`),(await fetch("/api/test/run",{method:"POST",body:m,headers:E})).ok?alert("File uploaded successfully!"):alert("Failed to upload file.")}catch(w){console.error("Error uploading file: ",w),alert("An error occurred while uploading the file.")}},y=(v,m)=>{r(m),m?localStorage.setItem("environment",m):localStorage.setItem("environment","")},g=(v,m)=>{a(m),m?localStorage.setItem("browser",m):localStorage.setItem("browser","")};return x.jsx(x.Fragment,{children:x.jsxs(Xn,{children:[x.jsx($i,{variant:"h4",color:"textSecondary",gutterBottom:!0,children:"Run Tests"}),x.jsxs(Xn,{component:"form",onSubmit:C,display:"flex",flexDirection:"row",alignItems:"center",gap:2,children:[x.jsxs(s5,{direction:"column",alignItems:"center","justify-content":"center",spacing:1,children:[x.jsxs(Kn,{variant:"contained",color:"primary",component:"label",children:["Upload File",x.jsx("input",{type:"file",accept:".xlsx, .xls",hidden:!0,onChange:f})]}),x.jsx($i,{variant:"body2",color:"textSecondary",sx:{maxWidth:"125px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e?e.name:"No file chosen"})]}),x.jsx(TI,{sx:{width:200},value:n,onChange:(v,m)=>y(v,m),inputValue:i,onInputChange:(v,m)=>{o(m)},renderInput:v=>x.jsx(Po,{...v,label:"Environment"}),options:h}),x.jsx(TI,{sx:{width:200},value:s,onChange:(v,m)=>g(v,m),inputValue:l,onInputChange:(v,m)=>{c(m)},renderInput:v=>x.jsx(Po,{...v,label:"Browser"}),options:p}),x.jsxs(Kn,{variant:"contained",color:"success",type:"submit",sx:{mt:2,mb:2},children:["Run Test",x.jsx("span",{style:{display:"inline-block",width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderLeft:"15px solid white",marginLeft:"10px"}})]})]})]})})};var wY={VITE_HOST:"on34c03190440",VITE_DB_HOST:"on34c03190440:5000",PROD_HOST:"on34c03370053",DEV_HOST:"on34c03190440",LOCAL_HOST:"localhost:5223",VITE_DEV_AZ_CLIENT:"1e0608a9-5e98-4bf7-8813-64a0696f7a82",VITE_PROD_AZ_CLIENT:"3edb1e5b-7d9c-4d50-ba38-bcfb8374b630",VITE_AZ_TENANT:"cddc1229-ac2a-4b97-b78a-0e5cacb5865c",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\BautisSh\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",COLOR:"1",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"ON34C03190440",ComSpec:"C:\\windows\\system32\\cmd.exe","deployment.expiration.check.enabled":"false",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\windows\\notepad.exe",GOPATH:"C:\\Users\\BautisSh\\go",HOME:"C:\\Users\\BautisSh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\BautisSh",INIT_CWD:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client",JETBRAINS_INTELLIJ_COMMAND_END_MARKER:"6ZcImtoJfluFKPihRMT96ftbMh26oiiOZ0xAKvsptWeXOyrI9HmXhEZm2ADMS4Bo",LOCALAPPDATA:"C:\\Users\\BautisSh\\AppData\\Local",LOGONSERVER:"\\\\ONTPIAZRADCDC01",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\BautisSh\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\BautisSh\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client",npm_config_node_gyp:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\BautisSh\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v20.11.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"tsc -b && vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client\\package.json",npm_package_name:"client",npm_package_version:"0.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario",OneDriveCommercial:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario",OneDriveSync:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario",OS:"Windows_NT",Path:"C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\client\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\AutomationTestingProgram\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\repos\\node_modules\\.bin;C:\\Users\\BautisSh\\source\\node_modules\\.bin;C:\\Users\\BautisSh\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\BautisSh\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\BautisSh\\Oracle\\client\\product\\WINDOWS.X64_193000_db_home\\bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\app\\client\\BautisSh\\product\\19.0.0\\client_2\\bin;C:\\oracle\\19_30\\\\;C:\\agent-dev-nic-1\\externals\\git\\cmd;C:\\agent-dev-nic-1\\externals\\git\\mingw64\\bin;C:\\oracle\\19_30\\\\;C:\\agent-dev-nic-1\\externals\\git\\cmd;C:\\agent-dev-nic-1\\externals\\git\\mingw64\\bin;C:\\Program Files (x86)\\Microsoft SDKs\\Azure\\CLI2\\wbin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Oracle\\Client\\Produc\\bin;C:\\Oracle\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Git\\cmd;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\nodejs\\;C:\\windows\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;;C:\\Program Files\\Go\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn\\;C:\\Program Files\\PuTTY\\;C:\\Program Files\\PowerShell\\7\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Users\\BautisSh\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\BautisSh\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\BautisSh\\.dotnet\\tools;C:\\Program Files\\nodejs\\npx.cmd;C:\\Program Files\\PowerShell\\7\\pwsh.exe;C:\\Users\\BautisSh\\go\\bin;C:\\Users\\BautisSh\\AppData\\Roaming\\npm;C:\\Program Files\\PostgreSQL\\17\\bin;;C:\\Users\\BautisSh\\source\\repos\\WebAutomationTestingFramework\\node_modules\\.bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",POWERSHELL_DISTRIBUTION_CHANNEL:"MSI:Windows 10 Enterprise",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 165 Stepping 2, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"a502",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSExecutionPolicyPreference:"Bypass",PSModulePath:"C:\\Users\\BautisSh\\OneDrive - Government of Ontario\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft Azure Information Protection\\Powershell;",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\windows",TEMP:"C:\\Users\\BautisSh\\AppData\\Local\\Temp",TERMINAL_EMULATOR:"JetBrains-JediTerm",TERM_SESSION_ID:"4193f379-be19-4575-b820-29ea3b99574d",TMP:"C:\\windows\\TEMP",TNS_ADMIN:"C:\\app\\client\\BautisSh\\product\\19.0.0\\client_1\\network\\admin\\tnsnames.ora",UATDATA:"C:\\windows\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.AD.GOV.ON.CA",USERDOMAIN:"ONTARIO",USERDOMAIN_ROAMINGPROFILE:"ONTARIO",USERNAME:"BautisSh",USERPROFILE:"C:\\Users\\BautisSh",VBOX_MSI_INSTALL_PATH:"C:\\Program Files\\Oracle\\VirtualBox\\",windir:"C:\\windows",ZES_ENABLE_SYSMAN:"1",__PSLockDownPolicy:"0"};const bY=()=>{const[e,t]=S.useState([]),n=S.useRef(null),r=wY.VITE_HOST;return S.useEffect(()=>{const i=new WebSocket(`wss://${r}/ws/logs`);return console.log(`WS Host: ${r}`),i.onopen=o=>{console.log("Connected to WebSocket server")},i.onmessage=o=>{t(s=>[...s,o.data])},i.onerror=o=>{console.error("WebSocket error:",o)},i.onclose=o=>{console.log("Disconnected from WebSocket server")},()=>{i.close()}},[]),S.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[e]),x.jsx(x.Fragment,{children:x.jsx(Xn,{children:x.jsxs(Wl,{elevation:3,ref:n,sx:{width:"50%",height:600,bgcolor:"black",color:"white",borderRadius:2,overflowY:"auto"},children:[x.jsx(Xn,{sx:{bgcolor:"#313d4f",p:1,textAlign:"center",position:"sticky",top:0,zIndex:1},children:x.jsx($i,{variant:"h6",color:"white",children:"Test Run 1"})}),x.jsx(Jg,{children:e.map((i,o)=>x.jsx(pw,{children:x.jsx($i,{children:i})},o))})]})})})},RY=({testCaseName:e})=>{const[t,n]=S.useState([{name:"Variable 1",editable:!1}]),[r,i]=S.useState([[""]]),o=()=>{const p=`Variable ${t.length+1}`;n([...t,{name:p,editable:!1}]),i(r.map(f=>[...f,""]))},s=()=>{i([...r,Array(t.length).fill("")])},a=(p,f,C)=>{i(y=>y.map((g,v)=>v===p?g.map((m,w)=>w===f?C:m):g))},l=p=>{p!==null&&n(t.map((f,C)=>C===p?{...f,editable:!0}:f))},c=(p,f)=>{const C=[...t];C[f].name=p.target.value,n(C)},u=p=>{const f=[...t];f[p].editable=!1,n(f)},d=()=>{i([[""]]),n([{name:"Variable 1",editable:!1}])},h=()=>{const p=[];p.push(["Cycle Iteration",...t.map(v=>v.name)].join(",")),r.forEach((v,m)=>{p.push([m+1,...v].join(","))});const f=p.join(`
`),C=new Blob([f],{type:"text/csv"}),y=URL.createObjectURL(C),g=document.createElement("a");g.href=y,g.download="data.csv",g.click(),URL.revokeObjectURL(y)};return x.jsxs(x.Fragment,{children:[x.jsx(Kn,{variant:"contained",className:"button-primary",onClick:o,children:"Add Column"}),x.jsx(Kn,{variant:"contained",className:"button-secondary",onClick:s,children:"Add Row"}),x.jsx(Kn,{variant:"contained",className:"button-secondary",onClick:d,children:"Clear Table"}),x.jsx(Kn,{variant:"contained",onClick:h,children:"Export Data"}),x.jsx(ZM,{className:"table-container",children:x.jsxs(u5,{"aria-label":"simple table",children:[x.jsxs(A5,{children:[x.jsx(oy,{children:x.jsx(cd,{colSpan:t.length+1,align:"center",style:{backgroundColor:"#3f51b5",color:"white",fontSize:"18px",fontWeight:"bold"},children:e})}),x.jsxs(oy,{children:[x.jsx(cd,{align:"center",className:"table-head-cell",children:"Cycle Iteration"}),t.map((p,f)=>x.jsx(cd,{align:"center",className:"table-head-cell",onDoubleClick:()=>l(f),children:p.editable?x.jsx(Po,{value:p.name,onChange:C=>c(C,f),onBlur:()=>u(f),onKeyDown:C=>{C.key==="Enter"&&u(f)},size:"small",className:"textField-white"}):p.name},f))]})]}),x.jsx(g5,{children:r.map((p,f)=>x.jsxs(oy,{className:f%2===0?"table-row-even":"table-row-odd",children:[x.jsx(cd,{align:"center",className:"table-cell",children:f+1}),p.map((C,y)=>x.jsx(cd,{align:"center",className:"table-cell",children:x.jsx(Po,{value:C,onChange:g=>a(f,y,g.target.value),variant:"outlined",size:"small"})},y))]},f))})]})})]})},EY=()=>{const[e,t]=S.useState([]),[n,r]=S.useState(""),i=()=>{n.trim()!==""&&(t([...e,{name:n}]),r(""))};return x.jsxs(x.Fragment,{children:[x.jsxs(WL,{children:[x.jsxs(Xn,{sx:{display:"flex",flexDirection:"column",gap:"10px"},children:[x.jsx(SY,{}),x.jsx(bY,{})]}),x.jsxs(Xn,{sx:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",marginTop:"20px"},children:[x.jsx(Po,{value:n,onChange:o=>r(o.target.value),label:"Cycle Group Name",variant:"outlined",size:"small"}),x.jsx(Kn,{variant:"contained",onClick:i,children:"Add Table"})]}),e.map((o,s)=>x.jsx("div",{style:{marginBottom:"40px"},children:x.jsx(RY,{testCaseName:o.name})},s))]}),x.jsx(UL,{children:"Welcome to the QA Regression Team's Automated Testing Program. Please sign in to continue."})]})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}var ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ua||(ua={}));const Tx="popstate";function PY(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Fw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dm(i)}return AY(t,n,null,e)}function Gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TY(){return Math.random().toString(36).substr(2,8)}function Ax(e,t){return{usr:e.state,key:e.key,idx:t}}function Fw(e,t,n,r){return n===void 0&&(n=null),Uh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Lu(t):t,{state:n,key:t&&t.key||r||TY()})}function dm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Lu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function AY(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ua.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Uh({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=ua.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:C.location,delta:g})}function h(y,g){a=ua.Push;let v=Fw(C.location,y,g);c=u()+1;let m=Ax(v,c),w=C.createHref(v);try{s.pushState(m,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}o&&l&&l({action:a,location:C.location,delta:1})}function p(y,g){a=ua.Replace;let v=Fw(C.location,y,g);c=u();let m=Ax(v,c),w=C.createHref(v);s.replaceState(m,"",w),o&&l&&l({action:a,location:C.location,delta:0})}function f(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:dm(y);return v=v.replace(/ $/,"%20"),Gn(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let C={get action(){return a},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tx,d),l=y,()=>{i.removeEventListener(Tx,d),l=null}},createHref(y){return t(i,y)},createURL:f,encodeLocation(y){let g=f(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return s.go(y)}};return C}var Ix;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ix||(Ix={}));function IY(e,t,n){return n===void 0&&(n="/"),xY(e,t,n,!1)}function xY(e,t,n,r){let i=typeof t=="string"?Lu(t):t,o=HE(i.pathname||"/",n);if(o==null)return null;let s=qL(e);DY(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=VY(o);a=HY(s[l],c,r)}return a}function qL(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wa([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Gn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qL(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:_Y(c,o.index),routesMeta:u})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of YL(o.path))i(o,s,l)}),t}function YL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=YL(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function DY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BY(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FY=/^:[\w-]+$/,OY=3,MY=2,kY=1,LY=10,NY=-2,xx=e=>e==="*";function _Y(e,t){let n=e.split("/"),r=n.length;return n.some(xx)&&(r+=NY),t&&(r+=MY),n.filter(i=>!xx(i)).reduce((i,o)=>i+(FY.test(o)?OY:o===""?kY:LY),r)}function BY(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function HY(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=Dx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Dx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:wa([o,d.pathname]),pathnameBase:$Y(wa([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=wa([o,d.pathnameBase]))}return s}function Dx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GY(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let C=a[d]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const f=a[d];return p&&!f?c[h]=void 0:c[h]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function GY(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),KL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function VY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function WY(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Lu(e):e;return{pathname:n?n.startsWith("/")?n:UY(n,t):t,search:jY(r),hash:KY(i)}}function UY(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zY(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GE(e,t){let n=zY(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Lu(e):(i=Uh({},e),Gn(!i.pathname||!i.pathname.includes("?"),dy("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),dy("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),dy("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=WY(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wa=e=>e.join("/").replace(/\/\/+/g,"/"),$Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const QL=["post","put","patch","delete"];new Set(QL);const YY=["get",...QL];new Set(YY);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}const WE=S.createContext(null),QY=S.createContext(null),Ba=S.createContext(null),Jv=S.createContext(null),Ha=S.createContext({outlet:null,matches:[],isDataRoute:!1}),XL=S.createContext(null);function XY(e,t){let{relative:n}=t===void 0?{}:t;Nu()||Gn(!1);let{basename:r,navigator:i}=S.useContext(Ba),{hash:o,pathname:s,search:a}=eN(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:wa([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Nu(){return S.useContext(Jv)!=null}function bp(){return Nu()||Gn(!1),S.useContext(Jv).location}function JL(e){S.useContext(Ba).static||S.useLayoutEffect(e)}function ZL(){let{isDataRoute:e}=S.useContext(Ha);return e?u8():JY()}function JY(){Nu()||Gn(!1);let e=S.useContext(WE),{basename:t,future:n,navigator:r}=S.useContext(Ba),{matches:i}=S.useContext(Ha),{pathname:o}=bp(),s=JSON.stringify(GE(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return JL(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=VE(c,JSON.parse(s),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:wa([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,o,e])}function eN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(Ba),{matches:i}=S.useContext(Ha),{pathname:o}=bp(),s=JSON.stringify(GE(i,r.v7_relativeSplatPath));return S.useMemo(()=>VE(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function ZY(e,t){return e8(e,t)}function e8(e,t,n,r){Nu()||Gn(!1);let{navigator:i}=S.useContext(Ba),{matches:o}=S.useContext(Ha),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=bp(),u;if(t){var d;let y=typeof t=="string"?Lu(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Gn(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let f=IY(e,{pathname:p}),C=o8(f&&f.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:wa([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:wa([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&C?S.createElement(Jv.Provider,{value:{location:zh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ua.Pop}},C):C}function t8(){let e=c8(),t=qY(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const n8=S.createElement(t8,null);class r8 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Ha.Provider,{value:this.props.routeContext},S.createElement(XL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i8(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(WE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ha.Provider,{value:t},r)}function o8(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Gn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,f=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,f=!1,C=null,y=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,C=d.route.errorElement||n8,l&&(c<0&&h===0?(f=!0,y=null):c===h&&(f=!0,y=d.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),v=()=>{let m;return p?m=C:f?m=y:d.route.Component?m=S.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=u,S.createElement(i8,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(r8,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var tN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tN||{}),hm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hm||{});function s8(e){let t=S.useContext(WE);return t||Gn(!1),t}function a8(e){let t=S.useContext(QY);return t||Gn(!1),t}function l8(e){let t=S.useContext(Ha);return t||Gn(!1),t}function nN(e){let t=l8(),n=t.matches[t.matches.length-1];return n.route.id||Gn(!1),n.route.id}function c8(){var e;let t=S.useContext(XL),n=a8(hm.UseRouteError),r=nN(hm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function u8(){let{router:e}=s8(tN.UseNavigateStable),t=nN(hm.UseNavigateStable),n=S.useRef(!1);return JL(()=>{n.current=!0}),S.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,zh({fromRouteId:t},o)))},[e,t])}const Fx={};function d8(e,t){Fx[t]||(Fx[t]=!0,console.warn(t))}const Ox=(e,t,n)=>d8(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function h8(e,t){e!=null&&e.v7_startTransition||Ox("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Ox("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function p8(e){let{to:t,replace:n,state:r,relative:i}=e;Nu()||Gn(!1);let{future:o,static:s}=S.useContext(Ba),{matches:a}=S.useContext(Ha),{pathname:l}=bp(),c=ZL(),u=VE(t,GE(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Xa(e){Gn(!1)}function f8(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ua.Pop,navigator:o,static:s=!1,future:a}=e;Nu()&&Gn(!1);let l=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:o,static:s,future:zh({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Lu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,C=S.useMemo(()=>{let y=HE(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:f},navigationType:i}},[l,u,d,h,p,f,i]);return C==null?null:S.createElement(Ba.Provider,{value:c},S.createElement(Jv.Provider,{children:n,value:C}))}function g8(e){let{children:t,location:n}=e;return ZY(Ow(t),n)}new Promise(()=>{});function Ow(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let o=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Ow(r.props.children,o));return}r.type!==Xa&&Gn(!1),!r.props.index||!r.props.children||Gn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ow(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(this,arguments)}function m8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function v8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function C8(e,t){return e.button===0&&(!t||t==="_self")&&!v8(e)}const y8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S8="6";try{window.__reactRouterVersion=S8}catch{}const w8="startTransition",Mx=Sg[w8];function b8(e){let{basename:t,children:n,future:r,window:i}=e,o=S.useRef();o.current==null&&(o.current=PY({window:i,v5Compat:!0}));let s=o.current,[a,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=S.useCallback(d=>{c&&Mx?Mx(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.useEffect(()=>h8(r),[r]),S.createElement(f8,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const R8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=m8(t,y8),{basename:p}=S.useContext(Ba),f,C=!1;if(typeof c=="string"&&E8.test(c)&&(f=c,R8))try{let m=new URL(window.location.href),w=c.startsWith("//")?new URL(m.protocol+c):new URL(c),E=HE(w.pathname,p);w.origin===m.origin&&E!=null?c=E+w.search+w.hash:C=!0}catch{}let y=XY(c,{relative:i}),g=P8(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function v(m){r&&r(m),m.defaultPrevented||g(m)}return S.createElement("a",Mw({},h,{href:f||y,onClick:C||o?r:v,ref:n,target:l}))});var kx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kx||(kx={}));var Lx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lx||(Lx={}));function P8(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,l=ZL(),c=bp(),u=eN(e,{relative:s});return S.useCallback(d=>{if(C8(d,n)){d.preventDefault();let h=r!==void 0?r:dm(c)===dm(u);l(e,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,e,o,s,a])}const T8=()=>{const{instance:e,accounts:t}=Us(),n=async()=>{await CY(e)},r=async()=>{await yY(e,t)};return x.jsx(x.Fragment,{children:x.jsxs(n$,{position:"fixed",children:[x.jsx(WL,{children:x.jsxs(WI,{className:"navbar",children:[x.jsx(Kn,{component:ic,to:"/",color:"inherit",className:"button",children:"TAP"}),x.jsx(Kn,{component:ic,to:"/environments",color:"inherit",className:"button",children:"Environments"}),x.jsx(Kn,{component:ic,to:"/pivottable",color:"inherit",className:"button",children:"Pivot Table"}),x.jsx(Kn,{component:ic,to:"/taskboard",color:"inherit",className:"button",children:"Tasks"}),x.jsx(Kn,{component:ic,to:"/completedtasks",color:"inherit",className:"button",children:"Completed Tasks"}),x.jsx(Kn,{onClick:r,color:"inherit",className:"button",children:"Logout"})]})}),x.jsx(UL,{children:x.jsxs(WI,{className:"navbar",children:[x.jsx(Kn,{component:ic,to:"/",color:"inherit",className:"button",children:"TAP"}),x.jsx(Kn,{onClick:n,color:"inherit",className:"button",children:"Login"})]})})]})})};var _u=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const r=(a,l)=>a.forEach(c=>{if(!l.has(c))return;const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(u):u()}),i=this.getListeners(n,t,!1)??new Set,o=new Set(i);o.size>0&&r(o,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,e)):()=>a(n,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},rN=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(rN||{}),Nx={};function UE(e,t){Nx[t]||(e(),Nx[t]=!0)}function wo(e,...t){console.log("AG Grid: "+e,...t)}function ee(e,...t){UE(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Bt(e,...t){UE(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function zE(e){return!!(e&&e.constructor&&e.call&&e.apply)}function A8(e){I8(e,400)}var hy=[],py=!1;function _x(e){hy.push(e),!py&&(py=!0,window.setTimeout(()=>{const t=hy.slice();hy.length=0,py=!1,t.forEach(n=>n())},0))}function I8(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(n=>n()),t)}function Vr(e,t){let n;return function(...r){const i=this;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,r)},t)}}function Bx(e,t){let n=0;return function(...r){const i=this,o=new Date().getTime();o-n<t||(n=o,e.apply(i,r))}}function x8(e,t,n=100,r){const i=new Date().getTime();let o=null,s=!1;const a=()=>{const l=new Date().getTime()-i>n;(e()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&r&&ee(r))};a(),s||(o=window.setInterval(a,10))}function D8(...e){return t=>e.reduce((n,r)=>r(n),t)}function Ts(e){return e==null||e===""?null:e}function ce(e,t=!1){return e!=null&&(e!==""||t)}function Pt(e){return!ce(e)}function xi(e){return e==null||e.length===0}function kw(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ml(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Lw(e){if(e!==void 0)return e===null||e===""?!1:Nw(e)}function Nw(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function $h(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function F8(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!n)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}function lg(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(n=>t.push(n)),t}return Object.values(e)}function iN(e,t){return e.get("rowModelType")===t}function hn(e){return iN(e,"clientSide")}function cs(e){return iN(e,"serverSide")}function vr(e,t){return e.get("domLayout")===t}function pm(e){return mm(e)!==void 0}function fm(e){return!e.get("suppressAsyncEvents")}function oN(e){return typeof e.get("getRowHeight")=="function"}function O8(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Fa(e,t,n=!1,r){if(r==null&&(r=e.environment.getDefaultRowHeight()),oN(e)){if(n)return{height:r,estimated:!0};const s={node:t,data:t.data},a=e.getCallback("getRowHeight")(s);if(_w(a))return a===0&&ee("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return M8(e);const i=e.get("rowHeight");return{height:i&&_w(i)?i:r,estimated:!1}}function M8(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return _w(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function vl(e){const{environment:t}=e,n=e.get("rowHeight");if(!n||Pt(n))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(ee("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function _w(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function jh(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function Ll(e,t,n,r){const i=e.getDomDataKey();let o=t[i];Pt(o)&&(o={},t[i]=o),o[n]=r}function Ln(e){let t=null;const n=e.get("getDocument");return n&&ce(n)?t=n():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&ce(t)?t:document}function sN(e){return Ln(e).defaultView||window}function Kh(e){return e.eGridDiv.getRootNode()}function Pn(e){return Kh(e).activeElement}function aN(e){const t=Ln(e),n=Pn(e);return n===null||n===t.body}function Xc(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Zv(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||vr(e,"print"))}function Ko(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Bw(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function lN(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function cN(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const n=e.get("groupIncludeFooter");if(typeof n=="function"){const r=e.getCallback("groupIncludeFooter");return i=>r(i)?"bottom":void 0}return()=>n?"bottom":void 0}function uN(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function eC(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Bu(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(ee("The getRowId callback must return a string. The ID ",r," is being cast to a string."),r=String(r)),r}}function Cu(e){return(e==null?void 0:e.checkboxes)??!0}function gm(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function k8(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function L8(e){return typeof e.get("rowSelection")!="string"}function N8(e){return e.get("cellSelection")!==void 0}function _8(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function Gs(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function B8(e){var r;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((r=t.handle)==null?void 0:r.mode)==="range":!1:e.get("enableRangeHandle")}function Hx(e){var r;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((r=t.handle)==null?void 0:r.mode)==="fill":!1:e.get("enableFillHandle")}function dN(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function H8(e){const t=dN(e);return t===!0||t==="enableSelection"}function Gx(e){const t=dN(e);return t===!0||t==="enableDeselection"}function $E(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function mm(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function hN(e){return mm(e)==="multiRow"}function G8(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function jE(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Nl(e){const t=jE(e);return t==="descendants"||t==="filteredDescendants"}function fy(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Et(e){if(!(!e||!e.length))return e[e.length-1]}function Ga(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function V8(e){return e.sort((t,n)=>t-n)}function pN(e,t){const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.pop())}function Wr(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function W8(e,t){for(let n=0;n<t.length;n++)pN(e,t[n])}function U8(e,t){for(let n=0;n<t.length;n++)Wr(e,t[n])}function vm(e,t,n){e.splice(n,0,t)}function fN(e,t,n){U8(e,t),t.slice().reverse().forEach(r=>vm(e,r,n))}function Cl(e,t){return e.indexOf(t)>-1}function z8(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function Vx(e,t){t==null||e==null||t.forEach(n=>e.push(n))}var gN="__ag_Grid_Stop_Propagation",$8=["touchstart","touchend","touchmove","touchcancel","scroll"],gy={};function yu(e){e[gN]=!0}function As(e){return e[gN]===!0}var mN=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof gy[n]=="boolean")return gy[n];const r=document.createElement(e[n]||"div");return n="on"+n,gy[n]=n in r}})();function Hw(e,t,n){let r=t;for(;r;){const i=jh(e,r,n);if(i)return i;r=r.parentElement}return null}function j8(e,t){return!t||!e?!1:q8(t).indexOf(e)>=0}function K8(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function q8(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():K8(t)}function Y8(e,t,n,r){const o=Cl($8,n)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,n,r,o)}var j=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new _u),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService&&this.localEventService.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r in t){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;e instanceof HTMLElement?Y8(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);const r=()=>(e.removeEventListener(t,n),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const n=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const o={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(o)};e.forEach(i=>this.setupGridOptionListener(i,r))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Hr(e){return e instanceof cg}var cg=class extends j{constructor(e,t,n,r){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=yN(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Oa(t)?e.push(t):Hr(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let o=0,s=r.length;o<s;o++){const a=r[o];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{Hr(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},vN="ag-Grid-ControlsColumn",Q8=class extends j{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const n=Cu(t),r=gm(t);if(n||r){const i=e.get("selectionColumnDef"),s={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(l,c,u,d){const h=u.isSelected(),p=d.isSelected();return h&&p?0:h?1:-1},editable:!1,suppressFillHandle:!0,...i,colId:`${vN}`},a=new QE(s,null,s.colId,!1);return this.createBean(a),[a]}return[]}},tC="ag-Grid-AutoColumn";function KE(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const o=r[i];Oa(o)?t.push(o):Hr(o)&&n(o.getChildren())}};return n(e),t}function ys(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function na(e,t,n){const r={};if(!t)return;Vs(null,t,o=>{r[o.getInstanceId()]=o}),n&&Vs(null,n,o=>{r[o.getInstanceId()]=null});const i=Object.values(r).filter(o=>o!=null);e.destroyBeans(i)}function Gw(e){return e.getId().startsWith(tC)}function Rp(e){return e.getColId().startsWith(vN)}function ug(e){let t=[];return e instanceof Array?e.some(r=>typeof r!="string")?ee("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):ee("colDef.type should be of type 'string' | 'string[]'"),t}var qE=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=n=>{this.frameworkOverrides.wrapOutgoing(()=>e(n))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(n,r)=>{this.frameworkOverrides.wrapOutgoing(()=>e(n,r))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},YE=new Set(["__proto__","constructor","prototype"]);function So(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const[n,r]of Object.entries(e))t(n,r)}}function CN(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++){if(YE.has(n[r]))continue;const i=n[r],o=e[i];t[i]=o}return t}function Vw(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||YE.has(i))return;const o=n[i];Uw(o)&&o.constructor===Object?r[i]=Vw(o):r[i]=o}),r}function Ww(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const n=[];for(const r in e)e.hasOwnProperty(r)&&e.propertyIsEnumerable(r)&&n.push(e[r]);return n}function Gr(e,t,n=!0,r=!1){ce(t)&&So(t,(i,o)=>{if(YE.has(i))return;let s=e[i];s!==o&&(r&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[i]=s),Uw(o)&&Uw(s)&&!Array.isArray(s)?Gr(s,o,n,r):(n||o!==void 0)&&(e[i]=o))})}function th(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let o=0;o<r.length;o++){if(i==null)return;i=i[r[o]]}return i}function Uw(e){return typeof e=="object"&&e!==null}var X8={resizable:!0,sortable:!0},J8=0;function yN(){return J8++}function Oa(e){return e instanceof QE}var QE=class extends j{constructor(e,t,n,r){super(),this.isColumn=!0,this.instanceId=yN(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new _u,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,n=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);const r=e.hide,i=e.initialHide;r!==void 0?this.visible=!r:this.visible=!i,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,s=e.initialFlex;o!==void 0?this.flex=o:s!==void 0&&(this.flex=s)}setColDef(e,t,n){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=ce(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ce(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=ce(this.colDef.tooltipField)||ce(this.colDef.tooltipValueGetter)||ce(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=ml(e.width),r=ml(e.initialWidth);return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Pt(this.colDef)||Pt(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new qE(this.frameworkOverrides));const n=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t))??t;this.columnEventService.addEventListener(e,n)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(t))??t;this.columnEventService.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const n=Rp(this)&&Cu(t);return this.isColumnFunc(e,n)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??X8[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Pt(this.sort)}isSorting(){return ce(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,n){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const r=this.createColumnEvent("filterChanged",t);n&&Gr(r,n),this.columnEventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Pt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Pt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Z8={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},e9=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=kw(e);let n=0;for(;;){let r;if(e?(r=e,n!==0&&(r+="_"+n)):t?(r=t,n!==0&&(r+="_"+n)):r=n,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);n++}}},t9=class extends j{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,n,r){const i=new e9,{existingCols:o,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(n);i.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,o,i,s,r),c=this.findMaxDept(l,0),u=this.balanceColumnTree(l,0,c,i);return Vs(null,u,(h,p)=>{Hr(h)&&h.setupExpandable(),h.setOriginalParent(p)}),{columnTree:u,treeDept:c}}extractExistingTreeData(e){const t=[],n=[],r=[];return e&&Vs(null,e,i=>{if(Hr(i)){const o=i;n.push(o)}else{const o=i;r.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}balanceTreeForAutoCols(e,t){const n=[],r=this.findDepth(t);return e.forEach(i=>{let o=i;for(let s=r-1;s>=0;s--){const a=new cg(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}r===0&&i.setOriginalParent(null),n.push(o)}),[n,r]}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Hr(n[0]);)t++,n=n[0].getChildren();return t}balanceColumnTree(e,t,n,r){const i=[];for(let o=0;o<e.length;o++){const s=e[o];if(Hr(s)){const a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let c=n-1;c>=t;c--){const u=r.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),h=new cg(d,u,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(i.push(a),e.some(u=>Hr(u))){l.setChildren([s]);continue}else{l.setChildren(e);break}i.push(s)}}return i}findMaxDept(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(Hr(i)){const o=i,s=this.findMaxDept(o.getChildren(),t+1);n<s&&(n=s)}}return n}recursivelyCreateColumns(e,t,n,r,i,o,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(n,c,t,r,i,o,s):a[l]=this.createColumn(n,c,r,i,s)}return a}createColumnGroup(e,t,n,r,i,o,s){const a=this.createMergedColGroupDef(t),l=i.getUniqueKey(a.groupId||null,null),c=new cg(a,l,!1,n);this.createBean(c);const u=this.findExistingGroup(t,o);u&&o.splice(u.idx,1);const d=u==null?void 0:u.group;d&&c.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,n+1,e,r,i,o,s);return c.setChildren(h),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,n,r,i){var a;const o=this.findExistingColumn(t,n);o&&(n==null||n.splice(o.idx,1));let s=o==null?void 0:o.column;if(s){const l=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(l,t,i),this.applyColumnState(s,l,i)}else{const l=r.getUniqueKey(t.colId,t.field),c=this.addColumnDefaultAndTypes(t,l);s=new QE(c,t,l,e),this.createBean(s)}return(a=this.dataTypeService)==null||a.addColumnListeners(s),s}applyColumnState(e,t,n){const r=ml(t.flex);if(r!==void 0&&e.setFlex(r),e.getFlex()<=0){const a=ml(t.width);if(a!=null)e.setActualWidth(a,n);else{const l=e.getActualWidth();e.setActualWidth(l,n)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,n):e.setSort(void 0,n));const o=ml(t.sortIndex);o!==void 0&&e.setSortIndex(o);const s=Lw(t.hide);s!==void 0&&e.setVisible(!s,n),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}addColumnDefaultAndTypes(e,t){var a;const n={},r=this.gos.get("defaultColDef");Gr(n,r,!1,!0);const i=this.updateColDefAndGetColumnType(n,e,t);i&&this.assignColumnTypes(i,n),Gr(n,e,!1,!0);const o=this.gos.get("autoGroupColumnDef"),s=Ko(this.gos);return e.rowGroup&&o&&s&&Gr(n,{sort:o.sort,initialSort:o.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(n),n}updateColDefAndGetColumnType(e,t,n){var o;const r=(o=this.dataTypeService)==null?void 0:o.updateColDefAndGetColumnType(e,t,n),i=t.type??r??e.type;return e.type=i,i?ug(i):void 0}assignColumnTypes(e,t){if(!e.length)return;const n=Object.assign({},Z8),r=this.gos.get("columnTypes")||{};So(r,(i,o)=>{i in n?ee(`the column type '${i}' is a default column type and cannot be overridden.`):(o.type&&ee("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[i]=o)}),e.forEach(i=>{const o=n[i.trim()];o?Gr(t,o,!1,!0):ee("colDef.type '"+i+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function Vs(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];Hr(i)&&Vs(i,i.getChildren(),n),n(i,e)}}var n9=class extends j{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(rl(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,rl(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(rl(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(rl(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),rl(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var c,u,d;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const n=(c=this.colDefCols)==null?void 0:c.list,r=(u=this.colDefCols)==null?void 0:u.tree,i=this.columnFactory.createColumnTree(this.colDefs,!0,r,e);na(this.context,(d=this.colDefCols)==null?void 0:d.tree,i.columnTree);const o=i.columnTree,s=i.treeDept,a=KE(o),l={};a.forEach(h=>l[h.getId()]=h),this.colDefCols={tree:o,treeDepth:s,list:a,map:l},this.funcColsService.extractCols(e,n),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var i,o,s;if(!this.colDefCols)return;const t=(i=this.cols)==null?void 0:i.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const n=O8(this.gos,this.showingPivotResult);(!e||n)&&this.restoreColOrder(),this.positionLockedCols(),(o=this.showRowGroupColsService)==null||o.refresh(),(s=this.quickFilterService)==null||s.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Ga(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:n,tree:r,treeDepth:i}=e;this.cols={list:n.slice(),map:{...t},tree:r.slice(),treeDepth:i},e.list.some(s=>{var a;return((a=this.cols)==null?void 0:a.map[s.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:n,tree:r,treeDepth:i}=this.colDefCols;this.cols={list:n.slice(),map:{...t},tree:r.slice(),treeDepth:i}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(r=>{const i=Gw(r);if(e){const o=t&&Cl(t,r);return i||o}else return i||r.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Wx(this.cols))}createAutoCols(){var f;const e=eC(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),n=this.funcColsService.getRowGroupColumns(),i=!(n.length>0||this.gos.get("treeData"))||t||e,o=()=>{this.autoCols&&(na(this.context,this.autoCols.tree),this.autoCols=null)};if(i||!this.autoColService){o();return}const s=this.autoColService.createAutoCols(n)??[],a=zx(s,((f=this.autoCols)==null?void 0:f.list)||null),l=this.cols.treeDepth,u=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&u)return;o();const[d,h]=this.columnFactory.balanceTreeForAutoCols(s,this.cols.tree);this.autoCols={list:s,tree:d,treeDepth:h,map:{}};const p=C=>{if(!C)return null;const y=C.filter(g=>!Gw(g));return[...s,...y]};this.lastOrder=p(this.lastOrder),this.lastPivotOrder=p(this.lastPivotOrder)}createControlsCols(){var c,u,d;const e=()=>{var h;na(this.context,(h=this.controlsCols)==null?void 0:h.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,r=(((c=this.controlsCols)==null?void 0:c.treeDepth)??-1)==t,i=((u=this.controlsColService)==null?void 0:u.createControlsCols())??[];if(zx(i,((d=this.controlsCols)==null?void 0:d.list)??[])&&r)return;e();const[s,a]=this.columnFactory.balanceTreeForAutoCols(i,this.cols.tree);this.controlsCols={list:i,tree:s,treeDepth:a,map:{}};const l=h=>{if(!h)return null;const p=h.filter(f=>!Rp(f));return[...i,...p]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),Wx(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,n){this.columnApplyStateService.applyColumnState({state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}setColsPinned(e,t,n){if(!this.cols||xi(e))return;if(vr(this.gos,"print")){ee("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let r;t===!0||t==="left"?r="left":t==="right"?r="right":r=null;const i=[];e.forEach(o=>{if(!o)return;const s=this.getCol(o);s&&s.getPinned()!==r&&(s.setPinned(r),i.push(s))}),i.length&&(this.visibleColsService.refresh(n),this.eventDispatcher.columnPinned(i,n)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,n){let r;Hr(e)?r=e.getId():r=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){var n;let t=null;return Vs(null,(n=this.cols)==null?void 0:n.tree,r=>{Hr(r)&&r.getId()===e&&(t=r)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const r=this.funcColsService.getRowGroupColumns().findIndex(i=>i.getColId()===e.getColId());return t>r}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,hn(this.gos)||cs(this.gos)||ee("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;const r=new Map(this.cols.list.map(l=>[l,!0])),i=e.filter(l=>r.has(l)),o=new Map(i.map(l=>[l,!0])),s=this.cols.list.filter(l=>!o.has(l)),a=i.slice();s.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const u=[];for(;!u.length&&c;)c.getLeafColumns().forEach(f=>{const C=a.indexOf(f)>=0,y=u.indexOf(f)<0;C&&y&&u.push(f)}),c=c.getOriginalParent();if(!u.length){a.push(l);return}const d=u.map(p=>a.indexOf(p)),h=Math.max(...d);vm(a,l,h+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const n={};e.forEach(i=>{if(n[i])return;const o=this.cols.map[i];o&&(t.push(o),n[i]=!0)});let r=0;if(this.cols.list.forEach(i=>{const o=i.getColId();if(n[o]!=null)return;o.startsWith(tC)?vm(t,i,r++):t.push(i)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){ee("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(n=>this.cols.list.indexOf(n)<0).length>0||e.sort((n,r)=>{const i=this.cols.list.indexOf(n),o=this.cols.list.indexOf(r);return i-o})}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(r,n,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,n){var r;fN((r=this.cols)==null?void 0:r.list,e,t),this.visibleColsService.refresh(n)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((r,i)=>this.lastOrder.indexOf(r)-this.lastOrder.indexOf(i)):this.lastOrder&&e.sort((r,i)=>this.cols.list.indexOf(r)-this.cols.list.indexOf(i));const t=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,n)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(ee("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!xi(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,n;na(this.context,(e=this.colDefCols)==null?void 0:e.tree),na(this.context,(t=this.autoCols)==null?void 0:t.tree),na(this.context,(n=this.controlsCols)==null?void 0:n.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var n,r,i;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((n=this.colDefCols)==null?void 0:n.list)??[],((r=this.autoCols)==null?void 0:r.list)??[],((i=this.controlsCols)==null?void 0:i.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<r.length;i++)if(Ux(r[i],e))return r[i];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(n=>Ux(n,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const n of t){if(!n)continue;const r=n.getGroupRowCount()||0;for(let i=0;i<r;i++){const o=n.getGroupRowCtrlAtIndex(i),s=e[i];if(o){const a=this.getColumnGroupHeaderRowHeight(o);(s==null||a>s)&&(e[i]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let n=0;const r=e.getHeaderCtrls();for(const i of r){const o=i.getColumn();if(o.isAutoHeaderHeight()){const s=o.getAutoHeaderHeight();s!=null&&s>n&&(n=s)}}return Math.max(t,n)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.visibleColsService.getAllCols().filter(r=>r.isAutoHeaderHeight()).map(r=>r.getAutoHeaderHeight()||0);return Math.max(e,...n)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",n)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?Cu(t):void 0,i=e&&typeof e!="string"?Cu(e):void 0,o=r!==i,s=t&&typeof t!="string"?gm(t):void 0,a=e&&typeof e!="string"?gm(e):void 0;(o||s!==a)&&this.refreshAll(n)}};function rl(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Wx(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Ux(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}function zx(e,t){return Ga(e,t,(n,r)=>n.getColId()===r.getColId())}var r9=class extends j{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,source:o="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const s=[];let a=-1;const l=n??this.gos.get("skipHeaderOnAutoSize"),c=r??l;for(;a!==0;){a=0;const u=[];t.forEach(d=>{if(!d)return;const h=this.columnModel.getCol(d);if(!h||s.indexOf(h)>=0)return;const p=this.autoWidthCalculator.getPreferredWidthForColumn(h,l);if(p>0){const f=this.normaliseColumnWidth(h,p);h.setActualWidth(f,o),s.push(h),a++}u.push(h)}),u.length&&this.visibleColsService.refresh(o)}c||this.autoSizeColumnGroupsByColumns(t,o,i),this.eventDispatcher.columnResized(s,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const r=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=n;)l.isPadding()||r.add(l),l=l.getParent()});let o;const s=[];for(const a of r){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(o=l.getHeaderCtrlForColumn(a),o)break;o&&o.resizeLeafColumnsToFit(t)}return s}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const n=e.getMinWidth();t<n&&(t=n);const r=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=r),t}},i9=class extends j{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Wr(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Wr(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Wr(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const n=this.columnModel.getColDefCol(t);return n?[n]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return xi(this.rowGroupCols)}setColumnAggFunc(e,t,n){if(!e)return;const r=this.columnModel.getColDefCol(e);r&&(r.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[r],n))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(n,r)=>this.setRowGroupActive(n,r,t),t)}setRowGroupActive(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,n),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,n))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,n=>this.setRowGroupActive(!0,n,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,n=>this.setRowGroupActive(!1,n,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,n=>n.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(n,r)=>{r.setPivotActive(n,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,n=>n.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(n,r)=>this.setValueActive(n,r,t),t)}setValueActive(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc()&&this.aggFuncService)){const r=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(r)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,n=>this.setValueActive(!0,n,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,n=>this.setValueActive(!1,n,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,n){if(this.isRowGroupEmpty())return;const r=this.rowGroupCols[e],i=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,r),this.eventDispatcher.rowGroupChanged(i,n)}setColList(e,t,n,r,i,o,s){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((c,u)=>a.set(c,u)),t.length=0,ce(e)&&e.forEach(c=>{const u=this.columnModel.getColDefCol(c);u&&t.push(u)}),t.forEach((c,u)=>{const d=a.get(c);if(d===void 0){a.set(c,0);return}r&&d!==u||a.delete(c)}),(this.columnModel.getColDefCols()||[]).forEach(c=>{const u=t.indexOf(c)>=0;o(u,c)}),i&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(s),this.eventDispatcher.columnChanged(n,[...a.keys()],s)}updateColList(e,t,n,r,i,o,s){if(!e||xi(e))return;let a=!1;const l=new Set;e.forEach(c=>{if(!c)return;const u=this.columnModel.getColDefCol(c);if(u){if(l.add(u),n){if(t.indexOf(u)>=0)return;t.push(u)}else{const d=t.indexOf(u);if(d<0)return;for(let h=d+1;h<t.length;h++)l.add(t[h]);Wr(t,u)}i(u),a=!0}}),a&&(r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(s),this.eventDispatcher.genericColumnEvent(o,Array.from(l),s))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(n,r)=>n.setValueActive(r,e),()=>{},()=>{},n=>{const r=n.aggFunc;if(r===null||r==="")return null;if(r!==void 0)return!!r},n=>n.initialAggFunc!=null&&n.initialAggFunc!=""),this.valueCols.forEach(n=>{const r=n.getColDef();r.aggFunc!=null&&r.aggFunc!=""?n.setAggFunc(r.aggFunc):n.getAggFunc()||n.setAggFunc(r.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(n,r)=>n.setRowGroupActive(r,e),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(n,r)=>n.setPivotActive(r,e),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}extractColsCommon(e=[],t=[],n,r,i,o,s){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(h=>{const p=e.indexOf(h)<0,f=h.getColDef(),C=Lw(o(f)),y=Lw(s(f)),g=ml(r(f)),v=ml(i(f));let m;C!==void 0?m=C:g!==void 0?g===null?m=!1:m=g>=0:p?y!==void 0?m=y:v!==void 0?m=v!=null&&v>=0:m=!1:m=t.indexOf(h)>=0,m&&((p?g!=null||v!=null:g!=null)?a.push(h):l.push(h))});const u=h=>{const p=r(h.getColDef()),f=i(h.getColDef());return p??f};a.sort((h,p)=>{const f=u(h),C=u(p);return f===C?0:f<C?-1:1});const d=[].concat(a);return t.forEach(h=>{l.indexOf(h)>=0&&d.push(h)}),l.forEach(h=>{d.indexOf(h)<0&&d.push(h)}),t.forEach(h=>{d.indexOf(h)<0&&n(h,!1)}),d.forEach(h=>{t.indexOf(h)<0&&n(h,!0)}),d}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},r=(i,o,s,a,l,c)=>{const u=this.columnModel.getColDefCols();if(!o.length||!u)return[];const d=Object.keys(i),h=new Set(d),p=new Set(d),f=new Set(o.map(P=>{const A=P.getColId();return p.delete(A),A}).concat(d)),C=[],y={};let g=0;for(let P=0;P<u.length;P++){const A=u[P].getColId();f.has(A)&&(C.push(A),y[A]=g++)}let v=1e3,m=!1,w=0;const E=P=>{const A=y[P];for(let R=w;R<A;R++){const T=C[R];p.has(T)&&(i[T][l]=v++,p.delete(T))}w=A};o.forEach(P=>{const A=P.getColId();if(h.has(A))E(A),i[A][l]=v++;else{const R=P.getColDef();(R[l]===null||R[l]===void 0&&R[c]==null)&&(m||(R[s]||R[s]===void 0&&R[a]?E(A):(p.forEach(I=>{i[I][l]=v+y[I]}),v+=C.length,m=!0)),n[A]||(n[A]={colId:A}),n[A][l]=v++)}})};return r(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),r(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}},o9=class extends j{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const n=this.columnModel.getColDefCols()||[];if(xi(n))return!1;if(e&&e.state&&!e.state.forEach)return ee("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const r=this.funcColsService.getModifyColumnsNoEventsCallbacks(),i=(a,l,c)=>{const u=this.compareColumnStatesAndDispatchEvents(t),d=l.slice(),h={},p={},f=[],C=[];let y=0;const g=this.funcColsService.getRowGroupColumns().slice(),v=this.funcColsService.getPivotColumns().slice();a.forEach(P=>{const A=P.colId||"";if(A.startsWith(tC)){f.push(P),C.push(P);return}const T=c(A);T?(this.syncColumnWithStateItem(T,P,e.defaultState,h,p,!1,t,r),Wr(d,T)):(C.push(P),y+=1)});const m=P=>this.syncColumnWithStateItem(P,null,e.defaultState,h,p,!1,t,r);d.forEach(m),this.funcColsService.sortRowGroupColumns($x.bind(this,h,g)),this.funcColsService.sortPivotColumns($x.bind(this,p,v)),this.columnModel.refreshCols(!1);const E=(this.columnModel.getAutoCols()||[]).slice();return f.forEach(P=>{const A=this.columnModel.getAutoCol(P.colId);Wr(E,A),this.syncColumnWithStateItem(A,P,e.defaultState,null,null,!0,t,r)}),E.forEach(m),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),u(),{unmatchedAndAutoStates:C,unmatchedCount:y}};this.columnAnimationService.start();let{unmatchedAndAutoStates:o,unmatchedCount:s}=i(e.state||[],n,a=>this.columnModel.getColDefCol(a));if(o.length>0||ce(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;s=i(o,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),s===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(xi(t))return;const n=this.columnModel.getColDefColTree(),r=KE(n),i=[];let o=1e3,s=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),r&&(a=a.concat(r)),a.forEach(c=>{const u=this.getColumnStateFromColDef(c);Pt(u.rowGroupIndex)&&u.rowGroup&&(u.rowGroupIndex=o++),Pt(u.pivotIndex)&&u.pivot&&(u.pivotIndex=s++),i.push(u)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(f,C)=>f??C??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:o,pinned:s,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:p}}syncColumnWithStateItem(e,t,n,r,i,o,s,a){if(!e)return;const l=(w,E)=>{const P={value1:void 0,value2:void 0};let A=!1;return t&&(t[w]!==void 0&&(P.value1=t[w],A=!0),ce(E)&&t[E]!==void 0&&(P.value2=t[E],A=!0)),!A&&n&&(n[w]!==void 0&&(P.value1=n[w]),ce(E)&&n[E]!==void 0&&(P.value2=n[E])),P},c=l("hide").value1;c!==void 0&&e.setVisible(!c,s);const u=l("pinned").value1;u!==void 0&&e.setPinned(u);const d=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),h=l("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){const w=l("width").value1;w!=null&&d!=null&&w>=d&&e.setActualWidth(w,s)}const p=l("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,s):e.setSort(void 0,s));const f=l("sortIndex").value1;if(f!==void 0&&e.setSortIndex(f),o||!e.isPrimary())return;const C=l("aggFunc").value1;C!==void 0&&(typeof C=="string"?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,s),a.addValueCol(e))):(ce(C)&&ee("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),a.removeValueCol(e))));const{value1:y,value2:g}=l("rowGroup","rowGroupIndex");(y!==void 0||g!==void 0)&&(typeof g=="number"||y?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),a.addGroupCol(e)),r&&typeof g=="number"&&(r[e.getId()]=g)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),a.removeGroupCol(e)));const{value1:v,value2:m}=l("pivot","pivotIndex");(v!==void 0||m!==void 0)&&(typeof m=="number"||v?(e.isPivotActive()||(e.setPivotActive(!0,s),a.addPivotCol(e)),i&&typeof m=="number"&&(i[e.getId()]=m)):e.isPivotActive()&&(e.setPivotActive(!1,s),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(n=>{n.colId!=null&&t.push(n.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},n=this.columnGetStateService.getColumnState(),r={};return n.forEach(i=>{r[i.colId]=i}),()=>{const i=this.columnModel.getAllCols(),o=(C,y,g,v)=>{const m=y.map(v),w=g.map(v);if(Ga(m,w))return;const P=new Set(y);g.forEach(R=>{P.delete(R)||P.add(R)});const A=[...P];this.eventService.dispatchEvent({type:C,columns:A,column:A.length===1?A[0]:null,source:e})},s=C=>{const y=[];return i.forEach(g=>{const v=r[g.getColId()];v&&C(v,g)&&y.push(g)}),y},a=C=>C.getColId();o("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),o("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=s((C,y)=>{const g=C.aggFunc!=null,v=g!=y.isValueActive(),m=g&&C.aggFunc!=y.getAggFunc();return v||m});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e);const u=(C,y)=>C.width!=y.getActualWidth();this.eventDispatcher.columnResized(s(u),!0,e);const d=(C,y)=>C.pinned!=y.getPinned();this.eventDispatcher.columnPinned(s(d),e);const h=(C,y)=>C.hide==y.isVisible();this.eventDispatcher.columnVisible(s(h),e);const f=s((C,y)=>C.sort!=y.getSort()||C.sortIndex!=y.getSortIndex());f.length>0&&this.sortController.dispatchSortChangedEvents(e,f),this.normaliseColumnMovedEventForColumnState(n,e)}}normaliseColumnMovedEventForColumnState(e,t){const n=this.columnGetStateService.getColumnState(),r={};n.forEach(l=>r[l.colId]=l);const i={};e.forEach(l=>{r[l.colId]&&(i[l.colId]=!0)});const o=e.filter(l=>i[l.colId]),s=n.filter(l=>i[l.colId]),a=[];s.forEach((l,c)=>{const u=o&&o[c];if(u&&u.colId!==l.colId){const d=this.columnModel.getCol(u.colId);d&&a.push(d)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},$x=(e,t,n,r)=>{const i=e[n.getId()],o=e[r.getId()],s=i!=null,a=o!=null;if(s&&a)return i-o;if(s)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(r),u=l>=0,d=c>=0;return u&&d?l-c:u?-1:1},s9=class extends j{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,n){const r=this.columnModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const i=this.columnModel.getCols();if(!i)return;if(t>i.length-e.length){ee("tried to insert columns in invalid location, toIndex = ",t),ee("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const o=this.columnModel.getColsForKeys(e);this.doesMovePassRules(o,t)&&(this.columnModel.moveInCols(o,t,n),this.eventDispatcher.columnMoved({movedColumns:o,source:n,toIndex:t,finished:r})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const r=this.columnModel.getCols().slice();return fN(r,e,t),r}doesMovePassLockedPositions(e){const t=o=>o?o==="left"||o===!0?-1:1:0,n=this.gos.get("enableRtl");let r=n?1:-1,i=!0;return e.forEach(o=>{const s=t(o.getColDef().lockPosition);n?s>r&&(i=!1):s<r&&(i=!1),r=s}),i}doesMovePassMarryChildren(e){let t=!0;const n=this.columnModel.getColTree();return Vs(null,n,r=>{if(!Hr(r))return;const i=r,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const a=[];i.getLeafColumns().forEach(h=>{const p=e.indexOf(h);a.push(p)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,d=i.getLeafColumns().length-1;u>d&&(t=!1)}),t}placeLockedColumns(e){const t=[],n=[],r=[];return e.forEach(o=>{const s=o.getColDef().lockPosition;s==="right"?r.push(o):s==="left"||s===!0?t.push(o):n.push(o)}),this.gos.get("enableRtl")?[...r,...n,...t]:[...t,...n,...r]}},a9=/[&<>"']/g,l9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ns(e,t){if(e==null)return null;const n=e.toString().toString();return t?n:n.replace(a9,r=>l9[r])}function c9(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var u9=class extends j{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?t.getColGroupDef():null;return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const o=e.headerValueGetter;if(o){const s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof o=="function"?o(s):typeof o=="string"?this.expressionService.evaluate(o,s):(ee("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return c9(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const n=e.getColDef().pivotValueColumn,r=ce(n);let i=null,o;if(r){const s=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&s.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;i=n?n.getAggFunc():null,o=!0}else{const s=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();s&&a?(i=e.getAggFunc(),o=!0):o=!1}if(o){const s=typeof i=="string"?i:"func";return`${this.localeService.getLocaleTextFunc()(s,s)}(${t})`}return t}},d9=class extends j{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;na(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const n=this.columnModel.getColDefCol(t);let r=null;return this.pivotResultCols.list.forEach(i=>{const o=i.getColDef().pivotKeys,s=i.getColDef().pivotValueColumn;Ga(o,e)&&s===n&&(r=i)}),r}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var n,r;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,((n=this.pivotResultCols)==null?void 0:n.tree)||this.previousPivotResultCols||void 0,t);na(this.context,(r=this.pivotResultCols)==null?void 0:r.tree,i.columnTree);const o=i.columnTree,s=i.treeDept,a=KE(o),l={};this.pivotResultCols={tree:o,treeDepth:s,list:a,map:l},this.pivotResultCols.list.forEach(u=>this.pivotResultCols.map[u.getId()]=u);const c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(!t&&!n)return;const r=i=>{i.forEach(o=>{if(ce(o.children)){const a=o;n&&n(a),r(a.children)}else t&&t(o)})};e&&r(e)}},h9=class extends j{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,n,r){const i=[];e.forEach(o=>{const s=this.columnModel.getColDefCol(o.key)||this.columnModel.getCol(o.key);if(!s)return;if(i.push({width:o.newWidth,ratios:[1],columns:[s]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(s);if(!l)return;const c=s.getActualWidth()-o.newWidth,u=l.getActualWidth()+c;i.push({width:u,ratios:[1],columns:[l]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(u=>this.checkMinAndMaxWidthsForSet(u)))){if(n){const u=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(u,n,r)}return}const o=[],s=[];t.forEach(u=>{const{width:d,columns:h,ratios:p}=u,f={},C={};h.forEach(v=>s.push(v));let y=!0,g=0;for(;y;){if(g++,g>1e3){Bt("infinite loop in resizeColumnSets");break}y=!1;const v=[];let m=0,w=d;h.forEach((P,A)=>{if(C[P.getId()])w-=f[P.getId()];else{v.push(P);const T=p[A];m+=T}});const E=1/m;v.forEach((P,A)=>{const R=A===v.length-1;let T;R?T=w:(T=Math.round(p[A]*d*E),w-=T);const b=P.getMinWidth(),I=P.getMaxWidth();T<b?(T=b,C[P.getId()]=!0,y=!0):I>0&&T>I&&(T=I,C[P.getId()]=!0,y=!0),f[P.getId()]=T})}h.forEach(v=>{const m=f[v.getId()];v.getActualWidth()!==m&&(v.setActualWidth(m,r),o.push(v))})});const a=o.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0}),this.visibleColsService.setLeftValues(r),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=s.concat(l);(a||n)&&this.eventDispatcher.columnResized(c,n,r,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:n}=e;let r=0,i=0,o=!0;t.forEach(l=>{const c=l.getMinWidth();r+=c||0;const u=l.getMaxWidth();u>0?i+=u:o=!1});const s=n>=r,a=!o||n<=i;return s&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const n=this.visibleColsService.getCenterCols();let r=-1;if(e.resizingCols){const h=new Set(e.resizingCols);for(let p=n.length-1;p>=0;p--)if(h.has(n[p])){r=p;break}}let i=0,o=[],s=0,a=0;for(let h=0;h<n.length;h++)n[h].getFlex()&&h>r?(o.push(n[h]),a+=n[h].getFlex(),s+=n[h].getMinWidth()):i+=n[h].getActualWidth();if(!o.length)return[];let l=[];i+s>this.flexViewportWidth&&(o.forEach(h=>h.setActualWidth(h.getMinWidth(),t)),l=o,o=[]);const c=[];let u;e:for(;;){u=this.flexViewportWidth-i;const h=u/a;for(let p=0;p<o.length;p++){const f=o[p],C=h*f.getFlex();let y=0;const g=f.getMinWidth(),v=f.getMaxWidth();if(C<g?y=g:C>v&&(y=v),y){f.setActualWidth(y,t),pN(o,f),a-=f.getFlex(),l.push(f),i+=f.getActualWidth();continue e}c[p]=Math.floor(C)}break}let d=u;return o.forEach((h,p)=>{const f=p<o.length-1?Math.min(c[p],d):Math.max(c[p],d);h.setActualWidth(f,t),l.push(h),d-=c[p]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,o),o}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){var h;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&((h=r==null?void 0:r.columnLimits)==null||h.forEach(({key:p,...f})=>{i[typeof p=="string"?p:p.getColId()]=f}));const o=this.visibleColsService.getAllCols(),s=e===ys(o);if(e<=0||!o.length||s)return;const a=[],l=[];o.forEach(p=>{p.getColDef().suppressSizeToFit===!0?l.push(p):a.push(p)});const c=a.slice(0);let u=!1;const d=p=>{Wr(a,p),l.push(p)};for(a.forEach(p=>{p.resetActualWidth(t);const f=i==null?void 0:i[p.getId()],C=(f==null?void 0:f.minWidth)??(r==null?void 0:r.defaultMinWidth),y=(f==null?void 0:f.maxWidth)??(r==null?void 0:r.defaultMaxWidth),g=p.getActualWidth();typeof C=="number"&&g<C?p.setActualWidth(C,t,!0):typeof y=="number"&&g>y&&p.setActualWidth(y,t,!0)});!u;){u=!0;const p=e-ys(l);if(p<=0)a.forEach(f=>{var y;const C=((y=i==null?void 0:i[f.getId()])==null?void 0:y.minWidth)??(r==null?void 0:r.defaultMinWidth);if(typeof C=="number"){f.setActualWidth(C,t,!0);return}f.setMinimum(t)});else{const f=p/ys(a);let C=p;for(let y=a.length-1;y>=0;y--){const g=a[y],v=i==null?void 0:i[g.getId()],m=(v==null?void 0:v.minWidth)??(r==null?void 0:r.defaultMinWidth),w=(v==null?void 0:v.maxWidth)??(r==null?void 0:r.defaultMaxWidth),E=g.getMinWidth(),P=g.getMaxWidth(),A=typeof m=="number"&&m>E?m:E,R=typeof w=="number"&&w<P?w:P;let T=Math.round(g.getActualWidth()*f);T<A?(T=A,d(g),u=!1):T>R?(T=R,d(g),u=!1):y===0&&(T=C),g.setActualWidth(T,t,!0),C-=T}}}c.forEach(p=>{p.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!n&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,o=n==null?void 0:n.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function SN(e,t){return e+"_"+t}function _n(e){return e instanceof wN}var wN=class extends j{constructor(e,t,n,r){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=r}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return SN(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{_n(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Et(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Oa(t)?e.push(t):_n(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Oa(t)?e.push(t):_n(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(_n(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},bN=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},p9=class extends j{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=my(this.treeLeft),this.columnsCenter=my(this.treeCenter),this.columnsRight=my(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(n=>n.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=ys(this.columnsCenter),t=ys(this.columnsLeft),n=ys(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,n;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,n=this.columnsRight?Et(this.columnsRight):null):(t=this.columnsLeft?Et(this.columnsLeft):null,n=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(r=>{r.setLastLeftPinned(r===t,e),r.setFirstRightPinned(r===n,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(o=>o.getPinned()=="left"),n=e.filter(o=>o.getPinned()=="right"),r=e.filter(o=>o.getPinned()!="left"&&o.getPinned()!="right"),i=new bN;this.treeLeft=this.createGroups({columns:t,idCreator:i,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:n,idCreator:i,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:r,idCreator:i,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],n=[],r=[];for(const i of e){const o=i.getPinned();o?o===!0||o==="left"?t.push(i):r.push(i):n.push(i)}this.ariaOrderColumns=t.concat(n).concat(r)}getAriaColIndex(e){let t;return _n(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{_n(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const n=this.columnModel.getCols().slice(0),r=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(i=>{if(r){let o=ys(i);i.forEach(s=>{o-=s.getActualWidth(),s.setLeft(o,e)})}else{let o=0;i.forEach(s=>{s.setLeft(o,e),o+=s.getActualWidth()})}W8(n,i)}),n.forEach(i=>{i.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,n,r){const i=[];let o=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const h=c-1;for(let p=1;p<=h;p++)u.push(t[s+p]);s+=h}let d;n?(d=!1,u.forEach(h=>{n(h)&&(d=!0)})):d=!0,d&&(i.length===0&&o&&(r&&r(a))&&i.push(o),i.push(a)),o=a}return i}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),n=t.indexOf(e);return n>0?t[n-1]:null}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?Et(r):r[0],o=`getCol${t}`;for(;;){const s=this[o](i);if(!s)return null;const a=this.getColGroupAtLevel(s,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};il(this.treeCenter,!1,e),il(this.treeLeft,!1,e),il(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();il(e,!1,t=>{_n(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]]();if(r.length)return e?Et(r):r[0]}return null}getColumnGroup(e,t){if(!e)return null;if(_n(e))return e;const n=this.getAllTrees(),r=typeof t=="number";let i=null;return il(n,!1,o=>{if(_n(o)){const s=o;let a;r?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(i=s)}}),i}getColAfter(e){const t=this.getAllCols(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return ys(this.columnsLeft)}getDisplayedColumnsRightWidth(){return ys(this.columnsRight)}isColAtEdge(e,t){const n=this.getAllCols();if(!n.length)return!1;const r=t==="first";let i;if(_n(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=r?o[0]:Et(o)}else i=e;return(r?n[0]:Et(n))===i}createGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let u=0;const d=h=>{const p=u;u=h;const f=c[p],y=(_n(f)?f.getProvidedColumnGroup():f).getOriginalParent();if(y==null){for(let v=p;v<h;v++)a.push(c[v]);return}const g=this.createColGroup(y,n,s,r,o);for(let v=p;v<h;v++)g.addChild(c[v]);l.push(g)};for(let h=1;h<c.length;h++){const p=c[h],C=(_n(p)?p.getProvidedColumnGroup():p).getOriginalParent(),y=c[u],v=(_n(y)?y.getProvidedColumnGroup():y).getOriginalParent();C!==v&&d(h)}u<c.length&&d(c.length)}return o||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,n,r,i){const o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=SN(o,s);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ce(l)?l.reset():(l=new wN(e,o,s,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(_n(i)){const o=i;t[i.getUniqueId()]=o,n(o.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.setParent(t),_n(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}};function il(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(_n(i)){const o=t?i.getDisplayedChildren():i.getChildren();il(o,t,n)}n(i)}}function my(e){const t=[];return il(e,!0,n=>{Oa(n)&&t.push(n)}),t}var RN=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],f9=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],g9=[...RN,...f9],m9={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Tr=class{};Tr.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Tr.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];Tr.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Tr.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Tr.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];Tr.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];Tr.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Tr.ALL_PROPERTIES=[...Tr.ARRAY_PROPERTIES,...Tr.OBJECT_PROPERTIES,...Tr.STRING_PROPERTIES,...Tr.NUMBER_PROPERTIES,...Tr.FUNCTION_PROPERTIES,...Tr.BOOLEAN_PROPERTIES,...Tr.OTHER_PROPERTIES];var qh=Tr,eo=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};eo.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";eo.PUBLIC_EVENTS=RN;eo.EVENT_CALLBACKS=g9.map(e=>eo.getCallbackForEvent(e));eo.BOOLEAN_PROPERTIES=qh.BOOLEAN_PROPERTIES;eo.ALL_PROPERTIES=qh.ALL_PROPERTIES;eo.ALL_PROPERTIES_AND_CALLBACKS=[...eo.ALL_PROPERTIES,...eo.EVENT_CALLBACKS];eo.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(eo.ALL_PROPERTIES_AND_CALLBACKS);var Yh=eo;function v9(e,t){typeof e!="object"&&(e={});const n={...e};return Yh.ALL_PROPERTIES_AND_CALLBACKS.forEach(i=>{const o=t[i];typeof o<"u"&&o!==Yh.VUE_OMITTED_PROPERTY&&(n[i]=o)}),n}function C9(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).filter(s=>Yh.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)).forEach(s=>{n[s]=e[s],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const o={type:"componentStateChanged"};So(n,(s,a)=>{o[s]=a}),t.dispatchEvent(o)}var Hu=class extends j{};function Ep(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Pp=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(r=>this.addCssClass(r));return}if(this.cssClassStates[e]!==!0&&e.length){const r=this.getGui();r&&r.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(r=>this.removeCssClass(r));return}if(this.cssClassStates[e]!==!1&&e.length){const r=this.getGui();r&&r.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const r=this.getGui();r&&r.classList.toggle(e,t),this.cssClassStates[e]=t}}};function zs(e,t,n){n==null||typeof n=="string"&&n==""?EN(e,t):us(e,t,n)}function us(e,t,n){e.setAttribute(PN(t),n.toString())}function EN(e,t){e.removeAttribute(PN(t))}function PN(e){return`aria-${e}`}function Fo(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function y9(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function S9(e){return e.getAttribute("aria-label")}function Su(e,t){zs(e,"label",t)}function Qh(e,t){zs(e,"labelledby",t)}function TN(e,t){zs(e,"live",t)}function w9(e,t){zs(e,"atomic",t)}function b9(e,t){zs(e,"relevant",t)}function R9(e,t){zs(e,"disabled",t)}function AN(e,t){zs(e,"hidden",t)}function Cm(e,t){us(e,"expanded",t)}function E9(e,t){us(e,"setsize",t)}function P9(e,t){us(e,"posinset",t)}function T9(e,t){us(e,"rowcount",t)}function A9(e,t){us(e,"rowindex",t)}function I9(e,t){us(e,"colcount",t)}function IN(e,t){us(e,"colindex",t)}function x9(e,t){us(e,"colspan",t)}function D9(e,t){us(e,"sort",t)}function F9(e){EN(e,"sort")}function ym(e,t){zs(e,"selected",t)}function O9(e,t){zs(e,"controls",t.id),Qh(t,e.id)}function XE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var vy,Ef,Cy,yy,Sy,wy,zw,$w,by;function ss(){return vy===void 0&&(vy=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),vy}function xN(){if(Ef===void 0)if(ss()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Ef=e[1]!=null?parseFloat(e[1]):0)}else Ef=0;return Ef}function JE(){if(Cy===void 0){const e=window;Cy=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Cy}function ZE(){return yy===void 0&&(yy=/(firefox)/i.test(navigator.userAgent)),yy}function DN(){return Sy===void 0&&(Sy=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Sy}function Va(){return wy===void 0&&(wy=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),wy}function jx(){return!ss()||xN()>=15}function jw(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!ZE())?null:t.toString()}function M9(){if(by!==void 0)return by;if(!document.body)return-1;let e=1e6;const t=ZE()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),by=e,e}function k9(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function L9(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function N9(){return $w==null&&FN(),$w}function FN(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&($w=n,zw=n===0)}function ON(){return zw==null&&FN(),zw}var Pf,_9="[tabindex], input, select, button, textarea, [href]",MN="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function eP(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,MN),o=as(e);return r&&!i&&o}function En(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||AN(e,!t)}function B9(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||AN(e,!t)}function Xh(e,t){const n="disabled",r=t?i=>i.setAttribute(n,""):i=>i.removeAttribute(n);r(e),_N(e.querySelectorAll("input"),i=>r(i))}function Jc(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function $l(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:h,marginBottom:p,marginLeft:f,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(f||"0"),boxSizing:C}}function tP(e){const t=$l(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Tp(e){const t=$l(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function kN(e){const{height:t,marginBottom:n,marginTop:r}=$l(e);return Math.floor(t+n+r)}function Sm(e){const{width:t,marginLeft:n,marginRight:r}=$l(e);return Math.floor(t+n+r)}function LN(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:o}=$l(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}function wm(){if(typeof Pf=="boolean")return Pf;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Pf=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Pf}function bm(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),JE()&&!wm()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function Rm(e,t,n){n&&(wm()?t*=-1:(ss()||JE())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Li(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function _l(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function NN(e){return!!e.offsetParent}function as(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!NN(e)||window.getComputedStyle(e).visibility!=="visible")}function Jh(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function H9(e){return e.clientWidth<e.scrollWidth}function G9(e){return e.clientHeight<e.scrollHeight}function Em(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Io(e,t)}function Io(e,t){t=nP(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function nh(e,t){t=nP(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function nP(e){return typeof e=="number"?`${e}px`:e}function rP(e){return e instanceof Node||e instanceof HTMLElement}function V9(e){if(e==null)return[];const t=[];return _N(e,n=>t.push(n)),t}function W9(e,t){if(e)for(let n=0;n<e.length;n++){const r=e[n];t(r.name,r.value)}}function to(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function _N(e,t){if(e!=null)for(let n=0;n<e.length;n++)t(e[n])}var wu=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},U9=1e3,z9=1e3,Kx=100,BN=class Ja extends j{constructor(t,n,r,i){super(),this.parentComp=t,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=i,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const n=this.gos.get(t);return n<0&&ee(`${t} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Va()&&(Ja.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},Kx):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var o;const n=t.relatedTarget,r=this.parentComp.getGui(),i=(o=this.tooltipComp)==null?void 0:o.getGui();this.isInteractingWithTooltip||r.contains(n)||this.interactionEnabled&&(i!=null&&i.contains(n))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||Ja.isLocked)return;let n=0;t&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),n=Ja.lastTooltipHideTime;return t-n<U9}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!ce(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(n)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Ja.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,n){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(n);return}const i=n.getGui();this.tooltipComp=n,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const o=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Ln(this.gos),{keydown:a=>{i.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var r;const t=(r=this.tooltipComp)==null?void 0:r.getGui(),n=Pn(this.gos);return!!t&&t.contains(n)}onTooltipFocusOut(t){const n=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,n.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,n=this.tooltipComp,r=this.tooltipTrigger===0?z9:0;window.setTimeout(()=>{t(),this.destroyBean(n)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Ja.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Kx)}unlockService(){Ja.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};BN.isLocked=!1;var $9=BN,Gu=class extends j{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,n,r,i;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new $9(e,(n=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:n.call(t),(i=(r=this.ctrl).getTooltipHideDelayOverride)==null?void 0:i.call(r),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var i,o,s,a,l;const e=this.ctrl,t=(i=e.getColumn)==null?void 0:i.call(e),n=(o=e.getColDef)==null?void 0:o.call(e),r=(s=e.getRowNode)==null?void 0:s.call(e);return{location:e.getLocation(),colDef:n,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:r,data:r==null?void 0:r.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var c;return(c=this.tooltipManager)==null?void 0:c.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},j9=new wu,Ge=null,tn=class HN extends j{constructor(t,n){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=j9.next(),this.cssClassManager=new Pp(()=>this.eGui),this.componentSelectors=new Map((n??[]).map(r=>[r.selector,r])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,n){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,n))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:n,showDelayOverride:r,hideDelayOverride:i,location:o,shouldDisplayTooltip:s}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==n&&(this.tooltipText=n);const a=()=>this.tooltipText;n!=null&&(this.tooltipFeature=this.createBean(new Gu({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>o??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:r!=null?()=>r:void 0,getTooltipHideDelayOverride:i!=null?()=>i:void 0,shouldDisplayTooltip:s})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,n,r,i=null){if(n===void 0&&(n=this.getDataRefAttribute(t)),n){const o=this[n];if(o===Ge)this[n]=i??t;else{const s=r&&r[n];!this.suppressDataRefValidation&&!s&&ee(`Issue with data-ref: ${n} on ${this.constructor.name} with ${o}`)}}}createChildComponentsFromTags(t,n){V9(t.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const o=this.createComponentFromElement(i,s=>{s.getGui()&&this.copyAttributesFromNode(i,s.getGui())},n);if(o){if(o.addItems&&i.children.length){this.createChildComponentsFromTags(i,n);const s=Array.prototype.slice.call(i.children);o.addItems(s)}this.swapComponentForNode(o,t,i)}else i.childNodes&&this.createChildComponentsFromTags(i,n)})}createComponentFromElement(t,n,r){const i=t.nodeName,o=this.getDataRefAttribute(t),s=i.indexOf("AG-")===0,a=s?this.componentSelectors.get(i):null;let l=null;if(a){HN.elementGettingCreated=t;const c=r&&o?r[o]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,n)}else s&&ee(`Missing selector: ${i}`);return this.applyElementsToComponent(t,o,r,l),l}copyAttributesFromNode(t,n){W9(t.attributes,(r,i)=>n.setAttribute(r,i))}swapComponentForNode(t,n,r){const i=t.getGui();n.replaceChild(i,r),n.insertBefore(document.createComment(r.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const n=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(r=>r.setAttribute("tabindex",n.toString()))}setTemplate(t,n,r){const i=Jh(t);this.setTemplateFromElement(i,n,r)}setTemplateFromElement(t,n,r,i=!1){if(this.eGui=t,this.suppressDataRefValidation=i,n)for(let o=0;o<n.length;o++){const s=n[o];this.componentSelectors.set(s.selector,s)}this.wireTemplate(t,r)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,n){let r=n;return t==null?null:(r||(r=this.eGui),rP(t)?{element:t,parent:r}:{element:t.getGui(),parent:r})}prependChild(t,n){const{element:r,parent:i}=this.getContainerAndElement(t,n)||{};!r||!i||i.insertAdjacentElement("afterbegin",r)}appendChild(t,n){const{element:r,parent:i}=this.getContainerAndElement(t,n)||{};!r||!i||i.appendChild(r)}isDisplayed(){return this.displayed}setVisible(t,n={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:r}=n;B9(this.eGui,t,{skipAriaHidden:r})}}setDisplayed(t,n={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:r}=n;En(this.eGui,t,{skipAriaHidden:r});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,n,r){this.eGui.addEventListener(t,n,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,n))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,n){this.cssClassManager.addOrRemoveCssClass(t,n)}},GN={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},K9=(()=>{const e=new Set(Object.values(GN));return e.add("eye"),e})();function q9(e,t,n){const r=Pi(e,t,n);if(r){const{className:o}=r;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return r}const i=document.createElement("span");return i.appendChild(r),i}function Pi(e,t,n,r){let i=null;const o=n&&n.getColDef().icons;if(o&&(i=o[e]),t&&!i){const s=t.get("icons");s&&(i=s[e])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return Jh(s);if(rP(s))return s;ee("iconRenderer should return back a string or a dom object")}else{const s=document.createElement("span");let a=GN[e]??(K9.has(e)?e:void 0);return a||(ee(`Did not find icon ${e}`),a=""),s.setAttribute("class",`ag-icon ag-icon-${a}`),s.setAttribute("unselectable","on"),Fo(s,"presentation"),s}}var Y9=class extends tn{constructor(){super(...arguments),this.dragSource=null,this.eIcon=Ge,this.eLabel=Ge}postConstruct(){const e=t=>q9(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var r,i;Li(this.eIcon);let n=null;e||(e=(r=this.dragSource)!=null&&r.getDefaultIconName?(i=this.dragSource)==null?void 0:i.getDefaultIconName():"notAllowed"),n=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(n===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&n&&this.eIcon.appendChild(n)}setLabel(e){this.eLabel.textContent=ns(e)}};function VN(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var ba=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new _u,this.eElement=e,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!VN(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function ud(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var Q9=`<span class="ag-sort-indicator-container">
        ${ud("Order","order")}
        ${ud("Asc","ascending-icon")}
        ${ud("Desc","descending-icon")}
        ${ud("Mixed","mixed-icon")}
        ${ud("None","none-icon")}
    </span>`,iP=class extends tn{constructor(e){super(),this.eSortOrder=Ge,this.eSortAsc=Ge,this.eSortDesc=Ge,this.eSortMixed=Ge,this.eSortNone=Ge,e||this.setTemplate(Q9)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=Pi(e,this.gos,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";En(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";En(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),n=e==null;En(this.eSortNone,!t&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;Ko(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";En(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,n=e.some(i=>this.sortController.getDisplaySortIndexForColumn(i)??!1),r=t>=0&&n;En(this.eSortOrder,r,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Li(this.eSortOrder)}},X9={selector:"AG-SORT-INDICATOR",component:iP},J9=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,Kw=class extends tn{constructor(){super(...arguments),this.eFilter=Ge,this.eFilterButton=Ge,this.eSortIndicator=Ge,this.eMenu=Ge,this.eLabel=Ge,this.eText=Ge,this.eSortOrder=Ge,this.eSortAsc=Ge,this.eSortDesc=Ge,this.eSortMixed=Ge,this.eSortNone=Ge,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??J9;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[X9]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=ns(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,n){if(t==null)return;const r=Pi(e,this.gos,n);r&&t.appendChild(r)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new ba(this.getGui(),!0),n=this.shouldSuppressMenuHide(),r=n&&ce(this.eMenu),i=r?new ba(this.eMenu,!0):t;if(this.params.enableMenu){const o=r?"tap":"longTap",s=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(i,{[o]:s})}if(this.params.enableSorting){const o=s=>{var l,c;const a=s.touchStart.target;n&&((l=this.eMenu)!=null&&l.contains(a)||(c=this.eFilterButton)!=null&&c.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:o})}if(this.params.enableFilterButton){const o=new ba(this.eFilterButton,!0);this.addManagedListeners(o,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>t.destroy()),r&&this.addDestroyFunc(()=>i.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){_l(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,n=this.menuService.isLegacyMenuEnabled();if(e&&!n){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new iP(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const n=this.params.column.isMoving(),i=new Date().getTime()-this.lastMovingChanged<50;if(!(n||i)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const n=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),i=!(n==null?void 0:n.every(o=>this.params.column.getSort()==o.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,n){if(!e)return _l(t),!1;const r=this.params.column;return this.addInIcon("filter",t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();En(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Z9=class extends tn{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Ge,this.agClosed=Ge,this.agLabel=Ge}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ee("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=i=>{if(As(i))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=i=>{yu(i)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup(),r=this.updateIconVisibility.bind(this);this.addManagedListeners(n,{expandedChanged:r,expandableChanged:r})}addTouchAndClickListeners(e,t){const n=new ba(e,!0);this.addManagedListeners(n,{tap:t}),this.addDestroyFunc(()=>n.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();En(this.agOpened,t),En(this.agClosed,!t)}else En(this.agOpened,!1),En(this.agClosed,!1)}addInIcon(e,t){const n=Pi(e,this.gos,null);n&&t.appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){En(this.agOpened,!1),En(this.agClosed,!1);return}}setupLabel(){var n;const{displayName:e,columnGroup:t}=this.params;if(ce(e)){const r=ns(e,!0);this.agLabel.textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!((n=t.getColGroupDef())!=null&&n.suppressStickyLabel))}},e7="",t7="",n7=class extends tn{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(n),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=ce(r)?r:n,o=t>=0;o?this.eDelta.textContent=e7+i:this.eDelta.textContent=t7+i,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Li(this.eDelta)}refresh(e,t=!1){var r;const n=e.value;if(n===this.lastValue||(ce(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ce(e.value)?this.eValue.textContent=n:Li(this.eValue),(r=this.filterManager)!=null&&r.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){const i=n-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},r7=class extends tn{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var r;let n=e.value;return Pt(n)&&(n=""),n===this.lastValue||(r=this.filterManager)!=null&&r.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=n,ce(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ce(e.value)?this.eCurrent.textContent=n:Li(this.eCurrent),!0)}},U=class{};U.BACKSPACE="Backspace";U.TAB="Tab";U.ENTER="Enter";U.ESCAPE="Escape";U.SPACE=" ";U.LEFT="ArrowLeft";U.UP="ArrowUp";U.RIGHT="ArrowRight";U.DOWN="ArrowDown";U.DELETE="Delete";U.F2="F2";U.PAGE_UP="PageUp";U.PAGE_DOWN="PageDown";U.PAGE_HOME="Home";U.PAGE_END="End";U.A="KeyA";U.C="KeyC";U.D="KeyD";U.V="KeyV";U.X="KeyX";U.Y="KeyY";U.Z="KeyZ";var i7=class extends tn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){Li(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(En(this.eLabel,!1),Fo(this.eLabel,"presentation")):(En(this.eLabel,!0),Fo(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Em(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Xh(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},WN=class extends i7{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||S9(e)!==null?Qh(e,""):Qh(e,t??"")}setAriaLabel(e){return Su(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Io(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},dl=class extends WN{constructor(e,t,n="text",r="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${r} data-ref="eInput" class="ag-input-field-input"></${r}>
                </div>
            </div>`,[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Ge,this.eWrapper=Ge,this.eInput=Ge}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Em(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return to(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Su(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Xh(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)to(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";to(this.eInput,"autocomplete",t)}return this}},oP=class extends dl{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},sP={selector:"AG-CHECKBOX",component:oP},o7=class extends tn{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[sP]),this.eCheckbox=Ge}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),TN(t,"polite"),this.addManagedListeners(t,{click:n=>{if(yu(n),this.eCheckbox.isDisabled())return;const r=this.eCheckbox.getValue();this.onCheckboxChanged(r)},dblclick:n=>{yu(n)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:n=>{if(n.key===U.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Pn(this.gos)&&this.eCheckbox.toggle();const r=this.eCheckbox.getValue();this.onCheckboxChanged(r),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,n=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(tC)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:n=!1}else t=e.value??void 0;if(!n){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const r=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(r);const i=this.localeService.getLocaleTextFunc(),o=XE(i,t),s=r?o:`${i("ariaToggleCellValue","Press SPACE to toggle cell value")} (${o})`;this.eCheckbox.setInputAriaLabel(s)}onCheckboxChanged(e){const{column:t,node:n,value:r}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:r});const i=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:r,oldValue:r,newValue:e,valueChanged:i}),i||this.updateCheckbox(this.params)}},s7=class extends tn{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=Ge,this.eLoadingText=Ge}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Pi("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},a7=class extends tn{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Qh(e.eParentOfValue)),Qh(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Su(this.getGui(),t)}setupLoading(e){const n=Ln(this.gos).createElement("div");n.classList.add("ag-skeleton-effect");const r=e.node.rowIndex;if(r!=null){const s=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${s}%`}this.getGui().appendChild(n);const o=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Su(this.getGui(),o)}refresh(e){return!1}destroy(){super.destroy()}},UN=class extends tn{constructor(){super()}destroy(){super.destroy()}},l7=class extends UN{init(){var t;const e=Ts((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},c7=class extends UN{init(){var t;const e=Ts((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}},Vu=class extends tn{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},u7=class extends Vu{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=ns(t,!0)}};function zN(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i,addSequentialWeight:o}=e;let s=n.map((c,u)=>({value:c,relevance:h7(t.toLowerCase(),c.toLocaleLowerCase(),o),idx:u}));if(s.sort((c,u)=>u.relevance-c.relevance),r&&(s=s.filter(c=>c.relevance!==0)),s.length>0&&i&&i>0){const u=s[0].relevance*i;s=s.filter(d=>u-d.relevance<0)}const a=[],l=[];for(const c of s)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function d7(e){const t=[],n=e.length;for(let r=1;r<=n;r++)for(let i=0;i<=n-r;i++){const o=i+r-1;t.push(e.slice(i,o+1))}return t}function h7(e,t,n=!1){const r=e.replace(/\s/g,""),i=t.replace(/\s/g,""),o=r.length,s=i.length,a=new Array(o+1).fill(null).map(()=>new Array(s+1).fill(0));for(let d=0;d<=o;d+=1)a[d][0]=d;for(let d=0;d<=s;d+=1)a[0][d]=d;for(let d=1;d<=o;d++)for(let h=1;h<=s;h++)r[d-1]===i[h-1]?a[d][h]=a[d-1][h-1]:a[d][h]=1+Math.min(a[d][h-1],Math.min(a[d-1][h],a[d-1][h-1]));const l=a[o][s];let u=Math.max(o,s)-l;if(n){const d=d7(r);for(let h=0;h<d.length;h++){const p=d[h];i.indexOf(p)!==-1&&(u+=1,u*=p.length)}}return u}var p7=class extends j{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:Y9,agColumnHeader:Kw,agColumnGroupHeader:Z9,agSortIndicator:iP,agAnimateShowChangeCellRenderer:n7,agAnimateSlideCellRenderer:r7,agLoadingCellRenderer:s7,agSkeletonCellRenderer:a7,agCheckboxCellRenderer:o7,agLoadingOverlay:l7,agNoRowsOverlay:c7,agTooltipComponent:u7},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&So(e,(t,n)=>this.registerJsComponent(t,n))}registerDefaultComponent(e,t,n){this.agGridDefaults[e]=t,n&&(this.agGridDefaultParams[e]=n)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const n=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),r=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const i=this.jsComps[t];if(i){const a=this.getFrameworkOverrides().isFrameworkComponent(i);return n(i,a)}const o=this.agGridDefaults[t];if(o)return n(o,!1,this.agGridDefaultParams[t]);const s=this.enterpriseAgDefaultCompsModule[t];return s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):UE(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=[...Object.keys(this.agGridDefaults).filter(i=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(i)),...Object.keys(this.jsComps)],r=zN({inputValue:t,allSuggestions:n,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;ee(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),r.length>0&&ee(`         Did you mean: [${r.slice(0,3)}]?`),ee(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},kn=class Dd{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Dd(n=>{let r=t.length;const i=new Array(r);t.forEach((o,s)=>{o.then(a=>{i[s]=a,r--,r===0&&n(i)})})}):Dd.resolve()}static resolve(t=null){return new Dd(n=>n(t))}then(t){return new Dd(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}},f7={propertyName:"dateComponent",cellRenderer:!1},g7={propertyName:"dragAndDropImageComponent",cellRenderer:!1},m7={propertyName:"headerComponent",cellRenderer:!1},v7={propertyName:"headerGroupComponent",cellRenderer:!1},qx={propertyName:"cellRenderer",cellRenderer:!0},C7={propertyName:"cellRenderer",cellRenderer:!1},y7={propertyName:"loadingCellRenderer",cellRenderer:!0},S7={propertyName:"cellEditor",cellRenderer:!1},Yx={propertyName:"innerRenderer",cellRenderer:!0},w7={propertyName:"loadingOverlayComponent",cellRenderer:!1},b7={propertyName:"noRowsOverlayComponent",cellRenderer:!1},R7={propertyName:"tooltipComponent",cellRenderer:!1},aP={propertyName:"filter",cellRenderer:!1},E7={propertyName:"floatingFilterComponent",cellRenderer:!1},P7={propertyName:"toolPanel",cellRenderer:!1},T7={propertyName:"statusPanel",cellRenderer:!1},A7={propertyName:"fullWidthCellRenderer",cellRenderer:!0},I7={propertyName:"loadingCellRenderer",cellRenderer:!0},x7={propertyName:"groupRowRenderer",cellRenderer:!0},D7={propertyName:"detailCellRenderer",cellRenderer:!0},F7={propertyName:"menuItem",cellRenderer:!1},$N=class jN extends j{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,g7,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,n){return this.getCompDetails(t,m7,"agColumnHeader",n)}getHeaderGroupCompDetails(t){const n=t.columnGroup.getColGroupDef();return this.getCompDetails(n,v7,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,A7,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,I7,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,x7,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,D7,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,n){return this.getCompDetails(t,Yx,null,n)}getFullWidthGroupRowInnerCellRenderer(t,n){return this.getCompDetails(t,Yx,null,n)}getCellRendererDetails(t,n){return this.getCompDetails(t,qx,null,n)}getEditorRendererDetails(t,n){return this.getCompDetails(t,C7,null,n)}getLoadingCellRendererDetails(t,n){return this.getCompDetails(t,y7,"agSkeletonCellRenderer",n,!0)}getCellEditorDetails(t,n){return this.getCompDetails(t,S7,"agCellEditor",n,!0)}getFilterDetails(t,n,r){return this.getCompDetails(t,aP,r,n,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,f7,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,w7,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,b7,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,R7,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,n){return this.getCompDetails(t,qx,null,n)}getFloatingFilterCompDetails(t,n,r){return this.getCompDetails(t,E7,r,n)}getToolPanelCompDetails(t,n){return this.getCompDetails(t,P7,null,n,!0)}getStatusPanelCompDetails(t,n){return this.getCompDetails(t,T7,null,n,!0)}getMenuItemCompDetails(t,n){return this.getCompDetails(t,F7,"agMenuItem",n,!0)}getCompDetails(t,n,r,i,o=!1){const{propertyName:s,cellRenderer:a}=n;let{compName:l,jsComp:c,fwComp:u,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:p}=jN.getCompKeys(this.frameworkOverrides,t,n,i),f;const C=m=>{const w=this.userComponentRegistry.retrieve(s,m);w&&(c=w.componentFromFramework?void 0:w.component,u=w.componentFromFramework?w.component:void 0,f=w.params)};if(l!=null&&C(l),c==null&&u==null&&r!=null&&C(r),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(s,c)),!c&&!u){o&&Bt(`Could not find component ${l}, did you forget to configure this component?`);return}const y=this.mergeParamsWithApplicationProvidedParams(t,n,i,d,f),g=c==null,v=c||u;return{componentFromFramework:g,componentClass:v,params:y,type:n,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(v,g,y,n)}}static getCompKeys(t,n,r,i){const{propertyName:o}=r;let s,a,l,c,u,d;if(n){const h=n,p=h[o+"Selector"],f=p?p(i):null,C=y=>{typeof y=="string"?s=y:y!=null&&y!==!0&&(t.isFrameworkComponent(y)?l=y:a=y)};f?(C(f.component),c=f.params,u=f.popup,d=f.popupPosition):C(h[o])}return{compName:s,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:u,popupPositionFromSelector:d}}newAgStackInstance(t,n,r,i){const o=i.propertyName,s=!n;let a;if(s)a=new t;else{const c=this.componentMetadataProvider.retrieve(o);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,i)}const l=this.initComponent(a,r);return l==null?kn.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,n,r,i=null,o){const s=this.gos.getGridCommonParams();Gr(s,r),o&&Gr(s,o);const a=t,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){const c=l(r);Gr(s,c)}else typeof l=="object"&&Gr(s,l);return Gr(s,i),s}initComponent(t,n){if(this.createBean(t),t.init!=null)return t.init(n)}};function rh(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var nC=class _t{static register(t){_t.__register(t,!0,void 0)}static registerModules(t){_t.__registerModules(t,!0,void 0)}static __register(t,n,r){_t.runVersionChecks(t),r!==void 0?(_t.areGridScopedModules=!0,_t.gridModulesMap[r]===void 0&&(_t.gridModulesMap[r]={}),_t.gridModulesMap[r][t.moduleName]=t):_t.globalModulesMap[t.moduleName]=t,_t.setModuleBased(n)}static __unRegisterGridModules(t){delete _t.gridModulesMap[t]}static __registerModules(t,n,r){_t.setModuleBased(n),t&&t.forEach(i=>_t.__register(i,n,r))}static isValidModuleVersion(t){const[n,r]=t.version.split(".")||[],[i,o]=_t.currentModuleVersion.split(".")||[];return n===i&&r===o}static runVersionChecks(t){_t.currentModuleVersion||(_t.currentModuleVersion=t.version);const n=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;if(t.version?_t.isValidModuleVersion(t)||Bt(n(`'${t.moduleName}' is version ${t.version} but the other modules are version ${_t.currentModuleVersion}.`)):Bt(n(`'${t.moduleName}' is incompatible.`)),t.validate){const r=t.validate();r.isValid||Bt(`${r.message}`)}}static setModuleBased(t){_t.moduleBased===void 0?_t.moduleBased=t:_t.moduleBased!==t&&(Bt("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Bt("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){_t.isBundled=!0}static __assertRegistered(t,n,r){var o;if(this.__isRegistered(t,r))return!0;let i;if(_t.isBundled)i=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(_t.moduleBased||_t.moduleBased===void 0){const s=(o=Object.entries(rN).find(([a,l])=>l===t))==null?void 0:o[0];i=`AG Grid: unable to use ${n} as the ${s} is not registered${_t.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${s} } from '${t}';
    
    ModuleRegistry.registerModules([ ${s} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else i=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Bt(i),!1}static __isRegistered(t,n){var r;return!!_t.globalModulesMap[t]||!!((r=_t.gridModulesMap[n])!=null&&r[t])}static __getRegisteredModules(t){return[...lg(_t.globalModulesMap),...lg(_t.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return lg(_t.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!_t.moduleBased}};nC.globalModulesMap={};nC.gridModulesMap={};nC.areGridScopedModules=!1;var qo=nC,O7=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([n,r])=>{this.beans[n]=r}),e.beanClasses.forEach(n=>{const r=new n;r.beanName?this.beans[r.beanName]=r:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(r)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:r,bean:i}=n(this);this.beans[r]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var r,i;(r=n.preWireBeans)==null||r.call(n,this.beans),(i=n.wireBeans)==null||i.call(n,this.beans)}),e.forEach(n=>{var r;return(r=n.preConstruct)==null?void 0:r.call(n)}),t&&e.forEach(t),e.forEach(n=>{var r;return(r=n.postConstruct)==null?void 0:r.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},M7=class extends O7{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),qo.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},KN=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(KN||{}),k7=class extends j{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(n=>n.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Wr(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n,r;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(r=(n=this.dragSource).onDragStarted)==null||r.call(n),this.createDragAndDropImageComponent()}onDragStop(e){var t,n,r;if((n=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||n.call(t),(r=this.lastDropTarget)!=null&&r.onDragStop){const i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,n;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(n=this.lastDropTarget)!=null&&n.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var s,a,l,c;const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),o=this.findCurrentDropTarget(e,i);if(o!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,n,r,t),this.lastDropTarget!==null&&o===null&&((a=(s=this.dragSource)==null?void 0:s.onGridExit)==null||a.call(s,this.dragItem)),this.lastDropTarget===null&&o!==null&&((c=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||c.call(l,this.dragItem)),this.enterDragTargetIfExists(o,e,n,r,t),o&&this.dragAndDropImageComp){const{comp:u,promise:d}=this.dragAndDropImageComp;u?u.setIcon(o.getIconName?o.getIconName():null):d.then(h=>{h&&h.setIcon(o.getIconName?o.getIconName():null)})}this.lastDropTarget=o}else if(o&&o.onDragging){const u=this.createDropTargetEvent(o,e,n,r,t);o.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}allContainersIntersect(e,t){for(const n of t){const{width:r,height:i,left:o,right:s,top:a,bottom:l}=n.getBoundingClientRect();if(r===0||i===0)return!1;const c=e.clientX>=o&&e.clientX<s,u=e.clientY>=a&&e.clientY<l;if(!c||!u)return!1}return!0}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;for(const s of n)if(this.allContainersIntersect(e,s)){r=!0;break}const{eElement:i,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(i)?!1:r&&t.isInterestedIn(o,i)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Kh(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const s of t)if(z8(this.getAllContainersFromDropTarget(s)).indexOf(o)!==-1)return s;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,n,r){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const o=this.createDropTargetEvent(this.lastDropTarget,e,t,n,r);this.lastDropTarget.onDragLeave(o)}const i=this.getDragAndDropImageComponent();i&&i.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return t===n?null:t>n?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return t===n?null:t>n?0:1}createDropTargetEvent(e,t,n,r,i){const o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-s.left,u=t.clientY-s.top;return this.gos.addGridCommonParams({event:t,x:c,y:u,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const n=t.getGui(),i=n.getBoundingClientRect().height,o=k9()-2,s=L9()-2;if(!n.offsetParent)return;const l=LN(n.offsetParent),{clientY:c,clientX:u}=e;let d=c-l.top-i/2,h=u-l.left-10;const p=Ln(this.gos),f=p.defaultView||window,C=f.pageYOffset||p.documentElement.scrollTop,y=f.pageXOffset||p.documentElement.scrollLeft;o>0&&h+n.clientWidth>o+y&&(h=o+y-n.clientWidth),h<0&&(h=0),s>0&&d+n.clientHeight>s+C&&(d=s+C-n.clientHeight),d<0&&(d=0),n.style.left=`${h}px`,n.style.top=`${d}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const n=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:n,environment:r}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),n.stampTopLevelGridCompWithGridInstance(i),r.applyThemeClasses(i),e.setIcon(null);let{dragItemName:o}=t;zE(o)&&(o=o()),e.setLabel(o||""),i.style.top="20px",i.style.left="20px";const s=Ln(this.gos);let a=null,l=null;try{a=s.fullscreenElement}catch{}finally{a||(a=Kh(this.gos));const c=a.querySelector("body");c?l=c:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(i):ee("Could not find document body, it is needed for drag and drop.")}},L7=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},N7=class extends j{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){hn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new L7({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:n=>t.getScrollFeature().setVerticalScrollPosition(n),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var r;return!!(this.funcColsService.getRowGroupColumns().length||((r=this.filterManager)==null?void 0:r.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...this.selectionService.getSelectedNodes()].sort((i,o)=>i.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(o));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const n=this.isFromThisGrid(e),r=this.gos.get("rowDragManaged"),i=e.dragItem.rowNodes;r&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!n?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(i[0],t):this.moveRows(i,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Et(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),n=t&&t.highlighted===1,r=this.mouseEventService.getNormalisedPosition(e).y,i=e.dragItem.rowNodes;let o=n?1:0;if(this.isFromThisGrid(e))i.forEach(s=>{s.rowTop<r&&(o-=1)}),this.moveRows(i,r,o);else{const s=Bu(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(r)+1;this.clientSideRowModel.getHighlightPosition(r)===0&&a--,this.clientSideRowModel.updateRowData({add:i.filter(l=>!this.clientSideRowModel.getRowNode((s==null?void 0:s({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){var i;this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(this.focusService.clearFocusedCell(),(i=this.rangeService)==null||i.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ee("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){ee("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(t.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(t.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(t.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(t.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const n={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(n),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(n))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),o=this.onDragStop.bind(this),s=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:o,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.mouseEventService.getNormalisedPosition(t).y,r=n>this.pageBoundsService.getCurrentPageHeight();let i=-1,o;r||(i=this.rowModel.getRowIndexAtPixel(n),o=this.rowModel.getRow(i));let s;switch(t.vDirection){case 1:s="down";break;case 0:s="up";break;default:s=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:i,overNode:o,y:n,vDirection:s})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},_7=class extends j{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(n=>n.dragSource===e);t&&(this.removeListener(t),Wr(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let o=null;const s=this.gos.get("suppressTouch");r&&!s&&(o=a=>{eP(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!r})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:Kh(this.gos),type:"touchmove",listener:o,options:{passive:!1}},{target:s,type:"touchmove",listener:r,options:{passive:!0}},{target:s,type:"touchend",listener:i,options:{passive:!0}},{target:s,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=c=>this.onMouseMove(c,e.eElement),i=c=>this.onMouseUp(c,e.eElement),o=c=>c.preventDefault(),s=c=>{c.key===U.ESCAPE&&this.cancelDrag(e.eElement)},a=Kh(this.gos),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:o}=t;n.addEventListener(r,i,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:o}=t;n.removeEventListener(r,i,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=ce(n)?n:4;return VN(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var r;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(r=this.currentDragParams)==null||r.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;ss()&&((n=Ln(this.gos).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),n=e.type==="mousemove";return t&&n&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,n=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(n!=null&&n.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},qw=class extends tn{constructor(e,t,n,r,i,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=o,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Pi("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new H7(this,this.beans,this.rowNode,this.column):new B7(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&ee("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r==null||r.preventDefault()}})[0]);const n=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var s;const r=this.getDragItem(),i=((s=r.rowNodes)==null?void 0:s.length)||1,o=this.getRowDragText(this.column);return o?o(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},qN=class extends j{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,r=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),r=zE(this.column.getColDef().rowDrag)),r?(this.parent.setDisplayed(!0,t),this.parent.setVisible(n,t)):(this.parent.setDisplayed(n,t),this.parent.setVisible(!0,t))}}},B7=class extends qN{constructor(e,t,n,r){super(e,n,r),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},H7=class extends qN{constructor(e,t,n,r){super(e,n,r),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=t&&t.shouldPreventRowMove(),r=this.gos.get("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),o=n&&!i||r;this.setDisplayedOrVisible(o)}},G7=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Ap=class Js{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Js.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,n){var o;const r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(t,r,n);(o=this.localEventService)==null||o.dispatchEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,n,r){return{type:"dataChanged",node:this,oldData:n,newData:t,update:r}}getRowIndexString(){return this.rowIndex==null?(Bt("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Js.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Js.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Js(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,n){var s;const r=ce(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);const o=this.createDataChangedEvent(t,i,!1);(s=this.localEventService)==null||s.dispatchEvent(o)}checkRowSelectable(){const t=$E(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,n){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),n)return;if(Nl(this.beans.gos)){const i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var r;const n=Bu(this.beans.gos);if(n)if(this.data){const i=((r=this.parent)==null?void 0:r.getRoute())??[];this.id=n({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Js.ID_PREFIX_ROW_GROUP)&&Bt(`Row IDs cannot start with ${Js.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,n=!1){this.rowHeight=t,this.rowHeightEstimated=n,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Vr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,n=!0,r=0;const i=this.__autoHeights;if(i==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=i[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(l.getPinned()){case"left":u=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":u=this.beans.visibleColsService.getRightColsForRow(this);break;case null:u=this.beans.columnViewportService.getColsWithinViewport(this);break}if(u.includes(l)){t=!0;return}c=-1}else{t=!0;return}else n=!1;c>r&&(r=c)}),t)||((n||r<10)&&(r=Fa(this.beans.gos,this).height),r==this.rowHeight))return;this.setRowHeight(r);const s=this.beans.rowModel;(a=s.onRowHeightChangedDebounced)==null||a.call(s)}setExpanded(t,n,r){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const i={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:n||null};this.beans.rowNodeEventThrottle.dispatchExpanded(i,r),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,n,r){const o=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),s=this.beans.valueService.getValueForDisplay(o,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:o,colDef:o.getColDef(),data:this.data,node:this,oldValue:s,newValue:n,value:n,source:r}),!1;const a=this.beans.valueService.setValue(this,o,n,r);return this.dispatchCellChangedEvent(o,n,s),this.checkRowSelectable(),a}setGroupValue(t,n){const r=this.beans.columnModel.getCol(t);Pt(this.groupData)&&(this.groupData={});const i=r.getColId(),o=this.groupData[i];o!==n&&(this.groupData[i]=n,this.dispatchCellChangedEvent(r,n,o))}setAggData(t){const n=this.aggData;if(this.aggData=t,this.localEventService){const r=i=>{const o=this.aggData?this.aggData[i]:void 0,s=n?n[i]:void 0;if(o===s)return;const a=this.beans.columnModel.getCol(i);a&&this.dispatchCellChangedEvent(a,o,s)};for(const i in n)r(i);for(const i in t)(!n||!(i in n))&&r(i)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(cs(this.beans.gos)){const r=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(r?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,n,r){var o;const i={type:"cellChanged",node:this,column:t,newValue:n,oldValue:r};(o=this.localEventService)==null||o.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var r;let t=!1,n=!1;if(!((r=this.childrenAfterGroup)!=null&&r.length))return this.selectable?this.selected:null;for(let i=0;i<this.childrenAfterGroup.length;i++){const o=this.childrenAfterGroup[i];let s=o.isSelected();if(!o.selectable){const a=o.calculateSelectedFromChildren();if(a===null)continue;s=a}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var n;(n=this.localEventService)==null||n.dispatchEvent({type:t,node:this})}selectThisNode(t,n,r="api"){const i=!this.selectable&&t,o=this.selected===t;if(i||o)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const s=this.sibling;return s&&s.footer&&s.localEventService&&s.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:n||null,source:r}),!0}setSelected(t,n=!1,r="api"){if(typeof r=="boolean"){ee("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:n,rangeSelect:!1,source:r})}setSelectedParams(t){return this.rowPinned?(ee("cannot select pinned rows"),0):this.id===void 0?(ee("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,n){var i;this.localEventService||(this.localEventService=new _u),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new qE(this.beans.frameworkOverrides));const r=((i=this.frameworkEventListenerService)==null?void 0:i.wrap(n))??n;this.localEventService.addEventListener(t,r)}removeEventListener(t,n){var i;if(!this.localEventService)return;const r=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(n))??n;this.localEventService.removeEventListener(t,r),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(ee("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let n=this;for(;n&&n.key!=null;)t.push(n.key),n=n.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Js(this.beans);Object.keys(this).forEach(n=>{G7.has(n)||(t[n]=this[n])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};Ap.ID_PREFIX_ROW_GROUP="row-group-";Ap.ID_PREFIX_TOP_PINNED="t-";Ap.ID_PREFIX_BOTTOM_PINNED="b-";Ap.OBJECT_ID_SEQUENCE=0;var Is=Ap,V7=class extends j{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvancedFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var n;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(n=this.columnFilterService)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,n;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilterService)!=null&&n.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){Bw(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):kn.resolve()).then(()=>{var o;const i={source:t,type:"filterChanged",columns:r};n&&Gr(i,n),this.eventService.dispatchEvent(i),(o=this.columnFilterService)==null||o.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Bw(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.columnFilterService)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.columnFilterService)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.columnFilterService)!=null&&n.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var n;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(n=this.columnFilterService)==null?void 0:n.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){ee("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((n=this.columnFilterService)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var r;(r=this.columnFilterService)==null||r.setColDefPropertiesForDataType(e,t,n)}},W7=class extends tn{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??kn.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(r=>{var i;(i=r==null?void 0:r.afterGuiAttached)==null||i.call(r,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var r;(r=n==null?void 0:n.afterGuiDetached)==null||r.call(n)})}createFilter(e){var r,i;const{column:t,source:n}=this;this.filterWrapper=((r=this.filterManager)==null?void 0:r.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(o=>{const s=o.getGui();ce(s)||ee(`getGui method from filter returned ${s}; it should be a DOM element.`),this.appendChild(s),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Li(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},YN="ag-resizer-wrapper",Ys=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,U7=`<div class="${YN}">
        ${Ys("eTopLeft","topLeft")}
        ${Ys("eTop","top")}
        ${Ys("eTopRight","topRight")}
        ${Ys("eRight","right")}
        ${Ys("eBottomRight","bottomRight")}
        ${Ys("eBottom","bottom")}
        ${Ys("eBottomLeft","bottomLeft")}
        ${Ys("eLeft","left")}
    </div>`,z7=class extends j{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,r=e/2-this.getHeight()/2;this.offsetElement(n,r)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:r,minHeight:i,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const u=as(this.element);if(u){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const p=d.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){const p=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=i||l,this.minWidth=n||c,r&&this.setWidth(r),o&&this.setHeight(o),(!r||!o)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(u&&t){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const p=parseFloat(d.style.top),f=parseFloat(d.style.left);h?this.offsetElement(isNaN(f)?0:f,isNaN(p)?0:p):this.setPosition(f,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragService.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)nh(n,e),e=kN(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?nh(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:r.top,s=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-r.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Io(t,e),e=Sm(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+o>i&&(e=i-o)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Io(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:n}=this.config,r=n?this.boundaryEl:this.element;r&&(this.popupService.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,s)?0:s,c=this.shouldSkipY(t,!!r,o,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=r<0&&e.clientX>a+o.left||r>0&&e.clientX<a+o.left:n?l=r<0&&e.clientX>s.right||r>0&&e.clientX<a+o.left:l=r<0&&e.clientX>s.right||r>0&&e.clientX<s.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=r<0&&e.clientY>a+o.top+n||r>0&&e.clientY<a+o.top:l=r<0&&e.clientY>s.bottom||r>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(U7,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${YN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){const l=window.getComputedStyle(i);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=i.offsetHeight,a=i.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:o,isLeft:s}=this.currentResizer,a=i||s,l=o||r,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:s,isTop:r}),d=this.position.x,h=this.position.y;let p=0,f=0;if(a&&c){const C=s?-1:1,y=this.getWidth(),g=y+c*C;let v=!1;s&&(p=y-g,(d+p<=0||g<=this.minWidth)&&(v=!0,p=0)),v||this.setWidth(g)}if(l&&u){const C=r?-1:1,y=this.getHeight(),g=y+u*C;let v=!1;r?(f=y-g,(h+f<=0||g<=this.minHeight)&&(v=!0,f=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&y<g&&this.getMinSizeOfSiblings().height+g>this.element.parentElement.offsetHeight&&(v=!0),v||this.setHeight(g)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||f)&&this.offsetElement(d+p,h+f)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},QN=class XN extends j{constructor(t,n={}){super(),this.eFocusableElement=t,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const i=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);i&&(i.focus(),r.preventDefault())},...n}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(XN.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:n=>{if(!(n.defaultPrevented||As(n))){if(this.callbacks.shouldStopEventPropagation(n)){yu(n);return}n.key===U.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}}})}};QN.FOCUS_MANAGED_CLASS="ag-focus-managed";var jl=QN,JN={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function lP(e,t){return Pm(e)?(e.debounceMs!=null&&ee("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Pm(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var $7=class extends tn{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Ge,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new jl(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new z7(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Pm(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Pm(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:r}=t??{},{buttons:i,readOnly:o}=e;if(r===o&&$h(n,i))return;const s=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Li(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):s&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!s){this.eButtonsPanel&&_l(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let u,d;switch(c){case"apply":u=this.translate("applyFilter"),d=f=>this.onBtApply(!1,!1,f);break;case"clear":u=this.translate("clearFilter"),d=()=>this.onBtClear();break;case"reset":u=this.translate("resetFilter"),d=()=>this.onBtReset();break;case"cancel":u=this.translate("cancelFilter"),d=f=>{this.onBtCancel(f)};break;default:ee("Unknown button type specified");return}const p=Jh(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${u}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(p,{click:d})),a.append(p)};i.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=lP(this.providedFilterParams,this.getDefaultDebounceMs()),t=Vr(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:r}=this.providedFilterParams;r&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let r;(n==="Enter"||n==="Space")&&(r={keyboardEvent:t}),this.hidePopup(r),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),r=this.queryForHtmlElement('[data-ref="applyFilterButton"]');r&&Xh(r,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:n,gos:r}=this;t?(n.restoreLastSize(),n.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,JN[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},j7=class extends oP{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},K7=class extends tn{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case U.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case U.DOWN:case U.UP:e.preventDefault(),this.navigate(t);break;case U.PAGE_DOWN:case U.PAGE_UP:case U.PAGE_HOME:case U.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===U.DOWN;let n;if(!this.highlightedEl)n=this.itemEls[t?0:this.itemEls.length-1];else{let i=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),n=this.itemEls[i]}this.highlightItem(n)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),n=this.options.length-1,r=this.itemEls[0].clientHeight,i=Math.floor(this.getGui().clientHeight/r);let o=-1;e===U.PAGE_HOME?o=0:e===U.PAGE_END?o=n:e===U.PAGE_DOWN?o=Math.min(t+i,n):e===U.PAGE_UP&&(o=Math.max(t-i,0)),o!==-1&&this.highlightItem(this.itemEls[o])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n||t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{_l(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{P9(t,n+1),E9(t,e.length)})}renderOption(e,t){const n=Ln(this.gos),r=n.createElement("div");Fo(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=n.createElement("span");r.appendChild(i),i.textContent=t,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListeners(r,{mouseover:()=>this.highlightItem(r),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Gu({getTooltipValue:()=>t,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(r)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!as(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),ym(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:o}=e;(i+o>n+r||i<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!as(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),ym(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},q7=class extends WN{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ge,this.eWrapper=Ge,this.eDisplayField=Ge,this.eIcon=Ge,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),o!=null&&this.setPickerMaxWidth(o)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=Pi(n,this.gos);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Cm(e,!1),this.ariaRole&&Fo(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case U.UP:case U.DOWN:case U.ENTER:case U.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case U.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0}=this.config,o={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const h=aN(this.gos);this.beforeHidePicker(),h&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:this.eWrapper};e.style.position="absolute";const s=this.popupService.addPopup(o),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:u}=this;u?(l&&(e.style.minWidth=l),e.style.width=nP(Sm(this.eWrapper)),c&&(e.style.maxWidth=c)):Em(e,c??Sm(this.eWrapper));const d=a??`${tP(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",d),this.alignPickerToComponent(),s.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,n=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Cm(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Em(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},cP=class extends q7{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new K7("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),O9(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===U.TAB&&this.hidePicker(),t){case U.ENTER:case U.UP:case U.DOWN:case U.PAGE_UP:case U.PAGE_DOWN:case U.PAGE_HOME:case U.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case U.ESCAPE:super.onKeyDown(e);break;case U.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,n){if(this.value===e||!this.listComponent)return this;if(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let i=this.listComponent.getDisplayValue();return i==null&&this.config.placeholder&&(i=this.config.placeholder),this.eDisplayField.textContent=i,this.setTooltip({newTooltipText:i??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Y7={selector:"AG-SELECT",component:cP},ZN=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],n=r=>r.some(i=>e[i]!=null)?!0:(ee(`ignoring FilterOptionDef as it doesn't contain one of '${r}'`),!1);if(!t.every(n)){this.filterOptions=this.filterOptions.filter(r=>r===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:ee("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else ee("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},e_=class extends $7{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:r}=t;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{n===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let o;if(n){const s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{const s=e,a=t;o=s.operator===a.operator&&Ga(s.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}shouldRefresh(e){var o;const t=this.getModel(),n=t?t.conditions??[t]:null,r=((o=e.filterOptions)==null?void 0:o.map(s=>typeof s=="string"?s:s.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(s=>r.find(a=>a===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let r=n.conditions;r==null&&(r=[],ee("Filter model is missing 'conditions'"));const i=this.validateAndUpdateConditions(r),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let a=o;a<i;a++)this.createJoinOperatorPanel(),this.createOption();const s=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!s,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(s,!0)),r.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),kn.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),ee('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);return r[n&&n==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new ZN,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(ee('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(ee('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ee('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new cP);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,r=>this.resetInput(r)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const r=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new j7);return e.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${n}`),t.appendChild(r.getGui()),r}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const o=this.isConditionDisabled(i,e);r.setDisabled(o||this.filterListOptions.length<=1),i===1&&(Xh(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((r,i)=>{En(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,o,s)=>{this.setElementDisplayed(r,i<s),this.setElementDisabled(r,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,t),this.removeComponents(this.eJoinOperatorsAnd,n,t),this.removeComponents(this.eJoinOperatorsOr,n,t)}removeElements(e,t,n){this.removeItems(e,t,n).forEach(i=>_l(i))}removeComponents(e,t,n){this.removeItems(e,t,n).forEach(i=>{_l(i.getGui()),this.destroyBean(i)})}removeItems(e,t,n){return n==null?e.splice(t):e.splice(t,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof dl&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{const a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),r=!0,l&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(zE(this.filterPlaceholder)){const r=this.filterPlaceholder,i=this.eTypes[t].getValue(),o=this.translate(i);n=r({filterOptionKey:i,filterOption:o,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof dl))return;const o=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",s=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,r)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof dl&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof tn&&En(e.getGui(),t)}setElementDisabled(e,t){e instanceof tn&&Xh(e.getGui(),t)}attachElementOnChange(e,t){e instanceof dl&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=this.getNumberOfInputs(t),i=this.getInputs(e);for(let o=0;o<i.length;o++){const s=i[o];s!=null&&n(s,o,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),kn.resolve()}resetType(e){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((r,i,o)=>{o===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),r=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),o=this.evaluateCustomFilter(i,r,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}evaluateCustomFilter(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},t_=class extends e_{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=this.comparator(),i=e[0]!=null?r(e[0],t):0;switch(n.type){case"equals":return i===0;case"notEqual":return i!==0;case"greaterThan":return i>0;case"greaterThanOrEqual":return i>=0;case"lessThan":return i<0;case"lessThanOrEqual":return i<=0;case"inRange":{const o=r(e[1],t);return this.scalarFilterParams.inRangeInclusive?i>=0&&o<=0:i>0&&o<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return ee('Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},Q7=65,X7=67,J7=86,Z7=68,eQ=90,tQ=89;function n_(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function Yw(e,t,n,r,i){const o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s=e.addGridCommonParams({event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(o&&o(s))}function nQ(e,t,n,r){const i=r.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!ce(o))return!1;const s=e.addGridCommonParams({colDef:i,column:r,headerRowIndex:n,event:t});return!!o(s)}function rQ(e){const{keyCode:t}=e;let n;switch(t){case Q7:n=U.A;break;case X7:n=U.C;break;case J7:n=U.V;break;case Z7:n=U.D;break;case eQ:n=U.Z;break;case tQ:n=U.Y;break;default:n=e.code}return n}function iQ(e,t=!1){return e===U.DELETE?!0:!t&&e===U.BACKSPACE?DN():!1}var Kl=class extends dl{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=ce(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{n_(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var i;const r=(i=n.clipboardData)==null?void 0:i.getData("text");r&&r.split("").some(o=>!e.test(o))&&n.preventDefault()}})}},rC={selector:"AG-INPUT-TEXT-FIELD",component:Kl},uP=class extends Kl{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const i=parseFloat(this.eInput.value),o=isNaN(i)?"":this.normalizeValue(i.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:n,step:r}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof n=="number"&&this.setMax(n),typeof r=="number"&&this.setStep(r)}onWheel(e){Pn(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const r=parseFloat(e).toFixed(this.precision);return parseFloat(r).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=this.precision)return e;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,to(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,to(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,to(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ce(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},oQ={selector:"AG-INPUT-NUMBER-FIELD",component:uP},r_=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],dP=class{constructor(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.localeService.getLocaleTextFunc();if(t){const r=e,o=(r.conditions??[]).map(a=>this.getModelAsString(a)),s=r.operator==="AND"?"andCondition":"orCondition";return o.join(` ${n(s,JN[s])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const r=e,i=this.optionsFactory.getCustomOption(r.type),{displayKey:o,displayName:s,numberOfInputs:a}=i||{};return o&&s&&a===0?(n(o,s),s):this.conditionToString(r,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},i_=class extends dP{conditionToString(e,t){const{numberOfInputs:n}=t||{};return e.type=="inRange"||n===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function Qw(e){const{allowedCharPattern:t}=e??{};return t??null}var sQ=class extends t_{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:r}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(r))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new i_(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return r_}setElementValue(e,t,n){const r=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,r)}createValueElement(){const e=Qw(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Fo(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new Kl({allowedCharPattern:r}):new uP);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,o)=>{r<o&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Ts(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},o_=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],s_=class extends dP{conditionToString(e,t){const{numberOfInputs:n}=t||{};return e.type=="inRange"||n===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function a_(e){const t=e&&e.trim();return t===""?e:t}var aQ=class extends e_{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new s_(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ee("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:n,filterText:r})=>e(t,n,r)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,o,s)=>{if(i<s){let a=Ts(r.getValue());t&&this.textFilterParams.trimInput&&(a=a_(a)??null,r.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return o_}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Fo(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new Kl);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:r}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if(n.type==="blank")return this.isBlank(t);if(n.type==="notBlank")return!this.isBlank(t);const d={api:s,colDef:a,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:o,textFormatter:u};return i.some(h=>this.matcher({...d,filterText:h}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function l_(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function Ho(e,t=Number.MAX_VALUE){return n=>{const r=l_(n);if(!(r==null||r<e||r>t))return r}}function ih(e,t){return e.toString().padStart(t,"0")}function lQ(e,t){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function cQ(e,t,n){return typeof e!="number"?"":e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function no(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>ih(i,2)).join(n);return t&&(r+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>ih(i,2)).join(":")),r}var Ry=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function oh(e,t="YYYY-MM-DD"){const n=ih(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>ih(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Ry(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Ry(e.getDate())}`,DD:()=>ih(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Ry(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,a=>a in o?o[a]():a)}function ii(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const r=t.split("-").map(d=>parseInt(d,10));if(r.filter(d=>!isNaN(d)).length!==3)return null;const[i,o,s]=r,a=new Date(i,o-1,s);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!n||n==="00:00:00")return a;const[l,c,u]=n.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var c_=class{constructor(e,t,n,r,i){this.alive=!0,this.context=e,this.eParent=r,t.getDateCompDetails(n).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(r.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),i==null||i(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){En(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var n,r;let t=!1;(n=this.dateComp)!=null&&n.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((r=this.dateComp)!=null&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ee("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},u_=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],d_=class extends dP{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:r}=t||{},i=n=="inRange"||r===2,o=ii(e.dateFrom),s=ii(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const l=o!==null?oh(o,a):"null",c=s!==null?oh(s,a):"null";return`${l}-${c}`}return o!=null?oh(o,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Qx=1e3,Xx=1/0,uQ=class extends t_{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Qx,this.maxValidYear=Xx,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:r}=e||{};return[t&&ii(t)||null,n&&ii(n)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const n=t;return t==null||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,r)=>{if(e[n]!=null)if(isNaN(e[n]))ee(`DateFilter ${n} is not a number`);else return e[n]==null?r:Number(e[n]);return r};this.minValidYear=t("minValidYear",Qx),this.maxValidYear=t("maxValidYear",Xx),this.minValidYear>this.maxValidYear&&ee("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:ii(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:ii(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ee("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new d_(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new c_(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return u_}createValueElement(){const t=Ln(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,n,r){const o=Ln(this.gos).createElement("div");o.classList.add(`ag-filter-${r}`),o.classList.add(`ag-filter-date-${r}`),t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){this.removeItems(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,o)=>{i!==e||!t||r>=o||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=no(r[0])),r.length>1&&(n.dateTo=no(r[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...n}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,o)=>{r<o&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},hP=class extends j{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=r,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Et(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=ce(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),n=e.getOldLeft(),r=this.modifyLeftForPrintLayout(e,n),i=this.modifyLeftForPrintLayout(e,t);this.setLeft(r),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!vr(this.beans.gos,"print")||e.getPinned()==="left")return t;const r=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return r+i+t}return r+t}setLeft(e){if(ce(e)&&(this.eCell.style.left=`${e}px`),_n(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&x9(this.ariaEl,t.length)}}},dQ="ag-column-first",hQ="ag-column-last";function h_(e,t,n,r){return Pt(e)?[]:fQ(e.headerClass,e,t,n,r)}function p_(e,t,n){e.addOrRemoveCssClass(dQ,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(hQ,n.isColAtEdge(t,"last"))}function pQ(e,t,n,r){return t.addGridCommonParams({colDef:e,column:n,columnGroup:r})}function fQ(e,t,n,r,i){if(Pt(e))return[];let o;if(typeof e=="function"){const s=pQ(t,n,r,i);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}var gQ=0,f_=class g_ extends j{constructor(t,n,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=r,this.beans=n,this.instanceId=t.getUniqueId()+"-"+gQ++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:n,column:r}=this.focusService.getFocusedHeader();return nQ(this.gos,t,n,r)}getWrapperHasFocus(){return Pn(this.gos)===this.eGui}setGui(t,n){this.eGui=t,this.addDomData(n),n.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),n.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:n,checkMeasuringCallback:r,compBean:i}=t,{animationFrameService:o,resizeObserverService:s,columnModel:a,gos:l}=this.beans,c=C=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:y,paddingBottom:g,borderBottomWidth:v,borderTopWidth:m}=$l(this.getGui()),w=y+g+v+m,P=n.offsetHeight+w;if(C<5){const A=Ln(l),R=!A||!A.contains(n),T=P==0;if(R||T){o.requestAnimationFrame(()=>c(C+1));return}}a.setColHeaderHeight(this.column,P)};let u=!1,d;const h=()=>{const C=this.column.isAutoHeaderHeight();C&&!u&&p(),!C&&u&&f()},p=()=>{u=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),d=s.observeResize(n,()=>c(0))},f=()=>{u=!1,d&&d(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),d=void 0};h(),i.addDestroyFunc(()=>f()),i.addManagedListeners(this.column,{widthChanged:()=>u&&c(0)}),i.addManagedEventListeners({sortChanged:()=>{u&&window.setTimeout(()=>c(0))}}),r&&r(h)}onDisplayedColumnsChanged(){const{comp:t,column:n,beans:r,eGui:i}=this;!t||!n||!i||(p_(t,n,r.visibleColsService),IN(i,r.visibleColsService.getAriaColIndex(n)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&to(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var s;const n=Pn(this.gos),r=t.key===U.LEFT||t.key===U.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),n!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||r)&&(t.preventDefault(),t.stopImmediatePropagation()),!r))return;const i=t.key===U.LEFT!==this.gos.get("enableRtl"),o=KN[i?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(s=this.resizeFeature)==null||s.toggleColumnResizing(!0)}else this.moveHeader(o)}getViewportAdjustedResizeDiff(t){let n=this.getResizeDiff(t);if(this.column.getPinned()){const i=this.pinnedWidthService.getPinnedLeftWidth(),o=this.pinnedWidthService.getPinnedRightWidth(),s=Tp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(i+o+n>s)if(s>i+o)n=s-i-o;else return 0}return n}getResizeDiff(t){let n=t.key===U.LEFT!==this.gos.get("enableRtl");const r=this.column.getPinned(),i=this.gos.get("enableRtl");return r&&i!==(r==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const n=this.getWrapperHasFocus();switch(t.key){case U.PAGE_DOWN:case U.PAGE_UP:case U.PAGE_HOME:case U.PAGE_END:n&&t.preventDefault()}}addDomData(t){const n=g_.DOM_DATA_KEY_HEADER_CTRL;Ll(this.gos,this.eGui,n,this),t.addDestroyFunc(()=>Ll(this.gos,this.eGui,n,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,n,r){const i=t??n;this.gos.get("preventDefaultOnContextMenu")&&i.preventDefault(),this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,t,n),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(t,n){this.eventService.dispatchEvent({type:t,column:n})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};f_.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var iC=f_,pP=class extends j{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},mQ=class extends iC{constructor(e,t,n){super(e,t,n),this.iconCreated=!1,this.column=e}setComp(e,t,n,r,i){this.comp=e,i=Ep(this,this.beans.context,i),this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,i),this.setupActive(),this.setupWidth(i),this.setupLeft(i),this.setupHover(i),this.setupFocus(i),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(i),this.setupUi(),i.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(i),i.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(i)}),i.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Pi("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new jl(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Su(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Pn(this.gos)===this.eGui)return;const r=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(r){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case U.UP:case U.DOWN:t||e.preventDefault();case U.LEFT:case U.RIGHT:if(t)return;e.stopPropagation();case U.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case U.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Jc(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const o=this.lastFocusEvent,s=!!(o&&o.key===U.TAB);if(o&&s){const a=o.shiftKey;this.focusService.focusInto(this.eGui,a)}}const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}setupHover(e){e.createManagedBean(new pP([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new hP(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=r=>{if((r==null?void 0:r.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(o=>{if(o){const s=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(s,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var o;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.active?(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!r?this.updateCompDetails(e,r,n):i.then(s=>{var a;!s||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(r=>{let i=!1;r!=null&&r.refresh&&typeof r.refresh=="function"&&r.refresh(t)!==null&&(i=!0),!i&&(r!=null&&r.onParamsUpdated)&&typeof r.onParamsUpdated=="function"&&r.onParamsUpdated(t)!==null&&ee("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var ze="32.3.2";function vQ(e){var t,n;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((n=e.filterManager)!=null&&n.isAggregateFilterPresent())}function CQ(e,t,n){var r;return(r=e.filterManager)==null?void 0:r.getFilterInstance(t,n)}function yQ(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function SQ(e,t){var r;const n=e.columnModel.getColDefCol(t);if(n)return(r=e.filterManager)==null?void 0:r.destroyFilter(n,"api")}function wQ(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function bQ(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function RQ(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function EQ(e,t,n){var r;return((r=e.filterManager)==null?void 0:r.setColumnFilterModel(t,n))??Promise.resolve()}function PQ(e,t){const n=e.columnModel.getCol(t);if(!n){Bt(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function TQ(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:o,fwComp:s}=$N.getCompKeys(e,t,aP);return i?r={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:o==null&&s==null&&t.filter===!0&&(r=n()),r}var Jx={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Zx=["january","february","march","april","may","june","july","august","september","october","november","december"],AQ=class extends j{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var i;if((i=this.dataTypeService)!=null&&i.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const n=[],r=this.getFilterModel(!0);if(e){const o=new Set(Object.keys(e));this.allColumnFilters.forEach((s,a)=>{const l=e[a];n.push(this.setModelOnFilterWrapper(s.filterPromise,l)),o.delete(a)}),o.forEach(s=>{const a=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!a){ee("setFilterModel() - no column found for colId: "+s);return}if(!a.isFilterAllowed()){ee("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}const l=this.getOrCreateFilterWrapper(a);if(!l){ee("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}n.push(this.setModelOnFilterWrapper(l.filterPromise,e[s]))})}else this.allColumnFilters.forEach(o=>{n.push(this.setModelOnFilterWrapper(o.filterPromise,null))});kn.all(n).then(()=>{var a;const o=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((l,c)=>{const u=r?r[c]:null,d=o?o[c]:null;$h(u,d)||s.push(l.column)}),s.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:s,source:t}))})}setModelOnFilterWrapper(e,t){return new kn(n=>{e.then(r=>{typeof r.setModel!="function"&&(ee("filter missing setModel method, which is needed for setFilterModel"),n()),(r.setModel(t)||kn.resolve()).then(()=>n())})})}getFilterModel(e){const t={},{allColumnFilters:n,initialFilterModel:r}=this;return n.forEach((i,o)=>{const s=this.getModelFromFilterWrapper(i);ce(s)&&(t[o]=s)}),e||Object.entries(r).forEach(([i,o])=>{var s;ce(o)&&!n.has(i)&&((s=this.columnModel.getCol(i))!=null&&s.isFilterAllowed())&&(t[i]=o)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ee("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=o=>o?o.isFilterActive?o.isFilterActive():(ee("Filter is missing isFilterActive() method"),!1):!1,t=!!Bw(this.gos),n=o=>{if(!o.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!o.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},r=[],i=[];return this.forEachColumnFilter((o,s)=>{e(o)&&(n(s.column)?r.push(o):i.push(o))}).then(()=>{this.activeAggregateFilters=r,this.activeColumnFilters=i})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,r)=>r.column.setFilterActive(n.isFilterActive(),e,t))}forEachColumnFilter(e){return kn.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(n=>e(n,t))))}doColumnFiltersPass(e,t,n){const{data:r,aggData:i}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?i:r;for(let a=0;a<o.length;a++){const l=o[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var n;return(n=this.filterManager)==null?void 0:n.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{r.filterPromise&&r.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,n)=>{const r=n?this.columnModel.getCol(n):e;return r?this.valueService.getValue(r,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var n;let t;if(fy(this.gos))t="agSetColumnFilter";else{const r=(n=this.dataTypeService)==null?void 0:n.getBaseDataType(e);r==="number"?t="agNumberColumnFilter":r==="date"||r==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var n;let t;if(fy(this.gos))t="agSetColumnFloatingFilter";else{const r=(n=this.dataTypeService)==null?void 0:n.getBaseDataType(e);r==="number"?t="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),r=e.getColDef();let i;const o={...this.createFilterParams(e,r),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(i,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(i,a):!0},s=this.userComponentFactory.getFilterDetails(r,o,n);return s?{filterPromise:()=>{const a=s.newAgStackInstance();return a!=null&&a.then(l=>{i=l,t&&(t.filter=l)}),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:CN(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:r}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=r,t}onColumnsChanged(){var n;const e=[];this.allColumnFilters.forEach((r,i)=>{let o;r.column.isPrimary()?o=this.columnModel.getColDefCol(i):o=this.columnModel.getCol(i),!(o&&o===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(i))});const t=e.every(r=>r.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(n=this.filterManager)==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=l=>{var u;const c=(u=this.getOrCreateFilterWrapper(e))==null?void 0:u.filterPromise;c!=null&&c.then(d=>{l(rh(d))})},r=e.getColDef(),i={...this.createFilterParams(e,r),filterChangedCallback:()=>n(l=>this.filterChangedCallbackFactory(l,e)())},o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,aP,i);let s=TQ(this.frameworkOverrides,r,()=>this.getDefaultFloatingFilter(e));s==null&&(s="agReadOnlyFloatingFilter");const a={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(r,a,s)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var i;const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],r&&(this.disposeFilterWrapper(r,t),(i=this.filterManager)==null||i.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(n=>{this.destroyBean(n),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const r=(n==null?void 0:n.source)??"columnFilter",i={filter:e,additionalEventAttributes:n,columns:[t],source:r};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:r}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,r)){this.destroyFilter(n,"paramsUpdated");return}const i=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(o,n),filterChangedCallback:this.filterChangedCallbackFactory(o,n),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(o,a):!0,...i}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||(n==null?void 0:n.render)&&(r==null?void 0:r.render)&&n.render===r.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(n=>{const r=rh(n);t(r)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(rh(n))})})}getFilterInstanceImpl(e){var r;const t=this.columnModel.getColDefCol(e);return t?((r=this.getOrCreateFilterWrapper(t))==null?void 0:r.filterPromise)??kn.resolve(null):kn.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var o;if((o=this.dataTypeService)!=null&&o.isPendingInference()){let s=()=>{};const a=new Promise(l=>{s=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:s}),a}const n=this.columnModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n):null;return r?(s=>new Promise(a=>{s.then(l=>a(l))}))(this.setModelOnFilterWrapper(r.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const r=fy(this.gos),i=this.localeService.getLocaleTextFunc(),o=s=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...s}:s};switch(t.baseDataType){case"number":{r&&o({comparator:(s,a)=>{const l=s==null?0:parseInt(s),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{o(r?{valueFormatter:s=>ce(s.value)?i(String(s.value),s.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(s,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(s,a)=>a===!1,numberOfInputs:0}]});break}case"date":{r&&o({valueFormatter:s=>{const a=n(s);return ce(a)?a:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(s,a)=>{if(a===1&&s!=null){const l=Zx[Number(s)-1];return i(l,Jx[l])}return s??i("blanks","(Blanks)")}});break}case"dateString":{const s=t.dateParser;o(r?{valueFormatter:a=>{const l=n(a);return ce(l)?l:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=s(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=Zx[Number(a)-1];return i(c,Jx[c])}return a??i("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=s(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{r?o({valueFormatter:s=>{const a=n(s);return ce(a)?a:i("blanks","(Blanks)")}}):e.filterValueGetter=s=>n({column:s.column,node:s.node,value:this.valueService.getValue(s.column,s.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function IQ(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function xQ(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var DQ=class extends tn{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[rC]),this.eFloatingFilterText=Ge}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},m_=class extends tn{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new ZN,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:n}=t||{};return n==null||n==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return`${t} ${n("ariaFilterInput","Filter Input")}`}},FQ=class extends m_{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[rC]),this.eReadOnlyText=Ge,this.eDateWrapper=Ge}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return u_}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new d_(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const n=e;this.dateComp.setDate(ii(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){En(this.eDateWrapper,e),En(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=no(e);this.params.parentFilterInstance(n=>{if(n){const r=ii(t);n.onFloatingFilterChanged(this.getLastType()||null,r)}})}getDateComponentParams(){const e=lP(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Vr(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new c_(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},OQ=class extends tn{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[rC]),this.eDateInput=Ge}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:n=>{n.target===Pn(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&ss(),t.type=n?"date":"text";const{minValidYear:r,maxValidYear:i,minValidDate:o,maxValidDate:s}=e.filterParams||{};if(o&&r&&ee("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&i&&ee("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&s){const[a,l]=[o,s].map(c=>c instanceof Date?c:ii(c));a&&l&&a.getTime()>l.getTime()&&ee("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?t.min=oh(o):t.min=o:r&&(t.min=`${r}-01-01`),s?s instanceof Date?t.max=oh(s):t.max=s:i&&(t.max=`${i}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return ii(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(no(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:JE()||ZE()||ss()&&xN()>=14.1}},v_=class extends j{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Ge,this.valueChangedListener=()=>{}}setupGui(e){var r;this.eFloatingFilterTextInput=this.createManagedBean(new Kl((r=this.params)==null?void 0:r.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const n=i=>this.valueChangedListener(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},C_=class extends m_{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ge}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Pm(this.params.filterParams),!this.isReadOnly()){const n=lP(this.params.filterParams,this.getDefaultDebounceMs()),r=Vr(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(r)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Li(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===U.ENTER;if(this.applyActive&&!t)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=a_(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(r=>{r&&r.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},MQ=class extends j{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new uP),this.eFloatingFilterTextInput=this.createManagedBean(new Kl),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.valueChangedListener(r)),this.setupListeners(n,r=>this.valueChangedListener(r))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},kQ=class extends C_{init(e){var t;super.init(e),this.filterModelFormatter=new i_(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Qw(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return r_}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Qw(e.filterParams),this.allowedCharPattern?this.createManagedBean(new v_({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new MQ)}},LQ=class extends C_{init(e){super.init(e),this.filterModelFormatter=new s_(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return o_}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new v_)}};function NQ(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function _Q(e){return e.gos.get("quickFilterText")}function BQ(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var HQ=class extends j{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var i;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),n=this.columnModel.getColDefCols();let r=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(i=this.pivotResultColsService.getPivotResultCols())==null?void 0:i.list:n)??[];t&&(r=r.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?r:r.filter(o=>o.isVisible()||o.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassQuickFilterCache(e,n):this.doesRowPassQuickFilterNoCache(e,n))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return ce(e)?hn(this.gos)?e.toUpperCase():(ee("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){ee(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(n=>{const r=this.getQuickFilterTextForColumn(n,e);return ce(r)&&r.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let n;e?(this.checkGenerateQuickFilterAggregateText(t),n=t.quickFilterAggregateText):n=this.getQuickFilterAggregateText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let n=this.valueService.getValue(e,t,!0);const r=e.getColDef();if(r.getQuickFilterText){const i=this.gos.addGridCommonParams({value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return ce(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(n=>{const r=this.getQuickFilterTextForColumn(n,e);ce(r)&&t.push(r)}),t.join(`
`)}},fP={version:ze,moduleName:"@ag-grid-community/filter-core",beans:[V7]},GQ={version:ze,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:IQ,onFilterChanged:xQ},dependantModules:[fP]},gP={version:ze,moduleName:"@ag-grid-community/column-filter",beans:[AQ],dependantModules:[fP]},VQ={version:ze,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:vQ,getFilterInstance:CQ,getColumnFilterInstance:yQ,destroyFilter:SQ,setFilterModel:wQ,getFilterModel:bQ,getColumnFilterModel:RQ,setColumnFilterModel:EQ,showColumnFilter:PQ},dependantModules:[gP,GQ]},y_={version:ze,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:mQ}],dependantModules:[gP]},WQ={version:ze,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:DQ}],dependantModules:[y_]},UQ={version:ze,moduleName:"@ag-grid-community/simple-filter",dependantModules:[gP],userComponents:[{name:"agTextColumnFilter",classImp:aQ},{name:"agNumberColumnFilter",classImp:sQ},{name:"agDateColumnFilter",classImp:uQ},{name:"agDateInput",classImp:OQ}]},zQ={version:ze,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[UQ,y_],userComponents:[{name:"agTextColumnFloatingFilter",classImp:LQ},{name:"agNumberColumnFloatingFilter",classImp:kQ},{name:"agDateColumnFloatingFilter",classImp:FQ}]},S_={version:ze,moduleName:"@ag-grid-community/quick-filter-core",beans:[HQ],dependantModules:[fP]},$Q={version:ze,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:NQ,getQuickFilter:_Q,resetQuickFilter:BQ},dependantModules:[S_]},jQ={version:ze,moduleName:"@ag-grid-community/quick-filter",dependantModules:[S_,$Q]},KQ={version:ze,moduleName:"@ag-grid-community/filter",dependantModules:[zQ,WQ,jQ,VQ]},Xw=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Xw||{}),qQ=class extends j{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Ln(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let n;if(typeof e=="string"?(n=this.columnModel.getCol(e),n||(n=this.visibleColService.getColumnGroup(e))):n=e,!n)return null;const r=this.ctrlsService.getHeaderRowContainerCtrl(),i=r==null?void 0:r.getAllCtrls(),o=Et(i||[]).getType()==="filter",s=this.getHeaderRowCount()-1;let a=-1,l=n;for(;l;)a++,l=l.getParent();let c=a;return t&&o&&c===s-1&&c++,c===-1?null:{headerRowIndex:c,column:n}}navigateVertically(e,t,n){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:r}=t,i=t.column,o=this.getHeaderRowCount(),s=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=s?this.headerPositionUtils.getColumnVisibleParent(i,r):this.headerPositionUtils.getColumnVisibleChild(i,r),u=!1;return a<0&&(a=0,l=i,u=!0),a>=o?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!u&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,n){const r=this.focusService.getFocusedHeader(),i=e===2,o=this.gos.get("enableRtl");let s,a;if(this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,i!==o?(a="Before",s=this.headerPositionUtils.findHeader(r,a)):(a="After",s=this.headerPositionUtils.findHeader(r,a)),s||!t)return this.focusService.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a})}return this.focusNextHeaderRow(r,a,n)}focusNextHeaderRow(e,t,n){const r=e.headerRowIndex;let i=null,o;if(t==="Before"?r>0&&(o=r-1,this.currentHeaderRowWithoutSpan-=1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=r+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),!i)return!1;const{column:s,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(i.column,i==null?void 0:i.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(_n(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?Et(r):r[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},YQ=class extends j{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,n){this.comp=e,this.eGui=t,this.createManagedBean(new jl(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const r=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:r}),this.mockContextMenuForIPad(r),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var o;const{columnModel:e}=this;let t=0;const n=this.columnModel.getGroupRowsHeight().reduce((s,a)=>s+a,0),r=this.columnModel.getColumnHeaderRowHeight();if((o=this.filterManager)!=null&&o.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?2:3;(this.headerNavigationService.navigateHorizontally(r,!0,e)||!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case U.LEFT:t=2;case U.RIGHT:{ce(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case U.UP:t=0;case U.DOWN:{ce(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Pn(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,n){var i;if(!e&&!n||!this.menuService.isHeaderContextMenuEnabled())return;const{target:r}=e??t;(r===this.eGui||r===((i=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:i.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,n)}mockContextMenuForIPad(e){if(!Va())return;const t=new ba(this.eGui),n=r=>{e(void 0,r.touchStart,r.touchEvent)};this.addManagedListeners(t,{longTap:n}),this.addDestroyFunc(()=>t.destroy())}},mP=class extends j{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=vr(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),n=this.visibleColsService.getColsLeftWidth(),r=this.visibleColsService.getDisplayedColumnsRightWidth();let i;e?i=t+n+r:(i=t,this.addSpacer&&(this.gos.get("enableRtl")?n:r)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(i+=this.scrollVisibleService.getScrollbarWidth())),this.callback(i)}},QQ=class extends j{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function w_(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:o,pinned:s,gos:a,columnModel:l,columnMoveService:c,visibleColsService:u}=e;let{allMovingColumns:d}=e;if(t){const E=[];d.forEach(P=>{var T;let A=null,R=P.getParent();for(;R!=null&&R.getDisplayedLeafColumns().length===1;)A=R,R=R.getParent();A!=null?(!!((T=A.getColGroupDef())!=null&&T.marryChildren)?A.getProvidedColumnGroup().getLeafColumns():A.getLeafColumns()).forEach(D=>{E.includes(D)||E.push(D)}):E.includes(P)||E.push(P)}),d=E}const h=d.slice();l.sortColsLikeCols(h);const p=eX({movingCols:h,draggingRight:n,xPosition:r,pinned:s,gos:a,columnModel:l,visibleColsService:u}),f=XQ(h,l);if(p.length===0)return;const C=p[0];let y=f!==null&&!i;if(t&&(y=f!==null),y&&!o&&(!n&&C>=f||n&&C<=f))return;const g=u.getAllCols(),v=[];let m=null;for(let E=0;E<p.length;E++){const P=p[E],A=c.getProposedColumnOrder(h,P);if(!c.doesOrderPassRules(A))continue;const R=A.filter(b=>g.includes(b));if(m===null)m=R;else if(!Ga(R,m))break;const T=JQ(A);v.push({move:P,fragCount:T})}if(v.length===0)return;v.sort((E,P)=>E.fragCount-P.fragCount);const w=v[0].move;if(!(w>l.getCols().length-d.length))return{columns:d,toIndex:w}}function vP(e){const{columns:t,toIndex:n}=w_(e)||{},{finished:r,columnMoveService:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function XQ(e,t){const n=t.getCols(),r=V8(e.map(l=>n.indexOf(l))),i=r[0];return Et(r)-i!==r.length-1?null:i}function JQ(e){function t(r){const i=[];let o=r.getOriginalParent();for(;o!=null;)i.push(o),o=o.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),o=t(e[r+1]);[i,o]=i.length>o.length?[i,o]:[o,i],i.forEach(s=>{o.indexOf(s)===-1&&n++})}return n}function ZQ(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function eX(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:o,columnModel:s,visibleColsService:a}=e;if(o.get("suppressMovableColumns")||t.some(m=>m.getColDef().suppressMovable))return[];const c=ZQ(a,i),u=s.getCols(),d=c.filter(m=>Cl(t,m)),h=c.filter(m=>!Cl(t,m)),p=u.filter(m=>!Cl(t,m));let f=0,C=r;if(n){let m=0;d.forEach(w=>m+=w.getActualWidth()),C-=m}if(C>0){for(let m=0;m<h.length;m++){const w=h[m];if(C-=w.getActualWidth(),C<0)break;f++}n&&f++}let y;if(f>0){const m=h[f-1];y=p.indexOf(m)+1}else y=p.indexOf(h[0]),y===-1&&(y=0);const g=[y],v=(m,w)=>m-w;if(n){let m=y+1;const w=u.length-1;for(;m<=w;)g.push(m),m++;g.sort(v)}else{let m=y;const w=u.length-1;let E=u[m];for(;m<=w&&c.indexOf(E)<0;)m++,g.push(m),E=u[m];m=y-1;const P=0;for(;m>=P;)g.push(m),m--;g.sort(v).reverse()}return g}function Tm(e){var c;const{pinned:t,fromKeyboard:n,gos:r,ctrlsService:i,useHeaderRow:o,skipScrollPadding:s}=e;let a=(c=i.getHeaderRowContainerCtrl(t))==null?void 0:c.getViewportElement(),{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function Zc(e,t){for(const n of e)n.setMoving(t,"uiColumnMoved")}var eD=7,Jw=100,Tf=Jw/2,tX=5,nX=100,rX=class extends j{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!ce(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const n of e){const r=n.getPinned();if(n.getColDef().lockPinned){if(r==this.pinned)return"move";continue}if(r===this.pinned||!this.pinned)return"move";if(!r&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const r=e.dragItem.visibleState,i=(t||[]).filter(o=>r[o.getId()]);this.setColumnsVisible(i,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const i=this.gos.get("suppressMoveWhenColumnDragging");if(r&&!i){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Pt(e.hDirection))return;const{pinned:o,gos:s,ctrlsService:a}=this,l=Tm({x:e.x,pinned:o,gos:s,ctrlsService:a});t||this.checkCenterForScrolling(l),i?this.handleColumnDragWhileSuppressingMovement(e,t,n,l,r):this.handleColumnDragWhileAllowingMovement(e,t,n,l,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const r=e.filter(i=>!i.getColDef().lockVisible);this.columnModel.setColsVisible(r,t,n)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const o=this.getAllMovingColumns(e,!0);if(i){const s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:r,fromLeft:s,fromEnter:t,fakeEvent:n}),c=vP({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:o,fakeEvent:s}=e,{pinned:a,gos:l,columnModel:c,columnMoveService:u,visibleColsService:d}=this;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:a,fromEnter:o,fakeEvent:s,gos:l,columnModel:c,columnMoveService:u,visibleColsService:d}}findFirstAndLastMovingColumns(e){const t=e.length;let n,r;for(let i=0;i<=t;i++){if(!n){const o=e[i];o.getLeft()!=null&&(n=o)}if(!r){const o=e[t-1-i];o.getLeft()!=null&&(r=o)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}highlightHoveredColumn(e,t){var u;const{gos:n,columnModel:r}=this,i=n.get("enableRtl"),o=r.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let s=null,a=null,l=null;for(const d of o){if(a=d.getActualWidth(),s=this.getNormalisedColumnLeft(d,0,i),s!=null){const h=s+a;if(s<=t&&h>=t){l=d;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){const h=o[d],p=o[d].getParent();if(!p){l=h;break}const f=p==null?void 0:p.getDisplayedLeafColumns();if(f.length){l=Et(f);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(((u=this.lastHighlightedColumn)==null?void 0:u.column)!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let c;t-s<a/2!==i?c=0:c=1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleColsService:r}=this,i=n.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!o||!s||a==null)return;const l=r.getAllCols(),c=l.indexOf(o),u=l.indexOf(s),d=a===0!==i,h=c<u||c===u&&!d;let p=0;if(d?h&&(p-=1):h||(p+=1),u+p===c)return;const f=l[u+p];if(!f)return;const C=this.getNormalisedColumnLeft(f,20,i);return{fromLeft:h,xPosition:C}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:o}=this.findFirstAndLastMovingColumns(e);if(!i||!o||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsService:i}=this,o=e.getLeft();if(o==null)return null;const s=e.getActualWidth();return Tm({x:n?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsService:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>eD;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=w_(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<n+Tf,this.needToMoveLeft=e>r-Tf):(this.needToMoveLeft=e<n+Tf,this.needToMoveRight=e>r-Tf),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),nX),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var r,i;let e;this.intervalCount++,e=10+this.intervalCount*tX,e>Jw&&(e=Jw);let t=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=eD+1)return;if((r=this.dragAndDropService.getDragAndDropImageComponent())==null||r.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const o=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(i=>!i.getColDef().lockPinned);return r.length?(n&&(t=this.getPinDirection()),this.columnModel.setColsPinned(r,t,"uiColumnDragged"),n&&this.dragAndDropService.nudge(),r.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},iX=class extends j{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new rX(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new QQ(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},oX=class extends j{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(En(this.eResize,t),!t)return;const s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(s),n){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new ba(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},i=()=>{e.forEach(s=>s()),e.length=0},o=()=>{const s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==n)&&(t=s,n=a,i(),r())};o(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i}=this,o=this.normaliseResizeAmount(t),s=i+o,a=[{key:n,newWidth:s}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),u=Tp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(o-r)>u)return}this.lastResizeAmount=o,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},sX=class extends j{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Pn(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new oP),this.cbSelectAll.addCssClass("ag-header-select-all"),Fo(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),r=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${r} (${n})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return hN(this.gos)?!0:(ee(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return hn(this.gos)||cs(this.gos)?!0:(ee(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),n=this.isCurrentPageOnly();let r="uiSelectAll";n?r="uiSelectAllCurrentPage":t&&(r="uiSelectAllFiltered");const i={source:r,justFiltered:t,justCurrentPage:n};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&gm(e)&&Rp(this.column),n=this.column.getColDef().headerCheckboxSelection;let r=!1;return t?r=!0:typeof n=="function"?r=n(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):r=!!n,r&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},aX=class extends iC{constructor(e,t,n){super(e,t,n),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,n,r,i){this.comp=e,i=Ep(this,this.beans.context,i),this.setGui(t,i),this.updateState(),this.setupWidth(i),this.setupMovingCss(i),this.setupMenuClass(i),this.setupSortableClass(i),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:s=>this.setRefreshFunction("measuring",s),compBean:i}),this.addColumnHoverListener(i),this.setupFilterClass(i),this.setupClassesFromColDef(),this.setupTooltip(i),this.addActiveHeaderMouseListeners(i),this.setupSelectAll(i),this.setupUserComp(i),this.refreshAria(),this.resizeFeature=i.createManagedBean(new oX(this.getPinned(),this.column,n,e,this)),i.createManagedBean(new pP([this.column],t)),i.createManagedBean(new hP(this.column,t,this.beans)),i.createManagedBean(new jl(t,{shouldStopEventPropagation:s=>this.shouldStopEventPropagation(s),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(i),i.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(i)),i.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(i)}),i.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const o=()=>this.checkDisplayName(i);i.addManagedEventListeners({columnValueChanged:o,columnRowGroupChanged:o,columnPivotChanged:o,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),i.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const n=this.column.getActualWidth(),r=this.column.getMinWidth(),i=this.column.getMaxWidth(),o=Math.min(Math.max(n+e,r),i);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:o}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:n,column:r,ctrlsService:i}=this,{gos:o,columnModel:s,columnMoveService:a,visibleColsService:l}=n,c=this.getPinned(),u=t.getBoundingClientRect().left,d=r.getActualWidth(),h=o.get("enableRtl"),f=Tm({x:e===0!==h?u-20:u+d+20,pinned:c,fromKeyboard:!0,gos:o,ctrlsService:i}),C=this.focusService.getFocusedHeader();vP({allMovingColumns:[r],isFromHeader:!0,fromLeft:e===1,xPosition:f,pinned:c,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:s,columnMoveService:a,visibleColsService:l,finished:!0}),i.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&C&&this.restoreFocus(C)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:n=>{this.menuService.showColumnMenu({column:this.column,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:n=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:n,positionBy:"mouse"})},showFilter:n=>{this.menuService.showFilterMenu({column:this.column,buttonElement:n,containerType:"columnFilter",positionBy:"button"})},progressSort:n=>{this.beans.sortController.progressSort(this.column,!!n,"uiColumnSorted")},setSort:(n,r)=>{this.beans.sortController.setSortForColumn(this.column,n,!!r,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(n,r)=>{this.setupTooltip(e,n,r)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new sX(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===U.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===U.ENTER&&this.onEnterKeyDown(e),e.key===U.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();!n||!(n instanceof Kw)||n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui,o=this.column.getColDef();!n&&r&&!o.headerComponent&&(n=()=>{const l=i.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:n},a=e.createManagedBean(new Gu(s));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=h_(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),r.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:n,displayName:r,dragAndDropService:i,gos:o}=this,{columnModel:s}=n;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:r,onDragStarted:()=>{a=!o.get("suppressDragLeaveHidesColumns"),Zc([t],!0)},onDragStopped:()=>Zc([t],!1),onDragCancelled:()=>Zc([t],!1),onGridEnter:c=>{var u;if(a){const d=((u=c==null?void 0:c.columns)==null?void 0:u.filter(h=>!h.getColDef().lockVisible))||[];s.setColsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{var u;if(a){const d=((u=c==null?void 0:c.columns)==null?void 0:u.filter(h=>!h.getColDef().lockVisible))||[];s.setColsVisible(d,!1,"uiColumnMoved")}}};i.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=this.beans.columnModel.getGroupRowsHeight(),o=i.reduce((d,h)=>d+=h,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",s>0);const{columnModel:l}=r,c=l.getColumnHeaderRowHeight();if(s===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${c}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let d=0;d<s;d++)u+=i[i.length-1-d];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${c+u}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(y9(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Pn(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof Kw?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},lX=class extends j{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,n,r){super(),this.eResize=t,this.comp=e,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const n=[];this.columnGroup.getDisplayedLeafColumns().forEach(i=>{i.getColDef().suppressAutoSize||n.push(i.getColId())}),n.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:n,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(t),r=this.getSizeRatiosOfColumns(t,n),i={columnsToResize:t,resizeStartWidth:n,resizeRatios:r};let o=null;if(e&&(o=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),o){const s=o.getDisplayedLeafColumns(),a=i.groupAfterColumns=s.filter(c=>c.isResizable()),l=i.groupAfterStartWidth=this.getInitialSizeOfColumns(a);i.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:i,ratios:s,width:t}),a){const d=t-o;u.push({columns:a,ratios:c,width:l-d})}this.columnSizeService.resizeColumnSets({resizeSets:u,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(n=>n.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},cX=class extends j{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},uX=class extends iC{constructor(e,t,n){super(e,t,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const r=this.getGui();this.setDragSource(r)}},this.column=e}setComp(e,t,n,r,i){this.comp=e,i=Ep(this,this.beans.context,i),this.setGui(t,i),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(i),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(i),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const o=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();i.createManagedBean(new pP(s,t)),i.createManagedBean(new hP(this.column,t,this.beans)),i.createManagedBean(new cX(e,this.column)),this.resizeFeature=i.createManagedBean(new lX(e,n,o,this.column)),i.createManagedBean(new jl(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,s),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=Et(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),o=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let s=!1,a=!1;if(o){const l=this.beans.gos.get("enableRtl"),c=i===1,u=i===0;n&&(l?a=c:s=u),r&&(l?s=u:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",s),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const n=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:n,column:r,ctrlsService:i}=this,{gos:o,columnModel:s,columnMoveService:a,visibleColsService:l}=t,c=o.get("enableRtl"),u=e===0,d=this.getPinned(),h=n.getBoundingClientRect(),p=h.left,f=h.width,C=Tm({x:u!==c?p-20:p+f+20,pinned:d,fromKeyboard:!0,gos:o,ctrlsService:i}),y=r.getGroupId(),g=this.focusService.getFocusedHeader();vP({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:C,pinned:d,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:s,columnMoveService:a,visibleColsService:l,finished:!0});const v=r.getDisplayedLeafColumns(),m=u?v[0]:Et(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(m,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&g&&this.restoreFocus(y,r,g)}restoreFocus(e,t,n){const r=t.getLeafColumns();if(!r.length)return;const i=r[0].getParent();if(!i)return;const o=this.findGroupWidthId(i,e);o&&this.focusService.focusHeaderPosition({headerPosition:{...n,column:o}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,i)=>{this.setupTooltip(e,r,i)}}),n=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.column.getColGroupDef(),i=this.gos.get("tooltipShowMode")==="whenTruncated",o=this.eGui;!n&&i&&!(r!=null&&r.headerGroupComponent)&&(n=()=>{const a=o.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(r&&r.headerTooltip),shouldDisplayTooltip:n};r&&(s.getColDef=()=>r),e.createManagedBean(new Gu(s))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=h_(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){const n=this.column.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());n.forEach(i=>{e.addManagedListeners(i,{movingChanged:r})}),r()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===U.ENTER){const n=this.column,r=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:n,displayName:r,gos:i,dragAndDropService:o}=this,{columnModel:s}=t,a=n.getProvidedColumnGroup().getLeafColumns();let l=!i.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:r,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),Zc(a,!0)},onDragStopped:()=>Zc(a,!1),onDragCancelled:()=>Zc(a,!1),onGridEnter:u=>{if(l){const{columns:d=[],visibleState:h}=u??{},p=d.filter(f=>!f.getColDef().lockVisible&&(!h||h[f.getColId()]));s.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:u=>{var d;if(l){const h=((d=u==null?void 0:u.columns)==null?void 0:d.filter(p=>!p.getColDef().lockVisible))||[];s.setColsVisible(h,!1,"uiColumnMoved")}}};o.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),n={};t.forEach(s=>n[s.getId()]=s.isVisible());const r=[];this.beans.visibleColsService.getAllCols().forEach(s=>{t.indexOf(s)>=0&&(r.push(s),Wr(t,s))}),t.forEach(s=>r.push(s));const i=[],o=e.getLeafColumns();for(const s of r)o.indexOf(s)!==-1&&i.push(s);return{columns:r,columnsInSplit:i,visibleState:n}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},dX=0,Ey=class extends j{constructor(e,t,n){super(),this.instanceId=dX++,this.rowIndex=e,this.pinned=t,this.type=n;const r=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${r}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=vr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Ep(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return lg(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=vr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,n=[],r=e.getGroupRowsHeight(),i=e.getColumnHeaderRowHeight();n.push(...r),n.push(i),t!=null&&t.hasFloatingFilters()&&n.push(e.getFloatingFiltersHeight());let o=0;for(let a=0;a<this.rowIndex;a++)o+=n[a];const s=n[this.rowIndex];return{topOffset:o,rowHeight:s}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,e);const n=r=>{const{focusService:i,visibleColsService:o}=this.beans;return i.isHeaderWrapperFocused(r)?o.isVisible(r.getColumnGroupChild()):!1};if(e)for(const[r,i]of e)n(i)?this.headerCellCtrls.set(r,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const n=e.getUniqueId();let r;if(t&&(r=t.get(n),t.delete(n)),r&&r.getColumnGroupChild()!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":r=this.createBean(new uX(e,this.beans,this));break;default:r=this.createBean(new aX(e,this.beans,this));break}this.headerCellCtrls.set(n,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:n}=this.beans;return["left",null,"right"].forEach(r=>{const i=n.getHeadersToRender(r,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let n;return typeof e=="function"?n=t.find(e):n=t.find(r=>r.getColumnGroupChild()==e),n}focusHeader(e,t){const n=this.findHeaderCellCtrl(e);return n?n.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},hX=class extends j{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:n,advancedFilterEnabledChanged:n});const r=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(r,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new wu,n=this.focusService.getFocusHeaderToUseAfterRefresh(),r=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new Ey(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},i=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new Ey(a,this.pinned,"column")))},o=()=>{var c;this.includeFloatingFilter=!!((c=this.filterManager)!=null&&c.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==l;(!e||u)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Ey(l,this.pinned,"filter")))};r(),i(),o();const s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(n)}getHeaderCtrlForColumn(e){var t;if(Oa(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const n=this.getAllCtrls()[e];return n?n.getType():void 0}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new iX(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new mP(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const n=()=>{const r=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(r==null)return;const i=r==0,o=this.hidden!==i,s=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(s&&e||!s&&t)?r+a:r;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!i),o&&(this.hidden=i,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}},CP=class extends j{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(n,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ee(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},pX=class extends tn{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Ge,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==U.TAB||e.defaultPrevented||As(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=this.focusService.focusGridView(Et(this.visibleColsService.getAllCols()),!0,!1):n=this.focusService.focusNextGridCoreContainer(!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",t.autoHeight),n.toggle("ag-layout-normal",t.normal),n.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new CP(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.focusService.isGridFocused()){const i=Pn(this.gos);i&&!aN(this.gos)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!i)return;if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:a})=>{var l;(l=s.refresh)==null||l.call(s,this.gos.addGridCommonParams({...a??{}}))})}const o=this.focusService;n&&o.isGridFocused()&&o.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var r;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Li(this.eOverlayWrapper),(r=t==null?void 0:t.focus)==null||r.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},b_=class extends tn{constructor(e,t){super(),this.direction=t,this.eViewport=Ge,this.eContainer=Ge,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",DN()||Va())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=ON(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();x8(()=>as(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},fX=class extends b_{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Ge,this.eRightSpacer=Ge}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new mP(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleService.getScrollbarWidth();n&&(t+=r),Io(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(i+=r),Io(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleService.getScrollbarWidth()||0,o=n?0:r===0&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),nh(this.getGui(),o),nh(this.eViewport,o),nh(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return bm(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){as(this.getViewportElement())||this.attemptSettingScrollPosition(e),Rm(this.getViewportElement(),e,this.enableRtl)}},R_=class extends j{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},gX=class extends b_{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new R_(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,n=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Io(this.getGui(),r),Io(this.eViewport,r),Io(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,n=e.getGridBodyCtrl().getBodyViewportElement(),r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!as(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},Zw=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(Zw||{}),mX=class extends j{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Vr(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Vr(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(Zw)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Vr(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),r=t?Vr(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(Zw),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Rm(n,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=bm(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Va()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=tP(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&wm()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&wm()?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),Rm(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const n=this.rowModel.getRowCount();let r=-1;for(let i=0;i<n;i++){const o=this.rowModel.getRow(i);if(typeof e=="function"){if(o&&e(o)){r=i;break}}else if(e===o||e===o.data){r=i;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t){if(vr(this.gos,"print"))return;const n=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=n){ee("Invalid row index for ensureIndexVisible: "+e);return}const i=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var u;i||(u=this.paginationService)==null||u.goToPageWithIndex(e);const o=this.ctrlsService.getGridBodyCtrl(),s=o.getStickyTopHeight(),a=o.getStickyBottomHeight(),l=this.rowModel.getRow(e);let c;do{const d=l.rowTop,h=l.rowHeight,p=this.pageBoundsService.getPixelOffset(),f=l.rowTop-p,C=f+l.rowHeight,y=this.getVScrollPosition(),g=this.heightScaler.getDivStretchOffset(),v=y.top+g,m=y.bottom+g,w=m-v,E=this.heightScaler.getScrollPositionForPixel(f),P=this.heightScaler.getScrollPositionForPixel(C-w),A=Math.min((E+P)/2,f),R=v+s>f,T=m-a<C;let b=null;t==="top"?b=E:t==="bottom"?b=P:t==="middle"?b=A:R?b=E-s:T&&(b=P+a),b!==null&&(this.setVerticalScrollPosition(b),this.rowRenderer.redraw({afterScroll:!0})),c=d!==l.rowTop||h!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const n=this.columnModel.getCol(e);if(!n||n.isPinned()||!this.visibleColsService.isColDisplayed(n))return;const r=this.getPositionedHorizontalScroll(n,t);this.getFrameworkOverrides().wrapIncoming(()=>{r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?n:r)||i,l=s?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:d,colRight:h}=this.getColumnBounds(e);return c?d-o/2:a?s?h:u:s?u-o:h-o}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>i:n<i,a=o?n<r:t>r;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleColsService.getBodyContainerWidth(),r=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,s=t?n-i:i,a=s+r*o,l=s+r/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},vX=class extends j{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Tp(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50);const r=this.gos.getCallback("processUnpinnedColumns");n.length&&(r&&(n=r({columns:n,viewportWidth:t})),this.columnModel.setColsPinned(n,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),n=this.pinnedWidthService.getPinnedLeftWidth(),r=t+n;if(r<e)return[];const i=[...this.visibleColsService.getLeftCols()],o=[...this.visibleColsService.getRightCols()];let s=0,a=0;const l=0,c=[];let u=r-l-e;for(;(a<i.length||s<o.length)&&u>0;){if(s<o.length){const d=o[s++];u-=d.getActualWidth(),c.push(d)}if(a<i.length&&u>0){const d=i[a++];u-=d.getActualWidth(),c.push(d)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=tP(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},CX=class extends j{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Gs(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Gs(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},yX=class extends tn{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[sP]),this.eCheckbox=Ge}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),n=XE(e,t),[r,i]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(r,i);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${n})`)}onClicked(e,t,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:t,event:n,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:r=>yu(r),click:r=>{yu(r);const i=jE(this.gos)==="filteredDescendants",o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,i)?this.onClicked(!0,i,r||{})===0&&this.onClicked(!1,i,r):o?this.onClicked(!1,i,r):this.onClicked(!0,i,r||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),$E(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&hn(this.gos)}showOrHideSelect(){var i,o,s;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(i=this.overrides)==null?void 0:i.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const n=this.gos.get("rowSelection");if(n&&typeof n!="string"?!k8(n):(o=this.column)==null?void 0:o.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((s=this.overrides)!=null&&s.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,n;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?Cu(e):(n=(t=this.column)==null?void 0:t.getColDef())==null?void 0:n.checkboxSelection}},SX=class extends tn{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Pi("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const n=()=>{try{const r=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",r),e.dataTransfer.setData("text/plain",r)}catch{}};if(t){const r=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(r)}else n()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},wX=class extends j{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,n=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,n,r=>this.cellComp.addOrRemoveCssClass(r,!0),r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const n=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),r=e.cellStyle;t=r(n)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},bX=class extends j{constructor(e,t,n,r,i){super(),this.cellCtrl=e,this.beans=t,this.rowNode=r,this.rowCtrl=i}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case U.ENTER:this.onEnterKeyDown(e);break;case U.F2:this.onF2KeyDown(e);break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.BACKSPACE:case U.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case U.DOWN:case U.UP:case U.RIGHT:case U.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:o,rangeService:s,eventService:a}=r;if(!n.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),iQ(e,o.get("enableCellEditingOnBackspace"))){if(s&&Gs(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const l=n.getColumn(),c=this.beans.valueService.getDeleteValue(l,i);i.setDataValue(l,c,"cellClear")}}else n.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?U.UP:U.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(U.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(U.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const r=e.key;r===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(r,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&pm(t)){const n=this.rowNode.isSelected(),r=!n,i=jE(t)==="filteredDescendants",o=this.rowNode.setSelectedParams({newValue:r,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"});n===void 0&&o===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},RX=class extends j{constructor(e,t,n){super(),this.cellCtrl=e,this.beans=t,this.column=n}onMouseEvent(e,t){if(!As(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:n,gos:r}=this.beans,i=e.ctrlKey||e.metaKey;n&&i&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const s=this.column.getColDef();s.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{s.onCellClicked(o)})},0),(r.get("singleClickEdit")||s.singleClickEdit)&&!r.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Va()||mN("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventService:i,frameworkOverrides:o,gos:s}=n,a=t.getColDef(),l=r.createEvent(e,"cellDoubleClicked");i.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&r.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:o,beans:s}=this,{eventService:a,rangeService:l,focusService:c,gos:u}=s;if(this.isRightClickInExistingRange(e))return;const d=l&&l.getCellRanges().length!=0;if(!r||!d){const p=u.get("enableCellTextSelection")&&e.defaultPrevented,f=(ss()||p)&&!o.isEditing()&&!eP(i);o.focusCell(f)}if(r&&d&&!c.isCellFocused(o.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:p,rowIndex:f,rowPinned:C}=h,y=s.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:C}),g=y==null?void 0:y.getCellCtrl(p);g!=null&&g.isEditing()&&g.stopEditing(),c.setFocusedCell({column:p,rowIndex:f,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(i)){if(l){const h=this.cellCtrl.getCellPosition();if(r)l.extendLatestRangeToCell(h);else{const p=t||n;l.setRangeToCell(h,p)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),r=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&r)return!0}return!1}containsWidget(e){return Jc(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}destroy(){super.destroy()}},EX=class extends j{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Ga(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let n=this.column;const r=this.column.getPinned();for(let i=0;n&&i<e&&(t.push(n),n=this.beans.visibleColsService.getColAfter(n),!(!n||Pt(n)||r!==n.getPinned()));i++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Et(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=this.beans.visibleColsService.getBodyContainerWidth();return t+n+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=vl(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},dd="ag-cell-range-selected",PX="ag-cell-range-chart",TX="ag-cell-range-single-cell",AX="ag-cell-range-chart-category",IX="ag-cell-range-handle",xX="ag-cell-range-top",DX="ag-cell-range-right",FX="ag-cell-range-bottom",OX="ag-cell-range-left",MX=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(dd,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${dd}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${dd}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${dd}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${dd}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(PX,this.hasChartRange),ym(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(TX,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,r=!t&&e.right,i=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass(xX,n),this.cellComp.addOrRemoveCssClass(DX,r),this.cellComp.addOrRemoveCssClass(FX,i),this.cellComp.addOrRemoveCssClass(OX,o)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(n=>Cl([1,0],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,n=!1,r=!1,i=!1;const o=this.cellCtrl.getCellPosition().column,s=this.beans.visibleColsService;let a,l;e?(a=s.getColAfter(o),l=s.getColBefore(o)):(a=s.getColBefore(o),l=s.getColAfter(o));const c=this.rangeService.getCellRanges().filter(u=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),u));a||(i=!0),l||(n=!0);for(let u=0;u<c.length&&!(t&&n&&r&&i);u++){const d=c[u],h=this.rangeService.getRangeStartRow(d),p=this.rangeService.getRangeEndRow(d);!t&&this.beans.rowPositionUtils.sameRow(h,this.cellCtrl.getCellPosition())&&(t=!0),!r&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(r=!0),!i&&a&&d.columns.indexOf(a)<0&&(i=!0),!n&&l&&d.columns.indexOf(l)<0&&(n=!0)}return{top:t,right:n,bottom:r,left:i}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(IX,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),n=t.length;if(this.rangeCount<1||n<1)return!1;const r=Et(t),i=this.cellCtrl.getCellPosition(),o=Hx(e)&&!this.cellCtrl.isSuppressFillHandle(),s=B8(e);let a=n===1&&!this.cellCtrl.isEditing()&&(o||s);if(this.hasChartRange){const c=t[0].type===1&&this.rangeService.isCellInSpecificRange(i,t[0]);this.cellComp.addOrRemoveCssClass(AX,c),a=r.type===0}return a&&r.endRow!=null&&this.rangeService.isContiguousRange(r)&&this.rangeService.isBottomRightCell(r,i)}addSelectionHandle(){const e=Et(this.rangeService.getCellRanges()).type,n=Hx(this.beans.gos)&&Pt(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},kX="ag-cell",LX="ag-cell-auto-height",NX="ag-cell-normal-height",_X="ag-cell-focus",BX="ag-cell-first-right-pinned",HX="ag-cell-last-left-pinned",GX="ag-cell-not-inline-editing",VX="ag-column-hover",WX="ag-cell-wrap-text",UX=0,E_=class eb extends j{constructor(t,n,r,i){super(),this.column=t,this.rowNode=n,this.beans=r,this.rowCtrl=i,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+UX++,this.colIdSanitised=ns(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new EX(this,this.beans),this.cellCustomStyleFeature=new wX(this,this.beans),this.cellMouseListenerFeature=new RX(this,this.beans,this.column),this.cellKeyboardListenerFeature=new bX(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Gs(this.beans.gos)&&(this.cellRangeFeature=new MX(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,n){const r=()=>{const s=this.column.getColDef(),a=this.rowNode.data;if(s.tooltipField&&ce(a))return th(a,s.tooltipField,this.column.isTooltipFieldContainsDots());const l=s.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},i=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!n&&i&&!this.isCellRenderer()&&(n=()=>{const s=this.getGui(),a=s.children.length===0?s:s.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n};this.tooltipFeature=new Gu(o,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,n,r,i,o,s){var a,l,c,u;this.cellComp=t,this.eGui=n,this.printLayout=i,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(n),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(c=this.tooltipFeature)==null||c.refreshToolTip(),(u=this.cellKeyboardListenerFeature)==null||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,n),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(d=>d()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,n){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const r=t.parentElement,i=Fa(this.beans.gos,this.rowNode).height,o=l=>{if(this.editing||!this.isAlive()||!n.isAlive())return;const{paddingTop:c,paddingBottom:u,borderBottomWidth:d,borderTopWidth:h}=$l(r),p=c+u+d+h,C=t.offsetHeight+p;if(l<5){const g=Ln(this.beans.gos),v=!g||!g.contains(t),m=C==0;if(v||m){window.setTimeout(()=>o(l+1),0);return}}const y=Math.max(C,i);this.rowNode.setRowAutoHeight(y,this.column)},s=()=>o(0);s();const a=this.beans.resizeObserverService.observeResize(t,s);n.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var h;const{beans:n,column:r,rowNode:i,cellRangeFeature:o,cellComp:s}=this,{userComponentFactory:a,animationFrameService:l}=n,c=this.getValueToDisplay();let u;if(i.stub&&((h=i.groupData)==null?void 0:h[this.column.getId()])==null){const p=this.createCellRendererParams();u=a.getLoadingCellRendererDetails(r.getColDef(),p)}else if(this.isCellRenderer()){const p=this.createCellRendererParams();u=a.getCellRendererDetails(r.getColDef(),p)}s.setRenderDetails(u,c,t),l.requestAnimationFrame(()=>o==null?void 0:o.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:n}=this.beans.gridOptions;return t.checkboxSelection||Rp(this.column)&&n&&typeof n!="string"&&Cu(n)}refreshShouldDestroy(){const t=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),r=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),i=this.includeDndSource!=this.isIncludeControl(t.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return n||r||i||o}startEditing(t=null,n=!1,r=null){const{editService:i}=this.beans;return!this.isCellEditable()||this.editing||!i?!0:this.cellComp?i.startEditing(this,t,n,r):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,n,r)}),!0)}setEditing(t,n){this.editCompDetails=n,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:n}=this.beans;return!this.editing||!n?!1:n.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,r,i,o)=>this.registerRowDragger(n,r,o),setTooltip:(n,r)=>{var i;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,r),(i=this.tooltipFeature)==null||i.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)==null||n.recreateCell(this):this.refreshCell(t)}refreshCell(t){var u,d,h,p,f;if(this.suppressRefreshCell||this.editing)return;const n=this.column.getColDef(),r=t!=null&&!!t.newData,i=t!=null&&!!t.suppressFlash||!!n.suppressCellFlash,o=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,s=t&&t.forceRefresh||o||r,a=!!this.cellComp,l=this.updateAndFormatValue(a),c=s||l;if(a){if(c){this.showValue(r);const C=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!i&&!C&&(this.beans.gos.get("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),(d=this.cellCustomStyleFeature)==null||d.applyUserStyles(),(h=this.cellCustomStyleFeature)==null||h.applyClassesFromColDef()}(p=this.tooltipFeature)==null||p.refreshToolTip(),(f=this.cellCustomStyleFeature)==null||f.applyCellClassRules()}}stopEditingAndFocus(t=!1,n=!1){var r;(r=this.beans.editService)==null||r.stopEditingAndFocus(this,t,n)}flashCell(t){const n=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),r=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",n,r)}animateCell(t,n,r){if(!this.cellComp)return;const{gos:i}=this.beans;if(n||(n=i.get("cellFlashDuration")),n===0)return;ce(r)||(r=i.get("cellFadeDuration"));const o=`ag-cell-${t}`,s=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(o,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},r))},n)})}onFlashCells(t){if(!this.cellComp)return;const n=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const n=this.value,r=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(t,n){const r=this.column.getColDef();return r.equals?r.equals(t,n):t===n}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const n=this.getGui();Ll(this.beans.gos,n,eb.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Ll(this.beans.gos,n,eb.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,n){return this.beans.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var n;(n=this.cellKeyboardListenerFeature)==null||n.processCharacter(t)}onKeyDown(t){var n;(n=this.cellKeyboardListenerFeature)==null||n.onKeyDown(t)}onMouseEvent(t,n){var r;(r=this.cellMouseListenerFeature)==null||r.onMouseEvent(t,n)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:n,beans:r}=this;p_(t,n,r.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);IN(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,n=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,n):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,n)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&to(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(BX,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(HX,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(_X,n),n&&t&&t.forceBrowserFocus){let i=this.cellComp.getFocusableElement();if(this.editing){const o=this.beans.focusService.findFocusableElements(i,null,!0);o.length&&(i=o[0])}i.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const r=this.beans.gos.get("editType")==="fullRow";!n&&!r&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ts(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(kX,!0),this.cellComp.addOrRemoveCssClass(GX,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(LX,t),this.cellComp.addOrRemoveCssClass(NX,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(VX,t)}onColDefChanged(){var n;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(n=this.beans.editService)==null||n.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(WX,t)}dispatchCellContextMenuEvent(t){const n=this.column.getColDef(),r=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(r),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new yX;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new SX(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,n,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,n);return}const i=this.createRowDragComp(t,n,r);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(t,n,r){const i=this.beans.gos.get("pagination"),o=this.beans.gos.get("rowDragManaged"),s=hn(this.beans.gos);if(o){if(!s){ee("managed row dragging is only allowed in the Client Side Row Model");return}if(i){ee("managed row dragging is not possible when doing pagination");return}}const a=new qw(()=>this.value,this.rowNode,this.column,t,n,r);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};E_.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var yl=E_,zX=0,P_=class tb extends j{constructor(t,n,r,i,o){var s;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=n,this.gos=n.gos,this.rowNode=t,this.paginationPage=((s=n.paginationService)==null?void 0:s.getCurrentPage())??0,this.useAnimationFrameForCreate=i,this.printLayout=o,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+zX++,this.rowId=ns(t.id),this.initRowBusinessKey(),this.rowFocused=n.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ns(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,n){t==="left"?this.leftGui=n:t==="right"?this.rightGui=n:t==="fullWidth"?this.fullWidthGui=n:this.centerGui=n}setComp(t,n,r,i){i=Ep(this,this.beans.context,i);const o={rowComp:t,element:n,containerType:r,compBean:i};this.allRowGuis.push(o),this.updateGui(r,o),this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(n=>n.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const n=t?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=n)}initialiseRowComp(t){const n=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),pm(n)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(o=>r.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Cm(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),Ll(n,t.element,tb.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Ll(n,t.element,tb.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=ns(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:n}=t;this.slideInAnimation[n]&&(_x(()=>{this.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(_x(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)}addRowDraggerToRow(t){if(Gs(this.gos)){ee("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const n=this.beans.localeService.getLocaleTextFunc(),r=new qw(()=>`1 ${n("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),i=this.createBean(r,this.beans.context);this.rowDragComps.push(i),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(o=>o!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(t){const n=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const r=this.createFullWidthCompDetails(t.element,n);t.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,n;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(r=>{var i;return(i=r==null?void 0:r.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(n=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:n.getFullWidthCellRenderer()]}getCellElement(t){const n=this.getCellCtrl(t);return n?n.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(n)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),n=!!this.centerGui,r=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&n&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),n=this.isNodeFullWidthCell(),r=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&eC(this.gos,i);t?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":n?this.rowType="FullWidth":s?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,n=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,n,r=null){const i={list:[],map:{}},o=(s,a)=>{i.list.push(a),i.map[s]=a};return n.forEach(s=>{const a=s.getInstanceId();let l=t.map[a];l||(l=new yl(s,this.rowNode,this.beans,this)),o(a,l)}),t.list.forEach(s=>{const a=s.getColumn().getInstanceId();if(i.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(s,r)){o(a,s);return}s.destroy()}),i}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(n=>{const r=this.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(r,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,n=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const r=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);const i=n.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const o=n.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}}isCellEligibleToBeRemoved(t,n){if(t.getColumn().getPinned()!=n)return!0;const s=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(s||a){const c=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||vr(this.gos,"print")}listenOnDomOrder(t){const n=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],n)}setAnimateFlags(t){if(this.isSticky()||!t)return;const n=ce(this.rowNode.oldRowTop),r=this.beans.visibleColsService.isPinningLeft(),i=this.beans.visibleColsService.isPinningRight();if(n){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,n=t(this.fullWidthGui,null),r=t(this.centerGui,null),i=t(this.leftGui,"left"),o=t(this.rightGui,"right");return n&&r&&i&&o}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(n=>n.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(n=>{const r=t===0,i=t===1;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",t),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&n),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!n),Cm(r.element,t&&n)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ts(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(n=>n.element.contains(t))}onKeyboardNavigate(t){const n=this.findFullWidthRowGui(t.target);if(!((n?n.element:null)===t.target))return;const o=this.rowNode,s=this.beans.focusService.getFocusedCell(),a={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(s==null?void 0:s.column)??this.getColumnForFullWidth(n)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||As(t))return;const n=this.allRowGuis.find(l=>l.element.contains(t.target)),r=n?n.element:null,i=r===t.target,o=Pn(this.gos);let s=!1;r&&o&&(s=r.contains(o)&&o.classList.contains("ag-cell"));let a=null;!i&&!s&&(a=this.beans.focusService.findNextFocusableElement(r,!1,t.shiftKey)),(this.isFullWidth()&&i||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var n;const t=(n=this.allRowGuis.find(r=>as(r.element)))==null?void 0:n.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const n=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(r=>{to(r.element,"tabindex",n)})}onFullWidthRowFocused(t){var o;const n=this.rowNode,r=t?this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned:!1,i=this.fullWidthGui?this.fullWidthGui.element:(o=this.centerGui)==null?void 0:o.element;i&&(i.classList.toggle("ag-full-width-focus",r),r&&(t!=null&&t.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,n){const r={list:[],map:{}};return t.list.forEach(i=>{i!==n&&(r.list.push(i),r.map[i.getColumn().getInstanceId()]=i)}),r}onMouseEvent(t,n){switch(t){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}}createRowEvent(t,n){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})}createRowEventWithSource(t,n){const r=this.createRowEvent(t,n);return r.source=this,r}onRowDblClick(t){As(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:n}=this.beans;switch(t==null?void 0:t.containerType){case"center":return n.getCenterCols()[0];case"left":return n.getLeftCols()[0];case"right":return n.getRightCols()[0];default:return n.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Jc(t.target,"ag-row-drag",3),!this.isFullWidth())return;const n=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const r=this.findFullWidthRowGui(t.target),i=r==null?void 0:r.element,o=t.target;let s=!0;i&&i.contains(o)&&eP(o)&&(s=!1),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:this.getColumnForFullWidth(r),rowPinned:n.rowPinned,forceBrowserFocus:s})}onRowClick(t){if(As(t)||this.lastMouseDownOnDragger)return;const{gos:r}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const i=t.ctrlKey||t.metaKey,o=t.shiftKey,s=this.rowNode.isSelected(),a=Nl(r),l=Gx(r),c=H8(r);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!c&&!s||!l&&s)return;const u=G8(r),d="rowClicked";if(s)u?this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):i?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):c&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t,source:d});else{const h=u?!1:!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:h,rangeSelect:o,event:t,source:d})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!pm(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const n=()=>{const i=t.clientHeight;if(i!=null&&i>0){const o=()=>{this.rowNode.setRowHeight(i),(hn(this.gos)||cs(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(o,0)}},r=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(r),n()}createFullWidthCompDetails(t,n){const{gos:r,rowNode:i}=this,o=r.addGridCommonParams({fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:t,eParentOfValue:t,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,u)=>this.addFullWidthRowDragging(a,l,c,u),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),s=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return s.getFullWidthDetailCellRendererDetails(o);case"FullWidthGroup":return s.getFullWidthGroupCellRendererDetails(o);case"FullWidthLoading":return s.getFullWidthLoadingCellRendererDetails(o);default:return s.getFullWidthCellRendererDetails(o)}}refreshRowTooltip(t,n){if(!this.fullWidthGui)return;const r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Gu(r,this.beans))}addFullWidthRowDragging(t,n,r="",i){if(!this.isFullWidth())return;const o=new qw(()=>r,this.rowNode,void 0,t,n,i);this.createBean(o,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(o,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const n="ag-row-level-"+t,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(n,!0),i.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",n)))}stopEditing(t=!1){var n;this.stoppingRowEdit||(n=this.beans.rowEditService)==null||n.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(n=>n.isEditing());this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,n=null,r=null){var i;return this.editingRow?!0:((i=this.beans.rowEditService)==null?void 0:i.startEditing(this,t,n,r))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(n=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,n){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const n=this.getPinnedForContainer(t),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){ee("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const n=this.gos.getCallback("getRowStyle");let r;if(n){const i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=n(i)}return r||t?Object.assign({},t,r):this.emptyStyle}onRowSelected(t){const n=!!this.rowNode.isSelected();this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",n),ym(r.element,n),r.element.contains(Pn(this.gos))&&(r===this.centerGui||r===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!Gx(this.gos))return;const r=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:n,compBean:r}=t,{rowNode:i,beans:o,gos:s}=this;r.addManagedListeners(n,{mouseenter:()=>i.onMouseEnter(),mouseleave:()=>i.onMouseLeave()}),r.addManagedListeners(i,{mouseEnter:()=>{!o.dragService.isDragging()&&!s.get("suppressRowHoverHighlight")&&(n.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{n.classList.remove("ag-row-hover"),i.setHovered(!1)}})}roundRowTopToBounds(t){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(n.top,!0)-100,i=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(r,t),i)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,n){t?n(t):this.allRowGuis.forEach(n)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const n=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),o=oN(this.gos)?Fa(this.gos,this.rowNode).height:void 0,s=o?`${Math.min(r,o)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${n}px`,s&&a.element.style.setProperty("--ag-line-height",s)})}addEventListener(t,n){super.addEventListener(t,n)}removeEventListener(t,n){super.removeEventListener(t,n)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Xc(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventService.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=n=>(n.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var n;const t=((n=this.beans.paginationService)==null?void 0:n.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,n=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const r=this.beans.pageBoundsService.getPixelOffset();return t+r*(n?1:-1)}setRowTop(t){if(!this.printLayout&&ce(t)){const n=this.applyPaginationOffset(t),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}px`;this.setRowTopStyle(o)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const n=this.rowNode;let r;if(this.isSticky())r=n.stickyRowTop;else{const i=this.slideInAnimation[t]?this.roundRowTopToBounds(n.oldRowTop):n.rowTop,o=this.applyPaginationOffset(i);r=n.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return r+"px"}setRowTopStyle(t){this.allRowGuis.forEach(n=>this.suppressRowTransform?n.rowComp.setTop(t):n.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let n=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==t&&(n=r)}),n!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(t)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var s;const n=this.rowNode.getRowIndexString();if(n===null)return;const r=this.beans.headerNavigationService.getHeaderRowCount()+(((s=this.beans.filterManager)==null?void 0:s.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,o=r+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),A9(a.element,o)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};P_.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Sl=P_,$X=class extends j{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",mN("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||As(t))return;const n=this.getRowForEvent(t),r=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,n,r):(r&&r.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Va())return;const e=new ba(this.element),t=n=>{const r=this.getRowForEvent(n.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(void 0,n.touchEvent,r,i)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const n=jh(this.gos,t,Sl.DOM_DATA_KEY_ROW_CTRL);if(n)return n;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,n,r){const i=n?n.getRowNode():null,o=r?r.getColumn():null;let s=null;if(o){const c=e||t;r.dispatchCellContextMenuEvent(c??null),s=this.valueService.getValue(o,i)}const a=this.ctrlsService.getGridBodyCtrl(),l=r?r.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:i,column:o,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Hw(this.gos,e,yl.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Hw(this.gos,e,Sl.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=e.getRowNode(),i=e.getColumn(),o=e.isEditing();!Yw(this.gos,n,r,i,o)&&t==="keydown"&&(!o&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),n_(n)&&e.processCharacter(n)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const r=e.getRowNode(),i=this.focusService.getFocusedCell(),o=i&&i.column;if(!Yw(this.gos,n,r,o,!1)){const a=n.key;if(t==="keydown")switch(a){case U.PAGE_HOME:case U.PAGE_END:case U.PAGE_UP:case U.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case U.UP:case U.DOWN:e.onKeyboardNavigate(n);break;case U.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const n=rQ(e);if(n===U.A)return this.onCtrlAndA(e);if(n===U.C)return this.onCtrlAndC(e);if(n===U.D)return this.onCtrlAndD(e);if(n===U.V)return this.onCtrlAndV(e);if(n===U.X)return this.onCtrlAndX(e);if(n===U.Y)return this.onCtrlAndY();if(n===U.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:n,rangeService:r}=this;if(r&&n.isRowsToRender()){const[i,o]=[t.isEmpty("top"),t.isEmpty("bottom")],s=i?null:"top";let a,l;o?(a=null,l=n.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(xi(c))return;r.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:Et(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},jX=class extends j{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;En(this.element,t),Io(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},KX=class extends j{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;En(this.element,t),Io(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Af=e=>e.getTopRowCtrls(),If=e=>e.getStickyTopRowCtrls(),xf=e=>e.getStickyBottomRowCtrls(),Df=e=>e.getBottomRowCtrls(),Ff=e=>e.getCentreRowCtrls(),qX={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Ff},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Ff},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Ff},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Ff},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Af},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Af},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Af},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Af},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:If},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:If},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:If},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:If},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:xf},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:xf},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:xf},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:xf},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Df},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Df},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Df},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Df}};function _c(e){return qX[e]}var YX=["topCenter","topLeft","topRight"],QX=["bottomCenter","bottomLeft","bottomRight"],XX=["center","left","right"],JX=["center","left","right","fullWidth"],ZX=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],eJ=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],tJ=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],T_=["stickyTopCenter","stickyTopLeft","stickyTopRight"],A_=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],nJ=[...T_,"stickyTopFullWidth",...A_,"stickyBottomFullWidth"],rJ=[...YX,...QX,...XX,...T_,...A_],iJ=class extends j{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=_c(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new vX(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,n){this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new $X(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const r=()=>this.onPinnedWidthChanged();this.forContainers(eJ,()=>{this.pinnedWidthFeature=this.createManagedBean(new jX(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:r})}),this.forContainers(tJ,()=>{this.pinnedWidthFeature=this.createManagedBean(new KX(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:r})}),this.forContainers(JX,()=>this.createManagedBean(new R_(this.eContainer,this.name==="center"?n:void 0))),this.forContainers(rJ,()=>this.createManagedBean(new CX(this.eContainer))),this.forContainers(ZX,()=>this.createManagedBean(new mP(i=>this.comp.setContainerWidth(`${i}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(nJ.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=vr(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Tp(this.eViewport)}getCenterViewportScrollLeft(){return bm(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return NN(this.eViewport)}getViewportScrollLeft(){return bm(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||H9(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Rm(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=vr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,o=t.filter(s=>{const a=s.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},oJ="ag-force-vertical-scroll",sJ="ag-selectable",aJ="ag-column-moving",lJ=class extends j{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,n,r,i,o,s){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${_c("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${_c("fullWidth").container}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${_c("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${_c("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new CP(this.comp)),this.bodyScrollFeature=this.createManagedBean(new mX(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,o,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(r),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=Jc(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,o=t.contains(i),s=Jc(i,"ag-root",t);Jc(r,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(aJ,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(sJ,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=ON()?16:0,r=`calc(100% + ${t+n}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=n=>{const r=n.relatedTarget;if(jw(r)===null){this.rowRenderer.stopEditing();return}let i=t.some(o=>o.contains(r))&&this.mouseEventService.isElementInThisGrid(r);if(!i){const o=this.popupService;i=o.getActivePopups().some(s=>s.contains(r))||o.isElementWithinCustomPopup(r)}i||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(n=>this.addManagedElementListeners(n,{focusout:e}))}updateRowCount(){var r;const e=this.headerNavigationService.getHeaderRowCount()+(((r=this.filterManager)==null?void 0:r.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=t===-1?-1:e+t;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?oJ:null,n=vr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&G9(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const n=e&&Xc(this.gos)&&!this.rowContainerHeightService.isStretching(),r=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,n)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e,i=r||Math.abs(t)>Math.abs(n),o=e.target;i?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Va())return;const t=new ba(this.eBodyViewport),n=r=>{e(void 0,r.touchStart,r.touchEvent)};this.addManagedListeners(t,{longTap:n}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new N7(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),n=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var i;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),n=this.pinnedRowModel.getPinnedTopTotalHeight();let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),n=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,r=e+n;this.comp.setStickyBottomBottom(`${r}px`)}sizeColumnsToFit(e,t){const r=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,o=Tp(this.eGridBody)-r;if(o>0){this.columnSizeService.sizeColumnsToFit(o,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):ee("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function hd(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${hd(["topLeft","topCenter","topRight","topFullWidth"])}${hd(["left","center","right","fullWidth"])}${hd(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${hd(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${hd(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var cJ=class extends j{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:N9();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},tD="__ag_grid_instance",I_=class x_ extends j{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=x_.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[tD]=this.gridInstanceId}getRenderedCellForEvent(t){return Hw(this.gos,t.target,yl.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let n=t;for(;n;){const r=n[tD];if(ce(r))return r===this.gridInstanceId;n=n.parentElement}return!1}getCellPositionForEvent(t){const n=this.getRenderedCellForEvent(t);return n?n.getCellPosition():null}getNormalisedPosition(t){const n=vr(this.gos,"normal"),r=t;let i,o;if(r.clientX!=null||r.clientY!=null?(i=r.clientX,o=r.clientY):(i=r.x,o=r.y),n){const s=this.ctrlsService.getGridBodyCtrl(),a=s.getScrollFeature().getVScrollPosition(),l=s.getScrollFeature().getHScrollPosition();i+=l.left,o+=a.top}return{x:i,y:o}}};I_.gridInstanceSequence=new wu;var uJ=I_,dJ=class extends j{constructor(){super(),this.beanName="navigationService",this.onPageDown=Bx(this.onPageDown,100),this.onPageUp=Bx(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(n){case U.PAGE_HOME:case U.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:if(!s)return!1;i&&!r&&!o&&(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case U.PAGE_DOWN:case U.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.focusService.getFocusedCell()),t?(e===U.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var s;const{scrollIndex:t,scrollType:n,scrollColumn:r,focusIndex:i,focusColumn:o}=e;ce(r)&&!r.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),ce(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:o,rowPinned:null,forceBrowserFocus:!0}),(s=this.rangeService)==null||s.setRangeToCell({rowIndex:i,rowPinned:null,column:o})}onPageDown(e){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.getViewportHeight(),i=this.pageBoundsService.getPixelOffset(),o=n.top+r,s=this.rowModel.getRowIndexAtPixel(o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s):this.navigateToNextPage(e,s)}onPageUp(e){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.pageBoundsService.getPixelOffset(),i=n.top,o=this.rowModel.getRowIndexAtPixel(i+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,t,n=!1){const r=this.getViewportHeight(),i=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow(),s=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=n?(a==null?void 0:a.rowHeight)-r-s:r-s,c=(a==null?void 0:a.rowTop)+l;let u=this.rowModel.getRowIndexAtPixel(c+s);if(u===e.rowIndex){const h=n?-1:1;t=u=e.rowIndex+h}let d;n?(d="bottom",u<i&&(u=i),t<i&&(t=i)):(d="top",u>o&&(u=o),t>o&&(t=o)),this.isRowTallerThanView(u)&&(t=u,d="top"),this.navigateTo({scrollIndex:t,scrollType:d,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),i=this.pageBoundsService.getLastRow();let o=0,s=e.rowIndex;for(;s>=0&&s<=i;){const a=this.rowModel.getRow(s);if(a){const l=a.rowHeight??0;if(o+l>r)break;o+=l}s+=n}return Math.max(0,Math.min(s,i))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let n=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(n-=t),n}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const n=t.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:r}=n,i=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}onHomeOrEndKey(e){const t=e===U.PAGE_HOME,n=this.visibleColsService.getAllCols(),r=t?n[0]:Et(n),i=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t);if(r!==!1){r?t.preventDefault():r===null&&this.focusService.allowFocusForNextGridCoreContainer(n);return}if(n){const{rowIndex:i,rowPinned:o}=e.getRowPosition();(o?i===0:i===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof yl&&e.focusCell(!0),(!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.focusService.getFocusedCell();if(!n)return!1;let r=this.getCellByPosition(n);return!r&&(r=this.rowRenderer.getRowByPosition(n),!r||!r.isFullWidth())?!1:!!this.tabToNextCellCommon(r,e,t)}tabToNextCellCommon(e,t,n){let r=e.isEditing();if(!r&&e instanceof yl){const s=e.getRowCtrl();s&&(r=s.isEditing())}let i;return r?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,n):i=this.moveToNextEditingCell(e,t,n):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,n=null){const r=e.getCellPosition();e.getGui().focus(),e.stopEditing();const i=this.findNextCellToFocusOn(r,t,!0);return i===!1?null:i==null?!1:(i.startEditing(null,!0,n),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const r=e.getCellPosition(),i=this.findNextCellToFocusOn(r,t,!0);if(i===!1)return null;if(i==null)return!1;const o=i.getCellPosition(),s=this.isCellEditable(r),a=this.isCellEditable(o),l=o&&r.rowIndex===o.rowIndex&&r.rowPinned===o.rowPinned;return s&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),i.getRowCtrl().startRowEditing(void 0,void 0,n)),a?(i.setFocusInOnEditor(),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.visibleColsService.getAllCols();let r;e instanceof Sl?r={...e.getRowPosition(),column:t?n[0]:Et(n)}:r=e.getCellPosition();const i=this.findNextCellToFocusOn(r,t,!1);if(i===!1)return null;if(i instanceof yl)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return ce(i)}findNextCellToFocusOn(e,t,n){var i;let r=e;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,t);const o=this.gos.getCallback("tabToNextCell");if(ce(o)){const c=o({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(c===!0||c===null)c===null&&ee("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),r=e;else{if(c===!1)return!1;r={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+r.rowIndex,column:r.column},fromCell:!0}),null}const s=this.gos.get("editType")==="fullRow";if(n&&!s&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const a=this.getCellByPosition(r);if(!a){const l=this.rowRenderer.getRowByPosition(r);if(!l||!l.isFullWidth()||n)continue;return l}if(!a.isSuppressNavigable())return(i=this.rangeService)==null||i.setRangeToCell(r),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,n,r){let i=n,o=!1;for(;i&&(i===n||!this.isValidNavigateCell(i));)this.gos.get("enableRtl")?t===U.LEFT&&(i=this.getLastCellOfColSpan(i)):t===U.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),o=Pt(i);if(o&&e&&e.key===U.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const a=this.gos.getCallback("navigateToNextCell");if(ce(a)){const c=a({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});ce(c)?i={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:i=null}}if(!i)return;if(i.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const s=this.getNormalisedPosition(i);s?this.focusPosition(s):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const n=this.visibleColsService.getAllCols(),r=this.rowRenderer.getRowByPosition(e);if(!r||!r.isFullWidth())return!1;const i=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Et(n):n[0])};this.focusPosition(o);const s=t??(i!=null&&this.rowPositionUtils.before(o,i));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,fromBelow:s}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Et(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Zv(this.gos),n=this.rowModel.getRow(e.rowIndex);!(t&&(n==null?void 0:n.sticky))&&Pt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},hJ=class extends j{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},pJ=class extends j{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,n){this.showPopup(e,r=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,n){let r=-1,i="left";const o=this.menuService.isLegacyMenuEnabled();!o&&this.gos.get("enableRtl")&&(r=1,i="right");const s=o?void 0:4*r,a=o?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:n,eventSource:t,ePopup:l,nudgeX:s,nudgeY:a,alignSide:i,keepWithinBounds:!0,position:"under",column:e})},n,t,o)}showPopup(e,t,n,r,i){const o=e?this.createBean(new W7(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");Fo(s,"presentation"),s.classList.add("ag-menu"),i||s.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(s,{keydown:f=>this.trapFocusWithin(f,s)}),s.appendChild(o==null?void 0:o.getGui());let a;const l=()=>o==null?void 0:o.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?r??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=f=>{e.setMenuVisible(!1,"contextMenu");const C=f instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&r&&as(r)){const y=this.focusService.findTabbableParent(r);y&&y.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e)},d=this.localeService.getLocaleTextFunc(),h=i&&n!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),p=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(s),anchorToElement:c,ariaLabel:h});p&&(this.hidePopup=a=p.hideFunc),o.afterInit().then(()=>{t(s),o.afterGuiAttached({container:n,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==U.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},fJ=class extends j{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const r=sN(this.gos).ResizeObserver,i=r?new r(t):null;return i==null||i.observe(e),()=>i==null?void 0:i.disconnect()}},gJ=class extends j{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var n;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const r=((n=this.paginationService)==null?void 0:n.getCurrentPage())??0;r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&ee(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,n){this.verifyAnimationFrameOn(n);const r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,r=this.createTasksP2,i=r.list,o=this.destroyTasks,s=new Date().getTime();let a=new Date().getTime()-s;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let d;if(n.length)this.sortTaskList(t),d=n.pop().task;else if(i.length)this.sortTaskList(r),d=i.pop().task;else if(o.length)d=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(d)||d()}a=new Date().getTime()-s}n.length||i.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=sN(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},mJ=class extends j{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=hn(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(n=>{n.id&&t.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:n})=>{t&&n&&e.push(n)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,n,r){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,n,r),e.setExpanded(t,void 0,r))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},vJ=class extends j{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,n)}getContextMenuPosition(e,t){const n=this.getRowCtrl(e),r=this.getCellGui(n,t);if(!r)return n?{x:0,y:n.getRowYPosition()}:{x:0,y:0};const i=r.getBoundingClientRect();return{x:i.x+i.width/2,y:i.y+i.height/2}}showContextMenu(e){var o;const t=e.rowNode,n=e.column;let{anchorToElement:r,value:i}=e;t&&n&&i==null&&(i=this.valueService.getValueForDisplay(n,t)),r==null&&(r=this.getContextMenuAnchorElement(t,n)),(o=this.contextMenuFactory)==null||o.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,n??null,i,r)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:n}=e.getColDef();return!(n??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Oa(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Va()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var r;const t=e.getColDef(),n=(r=t.floatingFilterComponentParams)==null?void 0:r.suppressFilterButton;return n!=null&&ee("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!n:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,n,r){const{positionBy:i}=t,o=t.column;if(i==="button"){const{buttonElement:s}=t;e.showMenuAfterButtonClick(o,s,n,r)}else if(i==="mouse"){const{mouseEvent:s}=t;e.showMenuAfterMouseEvent(o,s,n,r)}else o&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const s=(a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(o);s&&e.showMenuAfterButtonClick(o,s.getAnchorElementForMenu(r),n,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:n}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n})||void 0}getCellGui(e,t){if(!e||!t)return;const n=e.getCellCtrl(t);return(n==null?void 0:n.getGui())||void 0}getContextMenuAnchorElement(e,t){const n=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),r=this.getRowCtrl(e);if(!r)return n;const i=this.getCellGui(r,t);return i||(r.isFullWidth()?r.getFullWidthElement():n)}},CJ=class extends dl{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},yJ={selector:"AG-INPUT-TEXT-AREA",component:CJ},SJ=class extends Vu{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[yJ]),this.eTextArea=Ge}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ce(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===U.LEFT||t===U.UP||t===U.RIGHT||t===U.DOWN||e.shiftKey&&t===U.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!ce(e)&&!ce(this.params.value)?this.params.value:this.params.parseValue(e)}},wJ=class extends Vu{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Ll(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{Yw(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},bJ=class extends Vu{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[Y7]),this.eSelect=Ge,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:n,gos:r}=this,{values:i,value:o,eventKey:s}=e;if(Pt(i)){ee("no values found for select cellEditor");return}this.startedByEnter=s!=null?s===U.ENTER:!1;let a=!1;i.forEach(d=>{const h={value:d},p=n.formatValue(e.column,null,d),f=p!=null;h.text=f?p:d,t.addOption(h),a=a||o===d}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},oC=class extends Vu{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Ge}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:r}=e,i=this.eInput;this.cellEditorInput.init(i,e);let o,s=!0;t?(this.focusAfterAttached=!0,n===U.BACKSPACE||n===U.DELETE?o="":n&&n.length===1?r?s=!1:o=n:(o=this.cellEditorInput.getStartValue(),n!==U.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),s&&o!=null&&i.setStartValue(o),this.addManagedElementListeners(i.getGui(),{keydown:a=>{const{key:l}=a;(l===U.PAGE_UP||l===U.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var r,i;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;ss()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(i=(r=this.cellEditorInput).setCaret)==null||i.call(r)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},RJ=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[rC]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!ce(e)&&!ce(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=ce(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},D_=class extends oC{constructor(){super(new RJ)}},EJ=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[oQ]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const n=e.getInputElement();t.preventStepping?e.addManagedElementListeners(n,{keydown:this.preventStepping}):t.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===U.UP||e.key===U.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!ce(e)&&!ce(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){ss()&&this.eInput.getInputElement().focus({preventScroll:!0})}},PJ=class extends oC{constructor(){super(new EJ)}},TJ=class extends Kl{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=ss();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Pn(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?no(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,to(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?no(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,to(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,to(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return ii(this.getValue())??void 0}setDate(e,t){this.setValue(no(e??null,!1),t)}},F_={selector:"AG-INPUT-DATE-FIELD",component:TJ},AJ=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[F_]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!ce(e)&&!ce(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return no(e,!1)}},IJ=class extends oC{constructor(){super(new AJ)}},xJ=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[F_]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!ce(e)&&!ce(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return no(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ii(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):no(e??null,!1)??void 0}},DJ=class extends oC{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new xJ(()=>this.dataTypeService))}},FJ=class extends Vu{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[sP]),this.eCheckbox=Ge}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),n=XE(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${r} (${n})`)}},Fd=class{constructor(e){this.cellValueChanges=e}},Py=class extends Fd{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},OJ=10,nD=class{constructor(e){this.actionStack=[],this.maxStackSize=e||OJ,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},MJ=class extends j{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),r=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:c}=e,u={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new nD(e),this.redoStack=new nD(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,n,r,i){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,s=>s[r],i),o instanceof Py?this.processRange(this.rangeService,o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:o,columnId:s}=r,a={rowIndex:i,rowPinned:o},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(s,t(r),n)})}processRange(e,t){let n;e.removeAllCellRanges(!0),t.forEach((r,i)=>{if(!r)return;const o=r.startRow,s=r.endRow;i===t.length-1&&(n={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(n));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:r.startColumn,columns:r.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},o=this.rowPositionUtils.getRowNode(i),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:n,columnId:r,rowPinned:i}=e,o=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getCol(r);if(!s)return;o.ensureIndexVisible(n),o.ensureColumnVisible(s);const a={rowIndex:n,column:s,rowPinned:i};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Fd(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Fd(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Fd(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Py(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&Gs(this.gos)?e=new Py(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Fd(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function kJ(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function LJ(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function O_(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function M_(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function NJ(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function _J(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function BJ(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function HJ(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(rh)}function GJ(e){return e.rowRenderer.getEditingCells()}function VJ(e,t=!1){e.rowRenderer.stopEditing(t)}function WJ(e,t){const n=e.columnModel.getCol(t.colKey);if(!n){ee(`no column found for ${t.colKey}`);return}const r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&M_(e,t.rowIndex),O_(e,t.colKey);const o=e.navigationService.getCellByPosition(r);if(!o)return;const{focusService:s,gos:a}=e,l=()=>{const u=Pn(a),d=o.getGui();return u!==d&&!!(d!=null&&d.contains(u))},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!s.isCellFocused(r))&&s.setFocusedCell({...r,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),o.startRowOrCellEdit(t.key)}function UJ(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function zJ(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var $J=class extends j{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,n=!1,r=null){var c;const i=this.createCellEditorParams(e,t,n),o=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(o,i),a=(s==null?void 0:s.popupFromSelector)!=null?s.popupFromSelector:!!o.cellEditorPopup,l=(s==null?void 0:s.popupPositionFromSelector)!=null?s.popupPositionFromSelector:o.cellEditorPopupPosition;return e.setEditing(!0,s),e.getComp().setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(r,"cellEditingStarted")),!((c=s==null?void 0:s.params)!=null&&c.suppressPreventDefault)}stopEditing(e,t){const n=e.getComp(),{newValue:r,newValueExists:i}=this.takeValueFromCellEditor(t,n),o=e.getRowNode(),s=e.getColumn(),a=this.valueService.getValueForDisplay(s,o);let l=!1;return i&&(l=this.saveNewValue(e,a,r,o,s)),e.setEditing(!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:r,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:n,cellStartedEdit:r}=e.getEditCompDetails().params,i=this.createCellEditorParams(e,n,r),o=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(o,i);t.refresh(s.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var r,i;return(i=(r=t.getCellEditor())==null?void 0:r.focusIn)==null?void 0:i.call(r)}))}stopEditingAndFocus(e,t=!1,n=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(n,e.getCellPosition())}createPopupEditorWrapper(e){return new wJ(e)}takeValueFromCellEditor(e,t){const n={newValueExists:!1};if(e)return n;const r=t.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?n:{newValue:r.getValue(),newValueExists:!0}}saveNewValue(e,t,n,r,i){if(n===t)return!1;e.setSuppressRefreshCell(!0);const o=r.setDataValue(i,n,"edit");return e.setSuppressRefreshCell(!1),o}createCellEditorParams(e,t,n){const r=e.getColumn(),i=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(r,i),eventKey:t,column:r,colDef:r.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:i,data:i.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:o=>this.valueService.parseValue(r,i,o,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?U.UP:U.DOWN;this.navigationService.navigateToNextCell(null,r,t,!1)}}},jJ=class extends j{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,n=null,r=null){let i=!0;return e.getAllCellCtrls().reduce((s,a)=>{const l=a===n;return l?i=a.startEditing(t,l,r):a.startEditing(null,l,r),s?!0:a.isEditing()},!1)&&this.setEditing(e,!0),i}stopEditing(e,t=!1){const n=e.getAllCellCtrls(),r=e.isEditing();e.setStoppingRowEdit(!0);let i=!1;for(const o of n){const s=o.stopEditing(t);r&&!t&&!i&&s&&(i=!0)}i&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),r&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(n)}},ql={version:ze,moduleName:"@ag-grid-community/edit-core",beans:[$J]},KJ={version:ze,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:_J,redoCellEditing:BJ,getCellEditorInstances:HJ,getEditingCells:GJ,stopEditing:VJ,startEditingCell:WJ,getCurrentUndoSize:UJ,getCurrentRedoSize:zJ},dependantModules:[ql]},qJ={version:ze,moduleName:"@ag-grid-community/undo-redo-edit",beans:[MJ],dependantModules:[ql]},YJ={version:ze,moduleName:"@ag-grid-community/full-row-edit",beans:[jJ],dependantModules:[ql]},k_={version:ze,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:D_}],dependantModules:[ql]},QJ={version:ze,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:D_},{name:"agNumberCellEditor",classImp:PJ,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:IJ},{name:"agDateStringCellEditor",classImp:DJ},{name:"agCheckboxCellEditor",classImp:FJ}],dependantModules:[k_]},XJ={version:ze,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:bJ}],dependantModules:[ql]},JJ={version:ze,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:SJ}],dependantModules:[ql]},ZJ={version:ze,moduleName:"@ag-grid-community/all-editors",dependantModules:[k_,QJ,XJ,JJ]},eZ={version:ze,moduleName:"@ag-grid-community/editing",dependantModules:[ql,qJ,YJ,ZJ,KJ]},tZ=class extends j{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.rowRenderer.getAllCellsForColumn(e);return t||r.push(n),this.addElementsToContainerAndGetWidth(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();e.forEach(o=>this.cloneItemIntoDummy(o,t)),n.appendChild(t);const r=t.offsetWidth;n.removeChild(t);const i=this.getAutoSizePadding();return r+i}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){const c=s.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}s=s.parentElement}r.appendChild(n),t.appendChild(r)}},nZ=class extends j{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=hn(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,n;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(i=(n=e.sibling.childStore)==null?void 0:n.getStoreBounds()),((i==null?void 0:i.heightPx)??0)+((i==null?void 0:i.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let r=e.footer?e.sibling:e;for(;r.isExpandable()&&r.expanded;)if(r.master)r=r.detailNode;else if(r.childrenAfterSort){if(r.childrenAfterSort.length===0)break;r=Et(r.childrenAfterSort)}return r.rowTop+r.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);const r=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,i=new Set,o=c=>{if(i.add(c),t){const u=this.getLastPixelOfGroup(c),d=r+n+c.rowHeight;u<d?c.stickyRowTop=n+(u-d):c.stickyRowTop=n}else{const u=this.getFirstPixelOfGroup(c),d=r-(n+c.rowHeight);u>d?c.stickyRowTop=n-(u-d):c.stickyRowTop=n}n=0,i.forEach(u=>{const d=u.stickyRowTop+u.rowHeight;n<d&&(n=d)})},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(s===!0||s==="grand"&&c.level===-1||s==="group"&&c.level>-1)return!1;const u=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return e==="bottom"&&u?!1:!i.has(c)}return c.isExpandable()?a===!0||e==="bottom"?!1:!i.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let u=r+n;t||(u=r-n);const d=this.rowModel.getRowIndexAtPixel(u),h=this.rowModel.getRow(d);if(h==null)break;const f=this.getStickyAncestors(h).find(y=>(t?y.rowIndex<d:y.rowIndex>d)&&l(y));if(f){o(f);continue}if((t?h.rowTop<u:h.rowTop+h.rowHeight>u)&&l(h)){o(h);continue}break}return t||i.forEach(c=>{c.stickyRowTop=n-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,i,n)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",n=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&n?!0:n?"grand":t?"group":!1}canRowsBeSticky(){const e=Zv(this.gos),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}getStickyAncestors(e){const t=[];let n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(n=>n.getRowNode()===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const r=this.stickyTopRowCtrls[n].getRowNode();r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const r=this.stickyBottomRowCtrls[n].getRowNode();r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,n){const r=e==="top",i=r?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,o={},s=[];for(let h=0;h<i.length;h++){const p=i[h].getRowNode();if(!t.has(p)){o[p.id]=i[h],p.sticky=!1;continue}s.push(i[h])}const a=new Set;for(let h=0;h<s.length;h++)a.add(s[h].getRowNode());const l=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,l.push(this.createRowCon(h,!1,!1)))});let c=!!l.length||s.length!==i.length;r?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),c=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),c=!0),this.destroyRowCtrls(o,!1);const u=[...s,...l];u.sort((h,p)=>p.getRowNode().rowIndex-h.getRowNode().rowIndex),r||u.reverse(),u.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop));let d=0;return r?(t.forEach(h=>{h.rowIndex<this.pageBoundsService.getFirstRow()&&(d+=h.rowHeight)}),d>this.topContainerHeight&&(d=this.topContainerHeight),this.setOffsetTop(d)):(t.forEach(h=>{h.rowIndex>this.pageBoundsService.getLastRow()&&(d+=h.rowHeight)}),d>this.bottomContainerHeight&&(d=this.bottomContainerHeight),this.setOffsetBottom(d)),c?(r?this.stickyTopRowCtrls=u:this.stickyBottomRowCtrls=u,!0):!1}ensureRowHeightsValid(){let e=!1;const t=n=>{const r=n.getRowNode();if(r.rowHeightEstimated){const i=Fa(this.gos,r);r.setRowHeight(i.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},rZ=class extends j{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},n=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},r=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Gs(this.gos)?n():r()}),Gs(this.gos)&&n()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),Zv(this.gos)&&(hn(this.gos)||cs(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new nZ(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=vr(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new iZ(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Ww(this.rowCtrlsByRowIndex),t=Ww(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},o=()=>{n(l=>l.onFirstRightPinnedChanged())},s=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.addEventListener("leftChanged",r),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",o),t.addEventListener("lastLeftPinnedChanged",s),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",r),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",o),t.removeEventListener("lastLeftPinnedChanged",s),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=vr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const r=n.getCellElement(e);r&&t.push(r)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:r,printLayout:i}=this,o=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));n.forEachPinnedRow(t,(a,l)=>{const c=e[l];c&&n.getPinnedRowById(c.getRowNode().id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in o?(e[l]=o[a.id],delete o[a.id]):e[l]=new Sl(a,r,!1,!1,i)});const s=t==="top"?n.getPinnedTopRowCount():n.getPinnedBottomRowCount();e.length=s}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var n;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((n=this.cachedRowCtrls)!=null&&n.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const r=i=>{const o=i[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=Pn(this.gos),r=jh(this.gos,n,yl.DOM_DATA_KEY_CELL_CTRL),i=jh(this.gos,n,Sl.DOM_DATA_KEY_ROW_CTRL);return r||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&Xc(this.gos),i=n?this.getRowsToRecycle():null;if(n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const o=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();o&&this.updateContainerHeights(o)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var r;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(r=this.stickyRowFeature)==null||r.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),o=i.length;for(let s=0;s<o;s++)e.push(i[s])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],n=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const r in this.rowCtrlsByRowIndex)n.push(this.rowCtrlsByRowIndex[r]);return n}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&jx()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var i;const t=this.getCellCtrls(e.rowNodes,e.columns).map(o=>o.getCellRenderer()).filter(o=>o!=null);if((i=e.columns)!=null&&i.length)return t;const n=[],r=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(r&&!this.isRowInMap(o.getRowNode(),r)||!o.isFullWidth())return;const s=o.getFullWidthCellRenderers();for(let a=0;a<s.length;a++){const l=s[a];l!=null&&n.push(l)}}),[...n,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{const r=n.getCellEditor();r&&t.push(r)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const n=t.getCellPosition();e.push(n)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}isRowInMap(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.getRowNode();return this.isRowInMap(i,t)})}getCellCtrls(e,t){let n;ce(t)&&(n={},t.forEach(i=>{const o=this.columnModel.getCol(i);ce(o)&&(n[o.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(o=>{const s=o.getColumn().getId();n&&!n[s]||r.push(o)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];So(this.rowCtrlsByRowIndex,(n,r)=>{r.getRowNode().id==null&&e.push(n)}),this.removeRowCtrls(e);const t={};return So(this.rowCtrlsByRowIndex,(n,r)=>{const i=r.getRowNode();t[i.id]=r}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let n;this.stickyRowFeature&&jx()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const r=this.firstRenderedRow,i=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(this.stickyRowFeature){o=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const s=this.firstRenderedRow!==r||this.lastRenderedRow!==i;if(!(t&&!o&&!s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),n!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();n!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(o=>n[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=lQ(this.firstRenderedRow,this.lastRenderedRow),n=(i,o)=>{const s=o.getRowNode().rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(s)};So(this.rowCtrlsByRowIndex,n),So(e,n),t.sort((i,o)=>i-o);const r=[];for(let i=0;i<t.length;i++){const o=t[i],s=this.rowModel.getRow(o);s&&!s.sticky&&r.push(o)}return r}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e&&(n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.getRowNode();return!(t!=null&&!this.isRowInMap(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,o=this.rowCtrlsByRowIndex[e];if(o||(i=this.rowModel.getRow(e),ce(i)&&ce(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null)),!o)if(i||(i=this.rowModel.getRow(e)),ce(i))o=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const n=[];So(e,(r,i)=>{if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);return}if(i.destroyFirstPass(!t),t){const o=i.instanceId;this.zombieRowCtrls[o]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[o]})}else i.destroySecondPass()}}),t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),A8(n))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=vl(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let u=!1,d,h;do{const g=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:v,pageLastPixel:m}=this.pageBoundsService.getCurrentPagePixelRange(),w=this.rowContainerHeightService.getDivStretchOffset(),E=l.getScrollFeature().getVScrollPosition(),P=E.top,A=E.bottom;c?(d=v+w,h=m+w):(d=Math.max(P+g-a,v)+w,h=Math.min(A+g+a,m)+w),this.firstVisibleVPixel=Math.max(P+g,v)+w,this.lastVisibleVPixel=Math.min(A+g,m)+w,u=this.ensureAllRowsInRangeHaveHeightsCalculated(d,h)}while(u);let p=this.rowModel.getRowIndexAtPixel(d),f=this.rowModel.getRowIndexAtPixel(h);const C=this.pageBoundsService.getFirstRow(),y=this.pageBoundsService.getLastRow();p<C&&(p=C),f>y&&(f=y),e=p,t=f}const n=vr(this.gos,"normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),i=Math.max(this.getRowBuffer(),500);n&&!r&&t-e>i&&(t=e+i);const o=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;(o||s)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var o,s;const n=(o=this.pinnedRowModel)==null?void 0:o.ensureRowHeightsValid(),r=(s=this.stickyRowFeature)==null?void 0:s.ensureRowHeightsValid(),i=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(i||r)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),r||i||n?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const r=e.getRowNode(),i=this.focusService.isRowNodeFocused(r),o=e.isEditing(),s=r.detail;return i||o||s?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(r)return r;const i=this.gos.get("suppressAnimationFrame"),o=n&&!i&&!this.printLayout;return new Sl(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.getRowNode().rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.getRowNode().rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},iZ=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Wr(this.entriesList,n)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Wr(this.entriesList,e)}getEntries(){return this.entriesList}},oZ=class extends j{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new rD,this.pinnedBottomRows=new rD}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var r,i;let e=!1,t=0;const n=o=>{if(o.rowHeightEstimated){const s=Fa(this.gos,o);o.setRowTop(t),o.setRowHeight(s.height),t+=s.height,e=!0}};return(r=this.pinnedBottomRows)==null||r.forEach(n),t=0,(i=this.pinnedTopRows)==null||i.forEach(n),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){n.clear();return}const r=Bu(this.gos),i=t==="top"?Is.ID_PREFIX_TOP_PINNED:Is.ID_PREFIX_BOTTOM_PINNED,o=n.getIds(),s=[],a=new Set;let l=0,c=-1;for(const u of e){const d=(r==null?void 0:r({data:u,level:0,rowPinned:t}))??i+this.nextId++;if(a.has(d)){ee("Duplicate ID",d,"found for pinned row with data",u,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(d),s.push(d);const h=n.getById(d);if(h!==void 0)h.data!==u&&h.setData(u),l+=this.setRowTopAndRowIndex(h,l,c),o.delete(d);else{const p=new Is(this.beans);p.id=d,p.data=u,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,c),n.push(p)}}o.forEach(u=>{var d;(d=n.getById(u))==null||d.clearRowTopAndRowIndex()}),n.removeAllById(o),n.setOrder(s)}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Fa(this.gos,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}},rD=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,n)=>{const r=this.cache[t];r&&e(r,n)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},sZ=class extends j{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},aZ=class extends j{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Vr(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Wr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&wo("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(n=>n.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(cs(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){this.gos.get("debug")&&wo(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},lZ={version:ze,moduleName:"@ag-grid-community/row-node-block",beans:[aZ]},cZ=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.root.id,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),o=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:o}:{keep:o,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&i.push(o)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(n,e).find(i=>{var o;return i.id===((o=this.end)==null?void 0:o.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},uZ=class extends j{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,n,r){this.processClassRules(void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}processClassRules(e,t,n,r,i){if(t==null&&e==null)return;const o={},s={},a=(l,c)=>{l.split(" ").forEach(u=>{u.trim()!=""&&c(u)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const u=l[c],d=t[u];let h;typeof d=="string"?h=this.expressionService.evaluate(d,n):typeof d=="function"&&(h=d(n)),a(u,p=>{h?o[p]=!0:s[p]=!0})}}e&&i&&Object.keys(e).forEach(l=>a(l,c=>{o[c]||(s[c]=!0)})),i&&Object.keys(s).forEach(i),Object.keys(o).forEach(r)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},dg=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(dg||{}),L_=class extends j{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new jl(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=Ln(this.gos),n=this.focusService.findFocusableElements(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,o;e?(i=0,o=r):(i=r+1,o=n.length);const s=n.slice(i,o),a=this.gos.get("tabIndex");s.sort((c,u)=>{const d=parseInt(c.getAttribute("tabindex")||"0"),h=parseInt(u.getAttribute("tabindex")||"0");return h===a?1:d===a?-1:d===0?1:h===0?-1:d-h}),(l=s[e?s.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},dZ=class extends j{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],o={setTabIndex:C=>{i.forEach(y=>C!=null?y.setAttribute("tabindex",C):y.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:f}=e;this.tabGuardCtrl=this.createManagedBean(new L_({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:f}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Ln(this.gos).createElement("div"),n=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",n),Fo(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Li(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){rP(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}},hZ=class extends tn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new dZ(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},pZ=0,fZ=200,gZ=class extends j{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n}=e,r=this.getPopupIndex(n);if(r!==-1){const p=this.popupList[r];p.alignedToElement=t}const i=t.getBoundingClientRect(),o=this.getParentRect(),s=this.keepXYWithinBounds(n,i.top-o.top,0),a=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${a}px`;const c=o.right-o.left-a;let u;this.gos.get("enableRtl")?(u=h(),u<0&&(u=d(),this.setAlignedStyles(n,"left")),u>c&&(u=0,this.setAlignedStyles(n,"right"))):(u=d(),u>c&&(u=h(),this.setAlignedStyles(n,"right")),u<0&&(u=0,this.setAlignedStyles(n,"left"))),n.style.left=`${u}px`,n.style.top=`${s}px`;function d(){return i.right-o.left-2}function h(){return i.left-o.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:c,type:u}=e,d=o.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(p!==-1){const C=this.popupList[p];C.alignedToElement=o}const f=()=>{let C=d.left-h.left;s==="right"&&(C-=t.offsetWidth-d.width);let y;return a==="over"?(y=d.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)==="under"?y=d.top-h.top+d.height:y=d.top-t.offsetHeight-(r||0)*2-h.top),{x:C,y}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:f,postProcessCallback:()=>this.callPostProcessPopup(u,t,o,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+r;return i>s?"under":o>s||o>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(s=>{i.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,n,r,i,o){const s=this.gos.getCallback("postProcessPopup");s&&s({column:i,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:d}=s();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(u+=r),i&&(d+=i),n&&(u=this.keepXYWithinBounds(t,u,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${u}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),fZ)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Ln(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),LN(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",o=r?"top":"left",s=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=Ln(this.gos),c=l.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),h=u.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),f=u===l.body,C=Math.ceil(d[s]);let g=f?(r?kN:Sm)(c)+c[a]:u[i];f&&(g-=Math.abs(p[o]-h[o]));const v=g-C;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=Ln(this.gos),{eChild:n,ariaLabel:r,alwaysOnTop:i,positionCallback:o,anchorToElement:s}=e;if(!t)return ee("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,r,!!i),c=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(n,l,c,s),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ce(e.style.top)||(e.style.top=`${n.top*-1}px`),ce(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const r=this.getPopupParent(),i=document.createElement("div");return this.environment.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Fo(e,"dialog"),Su(e,t),i.appendChild(e),r.appendChild(i),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Ln(this.gos),n=this.getPopupParent(),{wrapperEl:r,eChild:i,closedCallback:o,afterGuiAttached:s,closeOnEsc:a,modal:l}=e;let c=!1;const u=f=>{if(!r.contains(Pn(this.gos)))return;f.key===U.ESCAPE&&!As(f)&&p({keyboardEvent:f})},d=f=>p({mouseEvent:f}),h=f=>p({touchEvent:f}),p=(f={})=>{const{mouseEvent:C,touchEvent:y,keyboardEvent:g,forceHide:v}=f;!v&&(this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:y},i)||c)||(c=!0,n.removeChild(r),t.removeEventListener("keydown",u),t.removeEventListener("mousedown",d),t.removeEventListener("touchstart",h),t.removeEventListener("contextmenu",d),this.eventService.removeEventListener("dragStarted",d),o&&o(C||y||g),this.removePopupFromPopupList(i))};return s&&s({hidePopup:p}),window.setTimeout(()=>{a&&t.addEventListener("keydown",u),l&&(t.addEventListener("mousedown",d),this.eventService.addEventListener("dragStarted",d),t.addEventListener("touchstart",h),t.addEventListener("contextmenu",d))},0),p}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:pZ++,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(o=>o&&o()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,o=r.getBoundingClientRect(),s=d=>parseInt(d.substring(0,d.length-1),10),a=(d,h)=>{const p=n[d]-o[d],f=s(i.style[d]);return{initialDiff:p,lastDiff:p,initial:f,last:f,direction:h}},l=a("top",0),c=a("left",1),u=this.getFrameworkOverrides();return new kn(d=>{u.wrapIncoming(()=>{u.setInterval(()=>{const h=t.getBoundingClientRect(),p=r.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}const C=(y,g)=>{const v=s(i.style[g]);y.last!==v&&(y.initial=v,y.last=v);const m=h[g]-p[g];if(m!=y.lastDiff){const w=this.keepXYWithinBounds(i,y.initial+y.initialDiff-m,y.direction);i.style[g]=`${w}px`,y.last=w}y.lastDiff=m};C(l,"top"),C(c,"left")},200).then(h=>{d(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){const a=this.popupList[s];if(j8(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Ln(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const o=[],s=[];for(const h of n)h!==i&&(h.classList.contains("ag-always-on-top")?s.push(h):o.push(h));const a=[],l=s.length,d=i.classList.contains("ag-always-on-top")||!l?[...o,...s,i]:[...o,i,...s];for(let h=0;h<=r;h++){const p=d[h];if(n[h]===d[h]||p===i)continue;p.querySelectorAll("div").forEach(C=>{C.scrollTop!==0&&a.push([C,C.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",p):d[h-1].insertAdjacentElement("afterend",p)}for(;a.length;){const h=a.pop();h[0].scrollTop=h[1]}}},mZ=["touchstart","touchend","touchmove","touchcancel"],N_=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new kn(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){const i=Cl(mZ,t);e.addEventListener(t,n,{capture:!!r,passive:i})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},vZ=class extends j{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===U.UP,r=e===U.DOWN,i=e===U.LEFT;let o,s;if(n||r)s=n?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),o=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");s=t.rowIndex,o=i!==l?a[0]:Et(a)}return{rowIndex:s,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case U.UP:n=this.getCellAbove(n);break;case U.DOWN:n=this.getCellBelow(n);break;case U.RIGHT:this.gos.get("enableRtl")?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case U.LEFT:this.gos.get("enableRtl")?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,ee("unknown key for navigation ",e);break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex);break}return n?!t.isSuppressNavigable(n):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;let r=!1;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(r=!0);const i=this.rowModel.getRow(e.rowIndex),o=r?void 0:this.getNextStickyPosition(i);return o||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){if(!Zv(this.gos)||!e||!e.sticky)return;const n=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let r=[];n?r=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):r=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const i=t?-1:1,o=r.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),s=r[o+i];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=n:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=n:this.pageBoundsService.getLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned,r=n?t===0:t===this.pageBoundsService.getFirstRow();let i=!1;if(r)return n==="top"?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;n&&(i=!0);const o=this.rowModel.getRow(e.rowIndex),s=i?void 0:this.getNextStickyPosition(o,!0);return s||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var o;const t=this.visibleColsService.getAllCols();let n=e.rowIndex,r=e.rowPinned,i=this.visibleColsService.getColAfter(e.column);if(!i){i=t[0];const s=this.getRowBelow(e);if(Pt(s)||!s.rowPinned&&!(((o=this.paginationService)==null?void 0:o.isRowInPage(s))??!0))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}}getNextTabbedCellBackwards(e){var o;const t=this.visibleColsService.getAllCols();let n=e.rowIndex,r=e.rowPinned,i=this.visibleColsService.getColBefore(e.column);if(!i){i=Et(t);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Pt(s)||!s.rowPinned&&!(((o=this.paginationService)==null?void 0:o.isRowInPage(s))??!0))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}}},Or=(e,t)=>{for(const n in t)t[n]=e;return t},iD={...Or("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Or("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Or("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Or("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Or("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Or("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Or("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Or("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Or("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Or("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Or("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Or("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Or("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Or("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Or("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Ty={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},CZ=(e,t)=>e.eventService.dispatchEvent(t),__=class{};Reflect.defineProperty(__,"name",{value:"GridApi"});var yZ=class extends j{constructor(){super(),this.beanName="apiFunctionService",this.api=new __,this.fns={...Ty,dispatchEvent:CZ},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in iD)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:n,beans:r}=this;n!==Ty&&(n[e]=((i=r==null?void 0:r.validationService)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)ee(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${r}`);else{const i=iD[e];n.assertModuleRegistered(i,`api.${e}`)&&ee(`API function '${e}' not registered to module '${i}'`)}}destroy(){super.destroy(),this.fns=Ty,this.beans=null}};function SZ(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var wZ=class extends j{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,n){const r=[],i={};return e.forEach(o=>{const s=this.createDefFromColumn(o,t,n);let a=!0,l=s,c=o.getOriginalParent(),u=null;for(;c;){let d=null;if(c.isPadding()){c=c.getOriginalParent();continue}const h=i[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(d=this.createDefFromGroup(c),d&&(d.children=[l],i[d.groupId]=d,l=d,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&r.push(l)}),r}createDefFromGroup(e){const t=Vw(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=Vw(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},bZ=class extends j{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,n){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:n})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:n,toIndex:r,finished:i}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:r,finished:i,source:n})}columnPinned(e,t){if(!e.length)return;const n=e.length===1?e[0]:null,r=this.getCommonValue(e,i=>i.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:r??null,columns:e,column:n,source:t})}columnVisible(e,t){if(!e.length)return;const n=e.length===1?e[0]:null,r=this.getCommonValue(e,i=>i.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:r,columns:e,column:n,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}columnChanged(e,t,n){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:n})}columnResized(e,t,n,r=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:r,finished:t,source:n})}},RZ=class extends j{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Pt(e)||!this.columnModel.isAlive())return[];const n=this.columnModel.getAllCols().map(r=>this.createStateItemFromColumn(r));return this.orderColumnStateList(n),n}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns(),r=e.isRowGroupActive()?t.indexOf(e):null,i=e.isPivotActive()?n.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,s=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:i,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),n=new Map(t.map((r,i)=>[r.getColId(),i]));e.sort((r,i)=>{const o=n.has(r.colId)?n.get(r.colId):-1,s=n.has(i.colId)?n.get(i.colId):-1;return o-s})}},EZ=class extends j{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return Vs(null,t,n=>{Hr(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const n=[];Vs(null,t,r=>{if(Hr(r)){const i=r.getColGroupDef(),o={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const r=[];e.forEach(i=>{const o=i.groupId,s=i.open,a=this.columnModel.getProvidedColGroup(o);a&&a.isExpanded()!==s&&(a.setExpanded(s),r.push(a))}),this.visibleColsService.refresh(t,!0),r.length&&this.eventDispatcher.groupOpened(r),this.columnAnimationService.finish()}},PZ=class extends j{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const r=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const o=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=o-this.scrollPosition-this.scrollWidth,this.viewportRight=o-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,o=t<r&&n<r,s=t>i&&n>i;return!o&&!s}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=i=>{const o=i.getLeft();return ce(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),r=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),n=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(n).forEach(o=>e[o.getId()]=!0);const i=(o,s,a)=>{let l=!1;for(let c=0;c<o.length;c++){const u=o[c];let d=!1;if(Oa(u))d=e[u.getId()]===!0;else{const p=u.getDisplayedChildren();p&&(d=i(p,s,a+1))}d&&(l=!0,s[a]||(s[a]=[]),s[a].push(u))}return l};i(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),i(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),i(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}},TZ=class extends j{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(r){const i=e(r),o=typeof i;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Jh("<span>"+i+"</span>");return}if(i==null){this.eGui=Jh("<span></span>");return}this.eGui=i}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},AZ=class extends j{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},IZ=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],oD=Object.fromEntries(IZ.map((e,t)=>[e,t]));function xZ(e,t){const n=(e.beanName?oD[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?oD[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function DZ(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var FZ=class extends j{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const n=this.registry[e];if(n!=null)return new n(...t)}},OZ=class extends j{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,n;this.runReadyCallbacksAsync=((n=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:n.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},MZ=class extends j{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:n,column:r}=e;return this.createIdFromValues({rowIndex:t,column:r,rowPinned:n})}createIdFromValues(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}equals(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}},kZ=class extends j{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){hn(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const n=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(r=>this.eventService.dispatchEvent(r)),this.events=[]};t?n():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(n)),this.dispatchExpandedDebounced())}},LZ=class extends j{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return n?(t="bottom",e=n-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):r&&(t="top",e=r-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ce(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},sD={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},aD={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},lD={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},NZ=class extends j{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(sD),this.getSizeEl(aD),this.getSizeEl(lD)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(sD)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(aD)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(lD)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&!t.includes(n)&&e.classList.remove(n);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const n=`${t}px`;return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===cD?"no-styles":(this.sizesMeasured=!0,n)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.eMeasurementContainer;n||(n=this.eMeasurementContainer=document.createElement("div"),n.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(n),this.eGridDiv.appendChild(n)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${cD}px)`,n.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&ee(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const i=this.resizeObserverService.observeResize(t,()=>{const o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==r&&(r=o,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>i()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const n=this.readAncestorThemeClasses();_Z(n,this.ancestorThemeClasses)||(this.ancestorThemeClasses=n,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const n=Array.from(e.classList).filter(r=>r.startsWith("ag-theme-"));for(const r of n)t.includes(r)||t.unshift(r);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:n}=this,r=e.get("theme")||null;r!==n&&(n==null||n.stopUse(),this.gridTheme=r,r==null||r.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},_Z=(e,t)=>e.length===t.length&&e.findIndex((n,r)=>e[r]!==t[r])===-1,cD=15538,BZ=class extends j{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new _u}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=fm(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},yP=class Wi extends j{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",Wi.toggleKeyboardMode),t.addEventListener("mousedown",Wi.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",Wi.toggleKeyboardMode),t.removeEventListener("mousedown",Wi.toggleKeyboardMode))}static toggleKeyboardMode(t){const n=Wi.keyboardModeActive,r=t.type==="keydown";r&&(t.ctrlKey||t.metaKey||t.altKey)||n!==r&&(Wi.keyboardModeActive=r)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,n=>{this.gridCtrl=n.gridCtrl})}registerKeyboardFocusEvents(){const t=Ln(this.gos);Wi.addKeyboardModeEvents(t),Wi.instanceCount++,this.addDestroyFunc(()=>{Wi.instanceCount--,Wi.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,n=this.columnModel.getCol(t.getId());t!==n&&this.clearFocusedCell()}isKeyboardMode(){return Wi.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Pn(this.gos),Sl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Pn(this.gos),iC.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,n){let r=t;for(;r;){if(jh(this.gos,r,n))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,n){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),n())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:n,rowPinned:r,column:i}=t,o={rowIndex:n,rowPinned:r,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:r});return s&&(o.isFullWidthCell=s.isFullWidth()),o}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:n,rowIndex:r,rowPinned:i,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:s=!1}=t,a=this.columnModel.getCol(n);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:r,rowPinned:Ts(i),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:o,preventScrollOnBrowserFocus:s})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const n=t.getColumnGroupChild(),r=t.getRowIndex(),i=t.getPinned(),{column:o,headerRowIndex:s}=this.focusedHeaderPosition;return n===o&&r===s&&i==o.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,n){this.focusedHeaderPosition={headerRowIndex:t,column:n}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var c;if(this.isHeaderFocusSuppressed())return!1;const{direction:n,fromTab:r,allowUserOverride:i,event:o,fromCell:s,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(s&&((c=this.filterManager)!=null&&c.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(i){const u=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(r){const h=this.gos.getCallback("tabToNextHeader");h&&(l=this.getHeaderPositionFromUserFunc({userFunc:h,direction:n,currentPosition:u,headerPosition:l,headerRowCount:d}))}else{const h=this.gos.getCallback("navigateToNextHeader");if(h&&o){const p={key:o.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:d,event:o};l=h(p)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:o,fromCell:s,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:n,headerPosition:r,direction:i,event:o}=t,s=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:n,direction:i,currentPosition:s,headerPosition:r,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:o})}getHeaderPositionFromUserFunc(t){const{userFunc:n,direction:r,currentPosition:i,headerPosition:o,headerRowCount:s}=t,l=n({backwards:r==="Before",previousHeaderPosition:i,nextHeaderPosition:o,headerRowCount:s});return l===!0||l===null?(l===null&&ee("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),i):l===!1?null:l}focusProvidedHeaderPosition(t){var d;const{headerPosition:n,direction:r,fromCell:i,rowWithoutSpanValue:o,event:s}=t,{column:a,headerRowIndex:l}=n;if(l===-1)return(d=this.filterManager)!=null&&d.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(n):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,r);const c=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),u=(c==null?void 0:c.focusHeader(n.headerRowIndex,a,s))||!1;return u&&(o!=null||i)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(o??-1),u}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const n=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const n=this.headerNavigationService.getHeaderRowCount()-1,r=Et(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:r},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var n;return(n=this.filterManager)!=null&&n.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,n){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Ts(n)}findFocusableElements(t,n,r=!1){const i=_9;let o=MN;n&&(o+=", "+n),r&&(o+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(t.querySelectorAll(i)).filter(c=>as(c)),a=Array.prototype.slice.apply(t.querySelectorAll(o));return a.length?((c,u)=>c.filter(d=>u.indexOf(d)===-1))(s,a):s}focusInto(t,n=!1,r=!1){const i=this.findFocusableElements(t,null,r),o=n?Et(i):i[0];return o?(o.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,n){if(!n)return null;const r=this.findFocusableElements(t),i=r.indexOf(n);if(i===-1)return null;let o=-1;for(let s=i-1;s>=0;s--)if(r[s].classList.contains("ag-tab-guard-top")){o=s;break}return o<=0?null:r[o-1]}findNextFocusableElement(t=this.eGridDiv,n,r){const i=this.findFocusableElements(t,n?':not([tabindex="-1"])':null),o=Pn(this.gos);let s;n?s=i.findIndex(l=>l.contains(o)):s=i.indexOf(o);const a=s+(r?-1:1);return a<0||a>=i.length?null:i[a]}isTargetUnderManagedComponent(t,n){if(!n)return!1;const r=t.querySelectorAll(`.${jl.FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let i=0;i<r.length;i++)if(r[i].contains(n))return!0;return!1}findTabbableParent(t,n=5){let r=0;for(;t&&jw(t)===null&&++r<=n;)t=t.parentElement;return jw(t)===null?null:t}focusOverlay(t){var r;const n=this.overlayService.isVisible()&&((r=this.overlayService.getOverlayWrapper())==null?void 0:r.getGui());return!!n&&this.focusInto(n,t)}focusGridViewFailed(t,n){return n&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,n=!1,r=!0){var o,s;if(this.overlayService.isExclusive())return r&&this.focusOverlay(n);if(this.isCellFocusSuppressed())return n&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():r&&this.focusOverlay(n)?!0:this.focusNextGridCoreContainer(!1);const i=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(i){const{rowIndex:a,rowPinned:l}=i;if(t??(t=(o=this.getFocusedHeader())==null?void 0:o.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),n){const c=this.rowRenderer.getRowByPosition(i);if(c!=null&&c.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(i,n))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:Ts(l),forceBrowserFocus:!0}),(s=this.rangeService)==null||s.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(r&&this.focusOverlay(n)||n&&this.focusLastHeader())}isGridFocused(){const t=Pn(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,n=!1){return!n&&this.gridCtrl.focusNextInnerContainer(t)?!0:((n||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var n;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((n=this.advancedFilterService)==null?void 0:n.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,n){var i;const r=(n?void 0:this.advancedFilterFocusColumn)??((i=this.visibleColsService.getAllCols())==null?void 0:i[0]);return t?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};yP.keyboardModeActive=!1;yP.instanceCount=0;var HZ=yP,GZ=class extends j{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=vr(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),n=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},VZ=class extends j{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:r,mouseEventService:i,ctrlsService:o,resizeObserverService:s}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>c===1||c===0,getIconName:()=>"notAllowed"};r.addDropTarget(a),this.addDestroyFunc(()=>r.removeDropTarget(a)),i.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new CP(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=s.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),o.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,r,i,o;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(n=e.columnDropZonesService)==null?void 0:n.getDropZoneSelector(),sideBarSelector:(r=e.sideBarService)==null?void 0:r.getSideBarSelector(),statusBarSelector:(i=e.statusBarService)==null?void 0:i.getStatusPanelSelector(),watermarkSelector:(o=e.licenseManager)==null?void 0:o.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const i=this.visibleColsService.getAllCols(),o=Et(i);if(this.focusService.focusGridView(o,!0))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),r=this.visibleColsService.getAllCols();if(e){if(n.length>1)return this.focusContainer(Et(n),!0);const i=Et(r);if(this.focusService.focusGridView(i,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(r[0]))return!0;for(let i=1;i<n.length;i++)if(this.focusService.focusInto(n[i].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var o;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];(o=i.setAllowFocus)==null||o.call(i,!0),setTimeout(()=>{var s;(s=i.setAllowFocus)==null||s.call(i,!1)})}getNextFocusableIndex(e,t){const n=Pn(this.gos),r=e.findIndex(o=>o.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){var r,i;(r=e.setAllowFocus)==null||r.call(e,!0);const n=this.focusService.focusInto(e.getGui(),t);return(i=e.setAllowFocus)==null||i.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},WZ=class extends j{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(i=>{var s;if(!i){Bt("alignedGrids contains an undefined option."),t||Bt(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Bt(n());return}if(this.isGridApi(i))return i;const o=i;return"current"in o?(s=o.current)==null?void 0:s.api:(o.api||Bt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),o.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ee("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var c;const t=e.column;let n=null;if(t&&(n=this.columnModel.getColDefCol(t.getColId())),t&&!n)return;const r=this.getMasterColumns(e),{columnApplyStateService:i,columnSizeService:o,ctrlsService:s}=this;switch(e.type){case"columnMoved":{const d=e.api.getColumnState().map(h=>({colId:h.colId}));i.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const d=e.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));i.applyColumnState({state:d},"alignedGridChanged")}break;case"columnPinned":{const d=e.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));i.applyColumnState({state:d},"alignedGridChanged")}break;case"columnResized":{const u=e,d={};r.forEach(h=>{d[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()}}),(c=u.flexColumns)==null||c.forEach(h=>{d[h.getId()]&&delete d[h.getId()]}),o.setColumnWidths(Object.values(d),!1,u.finished,"alignedGridChanged");break}}const l=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",l)})}},UZ={version:ze,moduleName:"@ag-grid-community/aligned-grid",beans:[WZ]};function zZ(e,t){const n=e.columnModel.getColDefCol(t);return n?n.getColDef():null}function $Z(e){return e.columnModel.getColumnDefs()}function jZ(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function KZ(e,t,n){e.columnModel.setColumnGroupOpened(t,n,"api")}function qZ(e,t,n){return e.visibleColsService.getColumnGroup(t,n)}function YZ(e,t){return e.columnModel.getProvidedColGroup(t)}function QZ(e,t,n){return e.columnNameService.getDisplayNameForColumn(t,n)||""}function XZ(e,t,n){return e.columnNameService.getDisplayNameForColumnGroup(t,n)||""}function JZ(e,t){return e.columnModel.getColDefCol(t)}function ZZ(e){return e.columnModel.getColDefCols()}function eee(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function tee(e){return e.columnGetStateService.getColumnState()}function nee(e){e.columnApplyStateService.resetColumnState("api")}function ree(e){return e.columnGroupStateService.getColumnGroupState()}function iee(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function oee(e){e.columnGroupStateService.resetColumnGroupState("api")}function see(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function aee(e){return e.visibleColsService.isPinningLeft()}function lee(e){return e.visibleColsService.isPinningRight()}function cee(e,t){return e.visibleColsService.getColAfter(t)}function uee(e,t){return e.visibleColsService.getColBefore(t)}function dee(e,t,n){e.columnModel.setColsVisible([t],n,"api")}function hee(e,t,n){e.columnModel.setColsVisible(t,n,"api")}function pee(e,t,n){e.columnModel.setColsPinned([t],n,"api")}function fee(e,t,n){e.columnModel.setColsPinned(t,n,"api")}function gee(e){return e.columnModel.getCols()}function mee(e){return e.visibleColsService.getLeftCols()}function vee(e){return e.visibleColsService.getCenterCols()}function Cee(e){return e.visibleColsService.getRightCols()}function yee(e){return e.visibleColsService.getAllCols()}function See(e){return e.columnViewportService.getViewportColumns()}function wee(e,t,n){e.columnMoveService.moveColumns([t],n,"api")}function bee(e,t,n){e.columnMoveService.moveColumnByIndex(t,n,"api")}function Ree(e,t,n){e.columnMoveService.moveColumns(t,n,"api")}function Eee(e,t,n,r=!0,i="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:n}],!1,r,i)}function Pee(e,t,n=!0,r="api"){e.columnSizeService.setColumnWidths(t,!1,n,r)}function Tee(e){return e.visibleColsService.getTreeLeft()}function Aee(e){return e.visibleColsService.getTreeCenter()}function Iee(e){return e.visibleColsService.getTreeRight()}function xee(e){return e.visibleColsService.getAllTrees()}function Dee(e,t,n){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:n,source:"api"})}function Fee(e,t,n){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function Oee(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var Mee=class extends j{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(rl(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=r=>i=>{const{column:o,node:s,value:a}=i;let l=o.getColDef().valueFormatter;return l===r.groupSafeValueFormatter&&(l=r.valueFormatter),this.valueService.formatValue(o,s,a,l)};Object.entries(e).forEach(([r,i])=>{const o={...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)};this.dataTypeDefinitions[r]=o,this.formatValueFuncs[r]=t(o)});const n=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(n).forEach(([r,i])=>{const o=this.processDataTypeDefinition(i,n,[r],e);o&&(this.dataTypeDefinitions[r]=o,i.dataTypeMatcher&&(this.dataTypeMatchers[r]=i.dataTypeMatcher),this.formatValueFuncs[r]=t(o))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(r=>{const i=this.dataTypeMatchers[r];i&&delete this.dataTypeMatchers[r],this.dataTypeMatchers[r]=i??e[r].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...ug(e.columnTypes),...ug(t.columnTypes)]),n}processDataTypeDefinition(e,t,n,r){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=r[o];const a=t[o];if(s&&a&&(s=a),!this.validateDataTypeDefinition(e,s,o))return;i=this.mergeDataTypeDefinitions(s,e)}else{if(n.includes(o)){ee('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const s=t[o];if(!this.validateDataTypeDefinition(e,s,o))return;const a=this.processDataTypeDefinition(s,t,[...n,o],r);if(!a)return;i=this.mergeDataTypeDefinitions(a,e)}return{...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)}}validateDataTypeDefinition(e,t,n){return t?t.baseDataType!==e.baseDataType?(ee('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ee(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var n,r;if((n=t.node)!=null&&n.group){const i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((r=e.dataTypeMatcher)!=null&&r.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[r];if(!o){ee(`Missing data type definition - "${r}"`);return}return e.cellDataType=r,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,o,n),o.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){if(!hn(this.gos))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,n))return!1;const r=t.type===null?e.type:t.type;if(r){const i=this.gos.get("columnTypes")??{};if(ug(r).some(s=>{const a=i[s.trim()];return a&&this.doColDefPropsPreventInference(a,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>this.doesColDefPropPreventInference(e,t,n,r))}doesColDefPropPreventInference(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=th(r,e,o)}else this.initWaitForRowData(t);if(n==null)return;const[i]=Object.entries(this.dataTypeMatchers).find(([o,s])=>s(n))??["object"];return i}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[n]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:i}=r;i&&(n==null||n(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(i,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,s])=>{const a=this.columnModel.getCol(o);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=this.getUpdatedColumnState(a,s);u.rowGroup&&u.rowGroupIndex==null&&(r[o]=u),u.pivot&&u.pivotIndex==null&&(i[o]=u),n.push(u)}}),t&&n.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&this.columnApplyStateService.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const n=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var r;if(t==null)return!0;const n=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>ee(`Cell data type is "object" but no Value ${n} has been provided. Please either provide an object data type definition with a Value ${n}, or set "colDef.value${n}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,n,r){var o;const i=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===U.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,a)=>{const l=this.columnModel.getColDefCol(r),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const u=s==null?"":i({column:l,node:null,value:s}),d=a==null?"":i({column:l,node:null,value:a});return u===d?0:u>d?1:-1},e.keyCreator=i;break}}(o=this.filterManager)==null||o.setColDefPropertiesForDataType(e,n,i)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var r,i;return((i=(r=n.newValue)==null?void 0:r.trim)==null?void 0:i.call(r))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:kw(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var r,i;return n.newValue==null?n.newValue:((i=(r=n.newValue)==null?void 0:r.trim)==null?void 0:i.call(r))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>ii(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):no(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>ii(n)??void 0,dateFormatter:n=>no(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>kw(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},kee={version:ze,moduleName:"@ag-grid-community/data-type",beans:[Mee]},Lee={version:ze,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:zZ,getColumnDefs:$Z,sizeColumnsToFit:jZ,setColumnGroupOpened:KZ,getColumnGroup:qZ,getProvidedColumnGroup:YZ,getDisplayNameForColumn:QZ,getDisplayNameForColumnGroup:XZ,getColumn:JZ,getColumns:ZZ,applyColumnState:eee,getColumnState:tee,resetColumnState:nee,getColumnGroupState:ree,setColumnGroupState:iee,resetColumnGroupState:oee,isPinning:see,isPinningLeft:aee,isPinningRight:lee,getDisplayedColAfter:cee,getDisplayedColBefore:uee,setColumnVisible:dee,setColumnsVisible:hee,setColumnPinned:pee,setColumnsPinned:fee,getAllGridColumns:gee,getDisplayedLeftColumns:mee,getDisplayedCenterColumns:vee,getDisplayedRightColumns:Cee,getAllDisplayedColumns:yee,getAllDisplayedVirtualColumns:See,moveColumn:wee,moveColumnByIndex:bee,moveColumns:Ree,setColumnWidth:Eee,setColumnWidths:Pee,getLeftDisplayedColumnGroups:Tee,getCenterDisplayedColumnGroups:Aee,getRightDisplayedColumnGroups:Iee,getAllDisplayedColumnGroups:xee,autoSizeColumn:Dee,autoSizeColumns:Fee,autoSizeAllColumns:Oee}};function Nee(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function _ee(e,t){const n=e.dragAndDropService.findExternalZone(t);n&&e.dragAndDropService.removeDropTarget(n)}function Bee(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var Hee={version:ze,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Nee,removeRowDropZone:_ee,getRowDropZoneParams:Bee}};function Gee(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Vee(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function Wee(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function Uee(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var zee={version:ze,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Gee,getPinnedBottomRowCount:Vee,getPinnedTopRow:Wee,getPinnedBottomRow:Uee}};function $ee(e){e.overlayService.showLoadingOverlay()}function jee(e){e.overlayService.showNoRowsOverlay()}function Kee(e){e.overlayService.hideOverlay()}var qee={version:ze,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:$ee,showNoRowsOverlay:jee,hideOverlay:Kee}};function Yee(e,t,n){if(!t)return;const r=e.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function Qee(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Xee(e,t={}){const n=r=>ee(`Since v31.1 api.flashCells parameter '${r}Delay' is deprecated. Please use '${r}Duration' instead.`);ce(t.fadeDelay)&&n("fade"),ce(t.flashDelay)&&n("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function Jee(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Zee(e){return e.animationFrameService.isQueueEmpty()}function ete(e){e.animationFrameService.flushAllFrames()}function tte(e){return{rowHeight:vl(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function nte(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(rh)}var rte={version:ze,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:Yee,refreshCells:Qee,flashCells:Xee,refreshHeader:Jee,isAnimationFrameQueueEmpty:Zee,flushAllAnimationFrames:ete,getSizesForCurrentTheme:tte,getCellRendererInstances:nte}};function ite(e){e.valueCache.expire()}function ote(e,t,n){return B_(e,{colKey:t,rowNode:n})}function B_(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,o=e.columnModel.getColDefCol(n)??e.columnModel.getCol(n);if(Pt(o))return null;const s=e.valueService.getValueForDisplay(o,r);return i?e.valueService.formatValue(o,r,s)??ns(s,!0):s}function ste(e){return e.context.getGridId()}function ate(e){e.gridDestroyService.destroy()}function lte(e){return e.gridDestroyService.isDestroyCalled()}function cte(e,t){return e.gos.get(t)}function ute(e,t,n){H_(e,{[t]:n})}function H_(e,t){e.gos.updateGridOptions({options:t})}function dte(e,t,n){e.apiEventService.addEventListener(t,n)}function hte(e,t,n){e.apiEventService.removeEventListener(t,n)}function pte(e,t){e.apiEventService.addGlobalListener(t)}function fte(e,t){e.apiEventService.removeGlobalListener(t)}function gte(e){return e.focusService.getFocusedCell()}function mte(e){return e.focusService.clearFocusedCell()}function vte(e,t,n,r){e.focusService.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function Cte(e,t){return e.navigationService.tabToNextCell(!1,t)}function yte(e,t){return e.navigationService.tabToNextCell(!0,t)}function Ste(e,t,n=!1){const r=e.headerNavigationService.getHeaderPositionForColumn(t,n);r&&e.focusService.focusHeaderPosition({headerPosition:r})}function wte(e,t,n){const r=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:r,buttonElement:n,positionBy:"button"})}function bte(e,t,n){let r=e.columnModel.getCol(t);if(r||(r=e.columnModel.getColDefCol(t)),!r){Bt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:r,mouseEvent:n,positionBy:"mouse"})}function Rte(e,t){const n=e.columnModel.getCol(t);if(!n){Bt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,positionBy:"auto"})}function Ete(e){e.menuService.hidePopupMenu()}function Pte(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function Tte(e,t,n,r,i){e.expansionService.setRowNodeExpanded(t,n,r,i)}function Ate(e,t){return e.rowModel.getRowNode(t)}function Ite(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function xte(e){return e.rowRenderer.getRenderedNodes()}function Dte(e,t,n){e.rowModel.forEachNode(t,n)}function Fte(e){return G_(e)}function G_(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Ote(e){return V_(e)}function V_(e){return e.rowRenderer.getLastVirtualRenderedRow()}function Mte(e,t){return e.rowModel.getRow(t)}function kte(e){return e.rowModel.getRowCount()}function Lte(e){return e.rowModel}function Nte(e,t){if(!t.nodes.every(a=>a.rowPinned?(ee("cannot select pinned rows"),!1):a.id===void 0?(ee("cannot select node until id for node is known"),!1):!0))return;const{nodes:r,source:i,newValue:o}=t,s=r;e.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:o})}function _te(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function Bte(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function Hte(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function Gte(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function Vte(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function Wte(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function Ute(e){return e.selectionService.getSelectedNodes()}function zte(e){return e.selectionService.getSelectedRows()}function $te(e){e.sortController.onSortChanged("api")}var jte={version:ze,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:ste,destroy:ate,isDestroyed:lte,getGridOption:cte,setGridOption:ute,updateGridOptions:H_}},Kte={version:ze,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:Nte,selectAll:_te,deselectAll:Bte,selectAllFiltered:Hte,deselectAllFiltered:Gte,selectAllOnCurrentPage:Vte,deselectAllOnCurrentPage:Wte,getSelectedNodes:Ute,getSelectedRows:zte}},qte={version:ze,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:Pte,setRowNodeExpanded:Tte,getRowNode:Ate,addRenderedRowListener:Ite,getRenderedNodes:xte,forEachNode:Dte,getFirstDisplayedRow:Fte,getFirstDisplayedRowIndex:G_,getLastDisplayedRow:Ote,getLastDisplayedRowIndex:V_,getDisplayedRowAtIndex:Mte,getDisplayedRowCount:kte,getModel:Lte}},Yte={version:ze,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:kJ,getHorizontalPixelRange:LJ,ensureColumnVisible:O_,ensureIndexVisible:M_,ensureNodeVisible:NJ}},Qte={version:ze,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:gte,clearFocusedCell:mte,setFocusedCell:vte,setFocusedHeader:Ste,tabToNextCell:Cte,tabToPreviousCell:yte}},Xte={version:ze,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:dte,addGlobalListener:pte,removeEventListener:hte,removeGlobalListener:fte}},Jte={version:ze,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:ite,getValue:ote,getCellValue:B_}},Zte={version:ze,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:wte,showColumnMenuAfterMouseClick:bte,showColumnMenu:Rte,hidePopupMenu:Ete}},ene={version:ze,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:$te}},tne={version:ze,moduleName:"@ag-grid-community/api",dependantModules:[jte,zee,Kte,Lee,qte,Hee,Yte,qee,Qte,Xte,rte,Jte,Zte,ene]};function nne(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function rne(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=ine(e)}return e}function ine(e){return e.cellSelection=one(e,"rangeSelection"),e}function one(e,t){if(e&&typeof e=="object")return e[t]}var sne=class extends j{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Vr(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Vr(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Vr(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=hn(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",ze),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,n]=this.addManagedEventListeners({newColumnsLoaded:({source:r})=>{r==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n==null||n(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return rne(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:r}=this.getInitialState(),i=this.gos.get("advancedFilterModel");(e||i)&&this.setFilterState(e,i),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),r&&this.setPaginationState(r),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const o=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{o()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:r}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(r!=null&&r.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const i=this.getRangeSelectionState();this.updateCachedState("rangeSelection",i),this.updateCachedState("cellSelection",i),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){const s=this.getRangeSelectionState();this.updateCachedState("rangeSelection",s),this.updateCachedState("cellSelection",s)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],n=[],r=[],i=[],o=[],s=[],a=[],l=[],c=[];let u=0;const d=this.columnGetStateService.getColumnState();for(let h=0;h<d.length;h++){const{colId:p,sort:f,sortIndex:C,rowGroup:y,rowGroupIndex:g,aggFunc:v,pivot:m,pivotIndex:w,pinned:E,hide:P,width:A,flex:R}=d[h];c.push(p),f&&(t[C??u++]={colId:p,sort:f}),y&&(n[g??0]=p),typeof v=="string"&&r.push({colId:p,aggFunc:v}),m&&(i[w??0]=p),E&&(E==="right"?s:o).push(p),P&&a.push(p),(R||A)&&l.push({colId:p,flex:R??void 0,width:A})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:i.length||e?{pivotMode:e,pivotColIds:i}:void 0,columnPinning:o.length||s.length?{leftColIds:o,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:n,aggregation:r,pivot:i,columnPinning:o,columnVisibility:s,columnSizing:a,columnOrder:l,partialColumnState:c}=e,u={},d=y=>{let g=u[y];return g||(g={colId:y},u[y]=g,g)},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:y,sort:g},v)=>{const m=d(y);m.sort=g,m.sortIndex=v}),h.sort=null,h.sortIndex=null),n&&(n.groupColIds.forEach((y,g)=>{const v=d(y);v.rowGroup=!0,v.rowGroupIndex=g}),h.rowGroup=null,h.rowGroupIndex=null),r&&(r.aggregationModel.forEach(({colId:y,aggFunc:g})=>{d(y).aggFunc=g}),h.aggFunc=null),i&&(i.pivotColIds.forEach((y,g)=>{const v=d(y);v.pivot=!0,v.pivotIndex=g}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),o&&(o.leftColIds.forEach(y=>{d(y).pinned="left"}),o.rightColIds.forEach(y=>{d(y).pinned="right"}),h.pinned=null),s&&(s.hiddenColIds.forEach(y=>{d(y).hide=!0}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:y,flex:g,width:v})=>{const m=d(y);m.flex=g??null,m.width=v}),h.flex=null);const p=l==null?void 0:l.orderedColIds,f=!!(p!=null&&p.length),C=f?p.map(y=>d(y)):Object.values(u);C.length&&(this.columnStates=C,this.columnApplyStateService.applyColumnState({state:C,applyOrder:f,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const r=[];for(const i of t)this.pivotResultColsService.getPivotResultCol(i.colId)&&r.push(i);this.columnApplyStateService.applyColumnState({state:r,applyOrder:e},"gridInitializing")}n&&this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:n,open:r})=>{r&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var i;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((i=e.columnGroup)==null?void 0:i.openColumnGroupIds),r=this.columnGroupStateService.getColumnGroupState().map(({groupId:o})=>{const s=t.has(o);return s&&t.delete(o),{groupId:o,open:s}});t.forEach(o=>{r.push({groupId:o,open:!0})}),r.length&&(this.columnGroupStates=r),this.columnGroupStateService.setColumnGroupState(r,"gridInitializing")}getFilterState(){var n,r;let e=(n=this.filterManager)==null?void 0:n.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((r=this.filterManager)==null?void 0:r.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var i,o;const{filterModel:n,advancedFilterModel:r}=e??{advancedFilterModel:t};n&&((i=this.filterManager)==null||i.setFilterModel(n,"columnFilter")),r&&((o=this.filterManager)==null||o.setAdvancedFilterModel(r))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(n=>{const{id:r,type:i,startRow:o,endRow:s,columns:a,startColumn:l}=n;return{id:r,type:i,startRow:o,endRow:s,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:n,columnModel:r,visibleColsService:i}=this;if(!Gs(t)||!n)return;const o=[];if(e.cellRanges.forEach(s=>{const a=[];if(s.colIds.forEach(c=>{const u=r.getCol(c);u&&a.push(u)}),!a.length)return;let l=r.getCol(s.startColId);if(!l){const c=i.getAllCols(),u=new Set(a);l=c.find(d=>u.has(d))}o.push({...s,columns:a,startColumn:l})}),N8(t)&&_8(t)&&o.length>1)return ee("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");n.setCellRanges(o)}getScrollState(){var r;if(!this.isClientSideRowModel)return;const e=(r=this.ctrlsService.getGridBodyCtrl())==null?void 0:r.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){var r;if(!this.isClientSideRowModel)return;const{top:t,left:n}=e;(r=this.ctrlsService.getGridBodyCtrl())==null||r.getScrollFeature().setScrollPosition(t,n)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:r}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:n,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var n;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((n=e==null?void 0:e.toggledNodes)!=null&&n.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;Object.entries(t).forEach(([r,i])=>{$h(i,this.cachedState[r])||(n=!0)}),this.cachedState={...this.cachedState,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),$h(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},W_={version:ze,moduleName:"@ag-grid-community/state-core",beans:[sne]},ane={version:ze,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:nne},dependantModules:[W_]},lne={version:ze,moduleName:"@ag-grid-community/state",dependantModules:[W_,ane]};function cne(e){return e.rowModel.isLastRowIndexKnown()}function une(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function dne(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function hne(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function pne(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function fne(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function gne(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function mne(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function vne(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function Cne(e,t){var n;(n=e.paginationService)==null||n.goToPage(t)}var yne=class extends j{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const n=Math.max(vl(this.gos),1),r=Math.floor(e/n);this.paginationService.setPageSize(r,"autoCalculated")};this.isBodyRendered?Vr(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function Sne(e,t,n){e.addManagedElementListeners(t,{keydown:r=>{if(!r.defaultPrevented&&r.key===U.TAB){const i=r.shiftKey;n.findNextFocusableElement(t,!1,i)||n.focusNextGridCoreContainer(i)&&r.preventDefault()}}})}var pd="paginationPageSizeSelector",wne=class extends tn{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(pd,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Li(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(pd)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),o=this.gos.get(pd)!==!0;ee(`'paginationPageSize=${t}'${i?"":" (default value)"}, but ${t} is not included in${o?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),o||ee(`Either set '${pd}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Ga(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.localeService.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new cP).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(pd);return!Array.isArray(t)||xi(t)?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},bne={selector:"AG-PAGE-SIZE-SELECTOR",component:wne},Rne=class extends hZ{constructor(){super(),this.btFirst=Ge,this.btPrevious=Ge,this.btNext=Ge,this.btLast=Ge,this.lbRecordCount=Ge,this.lbFirstRowOnPage=Ge,this.lbLastRowOnPage=Ge,this.lbCurrent=Ge,this.lbTotal=Ge,this.pageSizeComp=Ge,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[bne]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",Pi(e?"last":"first",this.gos)),n.insertAdjacentElement("afterbegin",Pi(e?"next":"previous",this.gos)),r.insertAdjacentElement("afterbegin",Pi(e?"previous":"next",this.gos)),i.insertAdjacentElement("afterbegin",Pi(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):this.focusService.focusGridInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===U.ENTER||r.key===U.SPACE)&&(r.preventDefault(),n())}})}),Sne(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const n=this.localeService.getLocaleTextFunc(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return cQ(e,r,i)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),r=e("of","of"),i=e("firstPage","First Page"),o=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${n}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${r}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${r}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){R9(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),n=this.paginationService.getMasterRowCount(),r=e?n:null;if(r===1){const v=this.rowModel.getRow(0);if(v&&v.group&&!(v.groupData||v.aggData)){this.setTotalLabelsToZero();return}}const i=this.paginationService.getCurrentPage(),o=this.paginationService.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*i+1,a=s+o-1,e&&a>r&&(a=r));const l=s+o-1,c=!e&&n<l,u=this.formatNumber(s);this.lbFirstRowOnPage.textContent=u;let d;const h=this.localeService.getLocaleTextFunc();c?d=h("pageLastRowUnknown","?"):d=this.formatNumber(a),this.lbLastRowOnPage.textContent=d;const f=t>0?i+1:0,C=this.formatNumber(f);this.lbCurrent.textContent=C;let y,g;if(e)y=this.formatNumber(t),g=this.formatNumber(r);else{const v=h("more","more");y=v,g=v}this.lbTotal.textContent=y,this.lbRecordCount.textContent=g,this.announceAriaStatus(u,d,g,C,y)}announceAriaStatus(e,t,n,r,i){const o=this.localeService.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,u=`${s} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Ene={selector:"AG-PAGINATION",component:Rne},Pne=class extends j{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Ene}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ce(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ce(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ce(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ce(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const r=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=r-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},U_={version:ze,moduleName:"@ag-grid-community/pagination-core",beans:[Pne,yne]},Tne={version:ze,moduleName:"@ag-grid-community/pagination-api",dependantModules:[U_],apiFunctions:{paginationIsLastPageFound:cne,paginationGetPageSize:une,paginationGetCurrentPage:dne,paginationGetTotalPages:hne,paginationGetRowCount:pne,paginationGoToNextPage:fne,paginationGoToPreviousPage:gne,paginationGoToFirstPage:mne,paginationGoToLastPage:vne,paginationGoToPage:Cne}},Ane={version:ze,moduleName:"@ag-grid-community/pagination",dependantModules:[U_,Tne]},Yr="clientSide",Mr="serverSide",oc="infinite",Ine={onGroupExpandedOrCollapsed:[Yr],refreshClientSideRowModel:[Yr],isRowDataEmpty:[Yr],forEachLeafNode:[Yr],forEachNodeAfterFilter:[Yr],forEachNodeAfterFilterAndSort:[Yr],resetRowHeights:[Yr],applyTransaction:[Yr],applyTransactionAsync:[Yr],flushAsyncTransactions:[Yr],getBestCostNodeSelection:[Yr],getServerSideSelectionState:[Mr],setServerSideSelectionState:[Mr],applyServerSideTransaction:[Mr],applyServerSideTransactionAsync:[Mr],applyServerSideRowData:[Mr],retryServerSideLoads:[Mr],flushServerSideAsyncTransactions:[Mr],refreshServerSide:[Mr],getServerSideGroupLevelState:[Mr],refreshInfiniteCache:[oc],purgeInfiniteCache:[oc],getInfiniteRowCount:[oc],isLastRowIndexKnown:[oc,Mr],expandAll:[Yr,Mr],collapseAll:[Yr,Mr],onRowHeightChanged:[Yr,Mr],setRowCount:[oc,Mr],getCacheBlockState:[oc,Mr]},xne={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function Dne(e,t,n){const r=xne[e];if(r){const{version:o,new:s,old:a,message:l}=r,c=a??e;return(...u)=>{const d=s?`Please use ${s} instead. `:"";return ee(`Since ${o} api.${c} is deprecated. ${d}${l??""}`),t.apply(t,u)}}const i=Ine[e];return i?(...o)=>{const s=n.rowModel.getType();if(!i.includes(s)){Bt(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,o)}:t}var Fne={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Qs=(e,t)=>{const n=t.rowModelType??"clientSide";return n==="clientSide"||n==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},One={enableRowGroup:Qs,rowGroup:Qs,rowGroupIndex:Qs,enablePivot:Qs,enableValue:Qs,pivot:Qs,pivotIndex:Qs,aggFunc:Qs,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(r=>t.includes(r))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>vc},Mne={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},kne=Object.keys(Mne),vc={objectName:"colDef",allProperties:kne,docsUrl:"column-properties/",deprecations:Fne,validations:One},Lne=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),Nne={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},_ne=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const n=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:n}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>vc,defaultColDef:()=>vc,defaultColGroupDef:()=>vc,autoGroupColumnDef:()=>vc,selectionColumnDef:()=>vc}),Bne=()=>({objectName:"gridOptions",allProperties:[...qh.ALL_PROPERTIES,...Yh.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Lne(),validations:_ne()}),Hne=class extends j{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Bne())}validateApiFunction(e,t){return Dne(e,t,this.beans)}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:o,objectName:s,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(r)],i,s,a);const l=new Set;Object.keys(e).forEach(u=>{const d=r[u];if(d)if("renamed"in d){const{renamed:m,version:w}=d;l.add(`As of v${w}, ${String(u)} is deprecated. Please use ${String(m)} instead.`),e[m]=e[u]}else{const{message:m,version:w}=d;l.add(`As of v${w}, ${String(u)} is deprecated. ${m??""}`)}const h=e[u];if(h==null||h===!1)return;const p=n[u];let f;if(p)if(typeof p=="function"){const m=p(e,this.gridOptions);if(!m)return;if("objectName"in m){const w=e[u];if(Array.isArray(w)){w.forEach(E=>{this.processOptions(E,m)});return}this.processOptions(e[u],m);return}f=m}else f=p;else return;const{module:C,dependencies:y,validate:g,supportedRowModels:v}=f;if(v){const m=this.gridOptions.rowModelType??"clientSide";if(!v.includes(m)){l.add(`${String(u)} is not supported with the '${m}' row model.`);return}}if(C){const m=Array.isArray(C)?C:[C];let w=!0;if(m.forEach(E=>{this.gos.assertModuleRegistered(E,String(u))||(w=!1,l.add(`${String(u)} is only available when ${E} is loaded.`))}),!w)return}if(y){const m=this.checkForRequiredDependencies(u,y,e);if(m){l.add(m);return}}if(g){const m=g(e,this.gridOptions);if(m){l.add(m);return}}}),l.size>0&&l.forEach(u=>{ee(u)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).find(([a,l])=>{const c=n[a];return!l.includes(c)});if(!i)return null;const[o,s]=i;return s.length>1?`'${String(e)}' requires '${o}' to be one of [${s.join(", ")}].`:`'${String(e)}' requires '${o}' to be ${s[0]}.`}checkProperties(e,t,n,r,i){const o=["__ob__","__v_skip","__metadata__"],s=Gne(Object.getOwnPropertyNames(e),[...o,...t,...n],n);if(So(s,(a,l)=>{let c=`invalid ${r} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;n.includes("context")&&(c+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),ee(c)}),Object.keys(s).length>0&&i){const a=this.getFrameworkOverrides().getDocLink(i);ee(`to see all the valid ${r} properties please check: ${a}`)}}};function Gne(e,t,n){const r={},i=e.filter(o=>!t.some(s=>s===o));return i.length>0&&i.forEach(o=>r[o]=zN({inputValue:o,allSuggestions:n}).values),r}var Vne={version:ze,moduleName:"@ag-grid-community/core"},Wne={version:ze,moduleName:"@ag-grid-community/core-validations",beans:[Hne]},z_={version:ze,moduleName:"@ag-grid-community/core-community-features",dependantModules:[Vne,Wne,eZ,KQ,lne,kee,UZ,Ane,tne]},Une=class extends j{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},hg=new Set(["gridPreDestroyed","fillStart","pasteStart"]),zne=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",$ne=new Map([...qh.BOOLEAN_PROPERTIES.map(e=>[e,Nw]),...qh.NUMBER_PROPERTIES.map(e=>[e,l_]),["groupAggFiltering",e=>typeof e=="function"?e:Nw(e)],["pageSize",Ho(1)],["autoSizePadding",Ho(0)],["keepDetailRowsCount",Ho(1)],["rowBuffer",Ho(0)],["infiniteInitialRowCount",Ho(1)],["cacheOverflowSize",Ho(1)],["cacheBlockSize",Ho(1)],["serverSideInitialRowCount",Ho(1)],["viewportRowModelPageSize",Ho(1)],["viewportRowModelBufferSize",Ho(0)]]);function $_(e,t){const n=$ne.get(e);return n?n(t):t}function jne(e){const t={};return Object.entries(e).forEach(([n,r])=>{const i=$_(n,r);t[n]=i}),t}var j_=class K_ extends j{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new _u,this.globalEventHandlerFactory=t=>(n,r)=>{if(!this.isAlive())return;const i=hg.has(n);if(i&&!t||!i&&t)return;const o=Yh.getCallbackForEvent(n),s=this.gridOptions[o];typeof s=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{s(r)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:n})=>{this.updateGridOptions({options:n,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??Nne[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return ce(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(r=>{const i=r;return i.api=this.api,i.context=this.gridOptionsContext,t(i)})}updateGridOptions({options:t,force:n,source:r="api"}){var s;const i={id:K_.changeSetId++,properties:[]},o=[];Object.entries(t).forEach(([a,l])=>{r==="api"&&m9[a]&&ee(`${a} is an initial property and cannot be updated.`);const c=$_(a,l),u=n||typeof c=="object"&&r==="api",d=this.gridOptions[a];if(u||d!==c){this.gridOptions[a]=c;const h={type:a,currentValue:c,previousValue:d,changeSet:i,source:r};o.push(h)}}),(s=this.validationService)==null||s.processGridOptions(this.gridOptions),i.properties=o.map(a=>a.type),o.forEach(a=>{this.gridOptions.debug&&wo(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,n){this.propertyEventService.addEventListener(t,n)}removePropertyEventListener(t,n){this.propertyEventService.removeEventListener(t,n)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const n=t;return n.api=this.api,n.context=this.gridOptionsContext,n}assertModuleRegistered(t,n){return qo.__assertRegistered(t,n,this.gridId)}isModuleRegistered(t){return qo.__isRegistered(t,this.gridId)}};j_.changeSetId=0;var Kne=j_,qne=class extends j{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let n,r;if(_n(e.column)?n=this.visibleColsService.getGroupAtDirection(e.column,t):(r=`getCol${t}`,n=this.visibleColsService[r](e.column)),!n)return;const{headerRowIndex:i}=e;if(this.getHeaderRowType(i)!=="filter"){const a=[n];for(;n.getParent();)n=n.getParent(),a.push(n);n=a[a.length-1-i]}const{column:o,headerRowIndex:s}=this.getHeaderIndexToFocus(n,i);return{column:o,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let n;if(_n(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const r=e;n=r.getLeafColumns()[0];let i=n;for(;i!==r;)t++,i=i.getParent()}return{column:n||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const n=this.getHeaderRowType(t),r=n==="filter",i=n==="column";let o=r?e:e.getParent(),s=t-1,a=s;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),s--;a=s,s<0&&(o=e,s=t,a=void 0)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,n="After"){const r=this.getHeaderRowType(t);let i=e,o=t+1;const s=o;if(r==="group"){const a=e.getDisplayedLeafColumns(),l=n==="After"?a[0]:Et(a),c=[];let u=l;for(;u.getParent()!==e;)u=u.getParent(),c.push(u);if(i=l,l.isSpanHeaderHeight())for(let d=c.length-1;d>=0;d--){const h=c[d];if(!h.isPadding()){i=h;break}o++}else i=Et(c),i||(i=l)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:s}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const n=this.visibleColsService.getAllCols(),r=n[t==="start"?0:n.length-1];if(!r)return;const i=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()),o=i==null?void 0:i.getRowType(e);if(o=="group"){const s=this.visibleColsService.getColGroupAtLevel(r,e);return{headerRowIndex:e,column:s}}return{headerRowIndex:o==null?-1:e,column:r}}},Yne=class extends j{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(n,r,i)=>e({key:n,defaultValue:r,variableValues:i});const t=this.gos.get("localeText");return(n,r,i)=>{let o=t&&t[n];if(o&&i&&i.length){let s=0;for(;!(s>=i.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",i[s++])}return o??r}}},Qne=class extends j{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new qE(this.getFrameworkOverrides())}addEventListener(e,t){const n=this.frameworkEventWrappingService.wrap(t),r=fm(this.gos)&&!hg.has(e),i=r?this.asyncEventListeners:this.syncEventListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventService.addEventListener(e,n,r)}removeEventListener(e,t){var o;const n=this.frameworkEventWrappingService.unwrap(t),r=this.asyncEventListeners.get(e),i=!!(r!=null&&r.delete(n));i||(o=this.syncEventListeners.get(e))==null||o.delete(n),this.eventService.removeEventListener(e,n,i)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(fm(this.gos)){const r=(o,s)=>{hg.has(o)&&t(o,s)},i=(o,s)=>{hg.has(o)||t(o,s)};this.globalEventListenerPairs.set(e,{syncListener:r,asyncListener:i}),this.eventService.addGlobalListener(r,!1),this.eventService.addGlobalListener(i,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:r,asyncListener:i}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(r,!1),this.eventService.removeGlobalListener(i,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventService.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventService.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},Xne=class extends j{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},Jne=class extends j{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Pt(this.topRowBounds)||Pt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=ce(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Zne=class extends j{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Vr(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Ln(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),TN(t,"polite"),b9(t,"additions text"),w9(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Li(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},ere=class extends j{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const n=r=>{for(;r.length;){const i=r.pop();i&&i()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),n(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),n(this.executeLaterFuncs)},200)})}},tre=class extends j{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},nre=class extends j{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=hn(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ee("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var i;const r=e.newAgStackInstance();(i=this.overlayWrapperComp)==null||i.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},rre=class extends j{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return ce(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Vx(t,this.processClassesFromGridOptions(e.rowNode)),Vx(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],n=o=>{typeof o=="string"?t.push(o):Array.isArray(o)&&o.forEach(s=>t.push(s))},r=this.gos.get("rowClass");if(r){if(typeof r=="function")return ee("rowClass should not be a function, please use getRowClass instead"),[];n(r)}const i=this.gos.getCallback("getRowClass");if(i){const o={data:e.data,node:e,rowIndex:e.rowIndex},s=i(o);n(s)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,n=>{t.push(n)},()=>{}),t}processRowClassRules(e,t,n){const r=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),r,t,n)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},ire=class extends j{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=M9(),this.gos.get("debug")&&wo("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(t!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&wo(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},ore=class extends j{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Ko(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ko(this.gos))}doFullSort(e,t){const n=(i,o)=>({currentPos:o,rowNode:i}),r=e.map(n);return r.sort(this.compareRowNodes.bind(this,t)),r.map(i=>i.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let o=0,s=e.length;o<s;o++){const a=e[o],l=a.sort==="desc",c=this.getValue(r,a.column),u=this.getValue(i,a.column);let d;const h=this.getComparator(a,r);if(h?d=h(c,u,r,i,l):d=F8(c,u,this.isAccentedSort),!isNaN(d)&&d!==0)return a.sort==="asc"?d:d*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const o=this.columnModel.getColDefCol(i);if(o)return o.getColDef().comparator}getValue(e,t){var r,i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(eC(this.gos,this.columnModel.isPivotActive())){const l=(r=e.allLeafChildren)==null?void 0:r[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(i=this.showRowGroupColsService)==null?void 0:i.getShowRowGroupCol(t.getId());return a?(o=e.groupData)==null?void 0:o[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},sC=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)}depthFirstSearchEverything(e,t,n){if(e.childrenAfterGroup)for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,n):n&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},q_=class extends j{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new cZ,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:n}=this;this.selectionCtx.init(t),this.rowSelectionMode=mm(e),this.groupSelectsChildren=Nl(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const r=Nl(e),i=mm(e);(r!==this.groupSelectsChildren||i!==this.rowSelectionMode)&&(this.groupSelectsChildren=r,this.rowSelectionMode=i,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:n.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!zne(t))return e;const n=this.selectionCtx.getRoot();return n?n.isSelected()??!1:!0}setNodesSelected(e){var d;const{newValue:t,clearSelection:n,suppressFinishActions:r,rangeSelect:i,nodes:o,event:s,source:a}=e;if(o.length===0)return 0;if(o.length>1&&!this.isMultiSelect())return ee("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=o.map(h=>h.footer?h.sibling:h);if(i){if(c.length>1)return ee("cannot range select while selecting multiple rows"),0;const h=c[0],p=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(h)){const f=this.selectionCtx.truncate(h);return p&&this.selectRange(f.discard,!1,a),this.selectRange(f.keep,p,a)}else if(this.selectionCtx.getRoot()!==h){const y=this.selectionCtx.extend(h,this.groupSelectsChildren);return p&&this.selectRange(y.discard,!1,a),this.selectRange(y.keep,p,a)}}}r||this.selectionCtx.setRoot(c[0]);let u=0;for(let h=0;h<c.length;h++){const p=c[h];l&&p.group||p.selectThisNode(t,s,a)&&u++,this.groupSelectsChildren&&((d=p.childrenAfterGroup)!=null&&d.length)&&(u+=this.selectChildren(p,t,l,a))}return r||(t&&(n||!this.isMultiSelect())&&(u+=this.clearOtherNodes(c[0],a)),u>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),u}selectRange(e,t,n){let r=0;return e.forEach(i=>{if(i.group&&this.groupSelectsChildren)return;i.selectThisNode(t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n,r){const i=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return Pt(i)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:r,nodes:i})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{n&&e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!hn(this.gos))return!1;const r=this.rowModel.getRootNode();t||(t=new sC(!0,r),t.setInactive());let i=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){const s=o.calculateSelectedFromChildren();i=o.selectThisNode(s===null?!1:s,void 0,e)||i}}),i}clearOtherNodes(e,t){const n=new Map;let r=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const o=this.selectedNodes.get(i.id);r+=o.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&i.parent&&n.set(i.parent.id,i.parent)}}),n.forEach(i=>{const o=i.calculateSelectedFromChildren();i.selectThisNode(o===null?!1:o,void 0,t)}),r}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(ce(t)&&e.id!==t.id&&t){const r=t.id;this.selectedNodes.get(r)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!hn(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const n=[];function r(i){for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a.isSelected())n.push(a);else{const l=a;l.group&&l.children&&r(l.children)}}}return r(t),n}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=s=>s.selectThisNode(!1,void 0,r),n=hn(this.gos),{source:r,justFiltered:i,justCurrentPage:o}=e;if(o||i){if(!n){Bt("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(i,o).forEach(t)}else this.selectedNodes.forEach(s=>{s&&t(s)}),this.reset(r);this.selectionCtx.reset(),n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)}getSelectedCounts(e,t){let n=0,r=0;const i=o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?n++:o.selectable&&r++)};return this.getNodesToSelect(e,t).forEach(i),{selectedCount:n,notSelectedCount:r}}getSelectAllState(e,t){const{selectedCount:n,notSelectedCount:r}=this.getSelectedCounts(e,t);return n===0&&r===0?!1:n>0&&r>0?null:n>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(n=>n.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const n=[];if(t)return this.forEachNodeOnPage(i=>{if(!i.group){n.push(i);return}if(!i.expanded){const o=s=>{var a;n.push(s),(a=s.childrenAfterFilter)!=null&&a.length&&s.childrenAfterFilter.forEach(o)};o(i);return}this.groupSelectsChildren||n.push(i)}),n;const r=this.rowModel;return e?(r.forEachNodeAfterFilter(i=>{n.push(i)}),n):(r.forEachNode(i=>{n.push(i)}),n)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow();for(let r=t;r<=n;r++){const i=this.rowModel.getRow(r);i&&e(i)}}selectAllRowNodes(e){if(L8(this.gos)&&!hN(this.gos))return ee("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:n,justCurrentPage:r}=e,i=this.getNodesToSelect(n,r);i.forEach(o=>o.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(i[0]??null),this.selectionCtx.setEndRange(Et(i)??null),hn(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Bt("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const n=new Set(e),r=[];this.rowModel.forEachNode(i=>{n.has(i.id)&&r.push(i)}),this.setNodesSelected({newValue:!0,nodes:r,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!hn(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},sre=class extends j{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,n=pm(t),r=$E(t);if(!n||!r)return;const i=Nl(t),o=hn(t)&&i,s=[],a=l=>{if(e&&!l.group)return;if(o&&l.group){const u=l.childrenAfterGroup.some(d=>d.selectable===!0);l.setRowSelectable(u,!0);return}const c=(r==null?void 0:r(l))??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&s.push(l)};if(o){const l=this.rowModel;new sC(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),o&&this.selectionService instanceof q_&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},uD=["asc","desc",null],are=class extends j{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const i=Ko(this.gos);let o=[e];if(i&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),c=l==null?void 0:l.filter(u=>u.isSortable());c&&(o=[e,...c])}o.forEach(l=>l.setSort(t,r));const s=(n||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!s){const l=this.clearSortBarTheseColumns(o,r);a.push(...l)}this.updateSortIndex(e),a.push(...o),this.dispatchSortChangedEvents(r,a)}updateSortIndex(e){var a;const t=Ko(this.gos),n=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),r=t&&n||e,i=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const o=i.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==r);(r.getSort()?[...o,r]:o).forEach((l,c)=>{l.setSortIndex(c)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.columnModel.getAllCols().forEach(r=>{e.includes(r)||(r.getSort()&&n.push(r),r.setSort(void 0,t))}),n}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=uD,!Array.isArray(t)||t.length<=0)return ee(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;let o;return r||i?o=t[0]:o=t[n+1],uD.indexOf(o)<0?(ee("invalid sort type ",o),null):o}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){const o=Ko(this.gos);e=e.filter(s=>{var u;const a=!!s.getAggFunc(),l=!s.isPrimary(),c=o?(u=this.showRowGroupColsService)==null?void 0:u.getShowRowGroupCol(s.getId()):s.getColDef().showRowGroup;return a||l||c})}const t=this.funcColsService.getRowGroupColumns().filter(o=>!!o.getSort()),n={};e.forEach((o,s)=>n[o.getId()]=s),e.sort((o,s)=>{const a=o.getSortIndex(),l=s.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=n[o.getId()],u=n[s.getId()];return c>u?1:-1}else return l==null?-1:1});const r=Ko(this.gos)&&!!t.length;r&&(e=[...new Set(e.map(o=>{var s;return((s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCol(o.getId()))??o}))]);const i=new Map;return e.forEach((o,s)=>i.set(o,s)),r&&t.forEach(o=>{const s=this.showRowGroupColsService.getShowRowGroupCol(o.getId());i.set(o,i.get(s))}),i}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,r])=>t-r).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Ko(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(s=>s.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},lre=class extends j{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&wo(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,rl(e.source))}}},cre="paste",ure=class extends j{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){hn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==cre&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const r=this.gos.get("aggregateOnlyChangedColumns"),i=new sC(r,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i),i.forEachChangedNodeDepthFirst(o=>{n.push(o)})}this.rowRenderer.refreshCells({rowNodes:n})}},dre=class extends j{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Bt("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return wo("Processing of the expression failed"),wo("Expression = ",e),wo("Params = ",t),wo("Exception = ",n),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},hre=class extends j{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},pre=class extends j{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=cs(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=n=>this.callColumnCellValueChangedHandler(n),t=fm(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValueForDisplay(e,t){const n=t.leafGroup&&this.columnModel.isPivotMode(),r=t.group&&t.expanded&&!t.footer&&!n,i=this.gos.get("groupSuppressBlankHeader");if(!r||i)return this.getValue(e,t);let o=!1;const s=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof s!="function"?o=!!s:o=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=r&&o;return this.getValue(e,t,!1,a)}getValue(e,t,n=!1,r=!1){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),o=i.field,s=e.getColId(),a=t.data;let l;const c=t.groupData&&t.groupData[s]!==void 0,u=!r&&t.aggData&&t.aggData[s]!==void 0,d=this.isSsrm&&r&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(n&&i.filterValueGetter?l=this.executeFilterValueGetter(i.filterValueGetter,a,e,t):this.isTreeData&&u?l=t.aggData[s]:this.isTreeData&&i.valueGetter?l=this.executeValueGetter(i.valueGetter,a,e,t):this.isTreeData&&o&&a?l=th(a,o,e.isFieldContainsDots()):c?l=t.groupData[s]:u?l=t.aggData[s]:i.valueGetter?l=this.executeValueGetter(i.valueGetter,a,e,t):h?l=th(a,t.field,e.isFieldContainsDots()):o&&a&&!d&&(l=th(a,o,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const p=l.substring(1);l=this.executeValueGetter(p,a,e,t)}if(l==null){const p=this.getOpenedGroup(t,e);if(p!=null)return p}return l}parseValue(e,t,n,r){const i=e.getColDef(),o=i.valueParser;if(ce(o)){const s=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof o=="function"?o(s):this.expressionService.evaluate(o,s)}return n}getDeleteValue(e,t){return ce(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,n,r,i=!0){let o=null,s;const a=e.getColDef();if(r?s=r:i&&(s=a.valueFormatter),s){const l=this.gos.addGridCommonParams({value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof s=="function"?o=s(l):o=this.expressionService.evaluate(s,l)}else if(a.refData)return a.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const r=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(r===!0||r===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,n,r){const i=this.columnModel.getColDefCol(t);if(!e||!i)return!1;Pt(e.data)&&(e.data={});const{field:o,valueSetter:s}=i.getColDef();if(Pt(o)&&Pt(s))return ee("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(i,n))return ee("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(ce(s)?typeof s=="function"?l=s(a):l=this.expressionService.evaluate(s,a):l=this.setValueUsingField(e.data,o,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(i,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:r}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const o=t.split(".");let s=e;for(;o.length>0&&s;){const a=o.shift();o.length===0?(i=s[a]===n,i||(s[a]=n)):s=s[a]}}return!i}executeFilterValueGetter(e,t,n,r){const i=this.gos.addGridCommonParams({data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});return typeof e=="function"?e(i):this.expressionService.evaluate(e,i)}executeValueGetter(e,t,n,r){const i=n.getColId(),o=this.valueCache.getValue(r,i);if(o!==void 0)return o;const s=this.gos.addGridCommonParams({data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let a;return typeof e=="function"?a=e(s):a=this.expressionService.evaluate(e,s),this.valueCache.setValue(r,i,a),a}getValueCallback(e,t){const n=this.columnModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const o=this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(o)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&ee("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),i}},SP=class Za{static applyGlobalGridOptions(t){if(!Za.gridOptions)return t;let n={};return Gr(n,Za.gridOptions,!0,!0),Za.mergeStrategy==="deep"?Gr(n,t,!0,!0):n={...n,...t},Za.gridOptions.context&&(n.context=Za.gridOptions.context),t.context&&(Za.mergeStrategy==="deep"&&n.context&&Gr(t.context,n.context,!0,!0),n.context=t.context),n}};SP.gridOptions=void 0;SP.mergeStrategy="shallow";var Y_=SP;function fre(e){var t;return(t=Y_.gridOptions)==null?void 0:t[e]}var gre=1,mre=class{create(e,t,n,r,i){const o=Y_.applyGlobalGridOptions(t),s=jne(o),a=s.gridId??String(gre++),l=this.getRegisteredModules(i,a),c=this.createBeansList(s.rowModelType,l,a),u=this.createProvidedBeans(e,s,i);if(!c){Bt("Failed to create grid.");return}const d={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:xZ,beanDestroyComparator:DZ,derivedBeans:[SZ]},h=new M7(d);return this.registerModuleUserComponents(h,l),this.registerControllers(h,l),this.registerModuleApiFunctions(h,l),n(h),h.getBean("syncService").start(),r&&r(h),h.getBean("gridApi")}registerControllers(e,t){const n=e.getBean("ctrlsFactory");t.forEach(r=>{r.controllers&&r.controllers.forEach(i=>n.register(i))})}getRegisteredModules(e,t){const n=e?e.modules:null,r=qo.__getRegisteredModules(t),i=[],o={},s=(a,l,c)=>{(d=>{o[d.moduleName]||(o[d.moduleName]=!0,i.push(d),qo.__register(d,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(d=>s(a,d,c))};return s(!!(n!=null&&n.length)||!qo.__isPackageBased(),z_,void 0),n&&n.forEach(a=>s(!0,a,t)),r&&r.forEach(a=>s(!qo.__isPackageBased(),a,void 0)),i}registerModuleUserComponents(e,t){const n=this.extractModuleEntity(t,i=>i.userComponents?i.userComponents:[]),r=e.getBean("userComponentRegistry");n.forEach(({name:i,classImp:o,params:s})=>{r.registerDefaultComponent(i,o,s)})}registerModuleApiFunctions(e,t){const n=e.getBean("apiFunctionService");t.forEach(r=>{const i=r.apiFunctions;i&&Object.keys(i).forEach(s=>{n==null||n.addFunction(s,i[s])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Pt(r)&&(r=new N_);const i={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e="clientSide",t,n){const r=t.filter(l=>!l.rowModel||l.rowModel===e),i={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!i[e]){Bt("Could not find row model for rowModelType = ",e);return}if(!qo.__assertRegistered(i[e],`rowModelType = '${e}'`,n))return;const o=[LZ,MZ,qne,Une,yZ,p7,TZ,AZ,fJ,$N,ire,hJ,Yne,oZ,_7,p9,BZ,Kne,gZ,q_,n9,qQ,Jne,Xne,rZ,dre,t9,dJ,hre,pre,tZ,pJ,k7,HZ,uJ,NZ,vZ,uZ,cJ,are,tre,ere,sre,ure,gJ,wZ,rre,ore,OZ,GZ,kZ,FZ,lre,nre,mJ,Qne,Zne,vJ,o9,bZ,s9,r9,RZ,EZ,h9,i9,u9,PZ,d9,Q8],s=this.extractModuleEntity(r,l=>l.beans?l.beans:[]);o.push(...s);const a=[];return o.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},Q_=class extends j{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function vre(e){e.expansionService.expandAll(!0)}function Cre(e){e.expansionService.expandAll(!1)}function yre(e){var r,i;const t=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel(),n=(i=e.rowModelHelperService)==null?void 0:i.getServerSideRowModel();t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Sre(e,t,n){var o,s;const r=(o=e.rowModelHelperService)==null?void 0:o.getServerSideRowModel();if(r){if(e.funcColsService.isRowGroupEmpty()){r.setRowCount(t,n);return}Bt("setRowCount cannot be used while using row grouping.");return}const i=(s=e.rowModelHelperService)==null?void 0:s.getInfiniteRowModel();if(i){i.setRowCount(t,n);return}}function wre(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function bre(e){return e.rowModel.isLastRowIndexKnown()}var Rre={version:ze,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:vre,collapseAll:Cre,onRowHeightChanged:yre}},Ere={version:ze,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:Sre,getCacheBlockState:wre,isLastRowIndexKnown:bre}},Pre=class{wrap(e,t,n=[],r){const i=this.createWrapper(e,r);return t.forEach(o=>{this.createMethod(i,o,!0)}),n.forEach(o=>{this.createMethod(i,o,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&ee("Framework component is missing the method "+t+"()"),null)}}},Wu=typeof global>"u"?{}:global;Wu.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Wu.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Wu.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Wu.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Wu.Node=typeof Node>"u"?{}:Node;Wu.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Tre="ROOT_NODE_ID",Ay=0,Are=class{constructor(e,t,n,r,i,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=n,this.funcColsService=r,this.beans=o,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Tre,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return CN(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){ee("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,n=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((r,i)=>this.createNode(r,this.rootNode,Ay,i)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=t.childrenAfterFilter,n.childrenAfterGroup=t.childrenAfterGroup,n.childrenAfterAggFilter=t.childrenAfterAggFilter,n.childrenAfterSort=t.childrenAfterSort,n.childrenMapped=t.childrenMapped,n.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[];return this.executeRemove(e,t,n),this.executeUpdate(e,t,n),this.executeAdd(e,t),this.updateSelection(n,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,n=(t==null?void 0:t.length)??0,r=new Map;let i=-1,o=-1;for(let s=0;s<n;++s){const a=t[s],l=a.data;l!==e[s]&&(o<0&&(i=s),o=s,r.set(l,a))}if(i<0)return!1;for(let s=i;s<=o;++s){const a=r.get(e[s]);a!==void 0&&(t[s]=a,a.sourceRowIndex=s)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const n=e.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const n=e.add;if(xi(n))return;const r=this.rootNode.allLeafChildren;let i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")))for(let l=0;l<r.length;l++){const c=r[l];if((c==null?void 0:c.rowIndex)==i-1){i=l+1;break}}const o=n.map((a,l)=>this.createNode(a,this.rootNode,Ay,i+l));if(i<r.length){const a=r.slice(0,i),l=r.slice(i,r.length),c=a.length+o.length;for(let u=0,d=l.length;u<d;++u)l[u].sourceRowIndex=c+u;this.rootNode.allLeafChildren=[...a,...o,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=r.concat(o);const s=this.rootNode.sibling;s&&(s.allLeafChildren=r),t.rowNodeTransaction.add=o}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},n){var s,a;const{remove:r}=e;if(xi(r))return;const i={};r.forEach(l=>{const c=this.lookupRowNode(l);c&&(c.isSelected()&&n.push(c),c.clearRowTopAndRowIndex(),i[c.id]=!0,delete this.allNodesMap[c.id],t.remove.push(c))}),this.rootNode.allLeafChildren=((s=this.rootNode.allLeafChildren)==null?void 0:s.filter(l=>!i[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,c)=>{l.sourceRowIndex=c});const o=this.rootNode.sibling;o&&(o.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},n){const{update:r}=e;xi(r)||r.forEach(i=>{const o=this.lookupRowNode(i);o&&(o.updateData(i),!o.selectable&&o.isSelected()&&n.push(o),this.setMasterForRow(o,i,Ay,!1),t.update.push(o))})}lookupRowNode(e){var r;const t=Bu(this.gos);let n;if(t){const i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return Bt(`could not find row id=${i}, data item was not found for this id`),null}else if(n=(r=this.rootNode.allLeafChildren)==null?void 0:r.find(i=>i.data===e),!n)return Bt("could not find data item as object was not found",e),Bt("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,t,n,r){const i=new Is(this.beans);return i.sourceRowIndex=r,i.group=!1,this.setMasterForRow(i,e,n,!0),t&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&ee(`duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(e,t,n,r){if(this.gos.get("treeData"))e.setMaster(!1),r&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const s=this.gos.get("isRowMaster");s?e.setMaster(s(t)):e.setMaster(!0)}else e.setMaster(!1);if(r){const s=this.funcColsService.getRowGroupColumns(),a=s?s.length:0,l=n+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},Ire=class extends j{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Vr(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Is(this.beans),this.nodeManager=new Are(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),r=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),i=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),o=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...n,...r,...r,...i,...o,...s,...a];this.addManagedPropertyListeners(l,c=>{var h;const u=(h=c.changeSet)==null?void 0:h.properties;if(!u)return;const d=p=>u.some(f=>p.has(f));if(d(e)){this.setRowData(this.rootNode.allLeafChildren.map(p=>p.data));return}if(d(t)){this.refreshModel({step:"group"});return}if(d(n)){this.refreshModel({step:"filter"});return}if(d(r)){this.refreshModel({step:"pivot"});return}if(d(i)){this.refreshModel({step:"aggregate"});return}if(d(o)){this.refreshModel({step:"sort"});return}if(d(s)){this.refreshModel({step:"filter_aggregates"});return}d(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,n,r){let i,o=!1;do{i=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),c=Math.min(a,r);for(let u=l;u<=c;u++){const d=this.getRow(u);if(d.rowHeightEstimated){const h=Fa(this.gos,d);d.setRowHeight(h.height),i=!0,o=!0}}i&&this.setRowTopAndRowIndex()}while(i);return o}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const n=new Set,r=vr(this.gos,"normal");for(let i=0;i<this.rowsToDisplay.length;i++){const o=this.rowsToDisplay[i];if(o.id!=null&&n.add(o.id),o.rowHeight==null){const s=Fa(this.gos,o,r,e);o.setRowHeight(s.height,s.estimated)}o.setRowTop(t),o.setRowIndex(i),t+=o.rowHeight}return n}clearRowTopAndRowIndex(e,t){const n=e.isActive(),r=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},i=o=>{if(r(o),r(o.detailNode),r(o.sibling),o.hasChildren()&&o.childrenAfterGroup){const s=o.level==-1;n&&!s&&!o.expanded||o.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,n=0){const r=this.getRowIndexAtPixel(t),i=this.getRow(r),o=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const s=this.rootNode.allLeafChildren;return e.forEach(a=>{Wr(s,a)}),e.forEach((a,l)=>{vm(s,a,Math.max(r+n,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:o,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,r=n!=null?this.getRow(n):null;if(!r||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,r),o=this.isHighlightingCurrentPosition(e,r,i),s=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==r;(o||s)&&(this.clearHighlightedRow(),o)||(r.setHighlighted(i),this.lastHighlightedRow=r)}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return 1}const{rowTop:n,rowHeight:r}=t;return e-n<r/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;const r=n===0?-1:1;return this.getRow(t.rowIndex+r)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,n=this.rootNode.sibling?1:0;return(t?t.length:0)+n}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let n=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;n-=1}const r=this.rowsToDisplay[this.rowsToDisplay.length-1],i=n>=this.rootNode.childrenAfterSort.length;if(r.footer&&i)return r.rowIndex;let o=this.rootNode.childrenAfterSort[n];if(this.gos.get("groupHideOpenParents"))for(;o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0;)o=o.childrenAfterSort[0];return o.rowIndex}getRowBounds(e){if(Pt(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Xc(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Xc(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Xc(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=xi(e),n=new sC(!1,this.rootNode);return t&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(r=>r.add!=null&&r.add.length>0||r.remove!=null&&r.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(ce(e)&&(t=n[e]),Pt(t)){Bt(`invalid step ${e}, available steps are ${Object.keys(n).join(", ")}`);return}const r=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:r}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const n=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,n,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(t.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}const r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,r),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Pt(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Pt(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return ce(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],o=Nl(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(r)return;if(n&&(s===t||s===e)&&(r=!0,s.group&&o)){i.push(...s.allLeafChildren);return}if(!n){if(s!==t&&s!==e)return;n=!0}if(!s.group||!o){i.push(s);return}}),i}setDatasource(e){Bt("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Et(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let i=-1,o=-1;for(;;){const s=Math.floor((t+n)/2),a=this.rowsToDisplay[s];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=s+1:a.rowTop>e&&(n=s-1),i===t&&o===n))return s;i=t,o=n}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:n,recursionType:r,includeFooterNodes:i}=e;let{index:o}=e;const s=a=>{var p;const l=(p=t[0])==null?void 0:p.parent;if(!l)return;const c=i&&lN(this.gos),u=cN(this.gos),d=i&&u({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),n(l.sibling,o++));return}d===a&&(l.createFooter(),n(l.sibling,o++))};s("top");for(let a=0;a<t.length;a++){const l=t[a];if(n(l,o++),l.hasChildren()&&!l.footer){let c=null;switch(r){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:n,recursionType:r,index:o,includeFooterNodes:i}))}}return s("bottom"),o}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),n=this.columnModel.isPivotActive(),r=i=>{i&&i.forEach(o=>{const s=()=>{o.expanded=e,r(o.childrenAfterGroup)};if(t){ce(o.childrenAfterGroup)&&s();return}if(n){!o.leafGroup&&s();return}o.group&&s()})};this.rootNode&&r(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,n,r){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:n,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:r}),Nl(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const i=this.rootNode,o=i.sibling;i.childrenAfterGroup=i.allLeafChildren,o&&(o.childrenAfterGroup=i.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(Is.ID_PREFIX_ROW_GROUP)==0){let n;return this.forEachNode(r=>{r.id===e&&(n=r)}),n}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var r;this.valueCache.onDataChanged();const e=[],t=[];let n=!1;(r=this.rowDataTransactionBatch)==null||r.forEach(i=>{const{rowNodeTransaction:o,rowsInserted:s}=this.nodeManager.updateRowData(i.rowDataTransaction);s&&(n=!0),t.push(o),i.callback&&e.push(i.callback.bind(null,o))}),this.commonUpdateRowData(t,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:n}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],n),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const n=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function xre(e){e.expansionService.onGroupExpandedOrCollapsed()}function Dre(e,t){var n,r;(r=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||r.refreshModel(t)}function Fre(e){var t,n;return((n=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:n.isEmpty())??!0}function Ore(e,t){var n,r;(r=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||r.forEachLeafNode(t)}function Mre(e,t){var n,r;(r=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||r.forEachNodeAfterFilter(t)}function kre(e,t){var n,r;(r=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null||r.forEachNodeAfterFilterAndSort(t)}function Lre(e){var t,n;if(e.columnModel.isAutoRowHeightActive()){ee("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(n=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||n.resetRowHeights()}function Nre(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n,r;return(r=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:r.updateRowData(t)})}function _re(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var r,i;return(i=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null?void 0:i.batchUpdateRowData(t,n)})}function Bre(e){e.frameworkOverrides.wrapIncoming(()=>{var t,n;return(n=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:n.flushAsyncTransactions()})}function Hre(e){return e.selectionService.getBestCostNodeSelection()}var Gre=class extends j{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(o=>{const s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):r.childrenAfterFilter=r.childrenAfterGroup,r.sibling&&(r.sibling.childrenAfterFilter=r.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const r=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){const l=o.childrenAfterGroup[a],c=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(o.childrenAfterGroup[a],c):n(l,c)}n(o,s)},i=o=>r(o,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Vre=class extends j{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,n=[],r=this.columnModel.isPivotMode(),i=r&&t.leafGroup,o=i?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,o,n,r,0);const a=n.length>0;if(!i&&a&&s.grandTotalRow){t.createFooter();const c=s.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(s,t.sibling,n,0,c)}return n}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:uN(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:lN(this.gos),groupTotalRow:cN(this.gos)}}recursivelyAddToRowsToDisplay(e,t,n,r,i){if(!xi(t))for(let o=0;o<t.length;o++){const s=t[o],a=s.hasChildren(),l=r&&!a,c=e.groupRemoveSingleChildren&&a&&s.childrenAfterGroup.length===1,u=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&s.childrenAfterGroup.length===1,d=r&&s.leafGroup,h=e.hideOpenParents&&s.expanded&&!s.master&&!d;if(!l&&!h&&!c&&!u&&this.addRowNodeToRowsToDisplay(e,s,n,i),!(r&&s.leafGroup)){if(a){const f=c||u;if(s.expanded||f){const C=e.groupTotalRow({node:s});C||s.destroyFooter();const y=f?i:i+1;C==="top"&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,n,y)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,n,r,y),C==="bottom"&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,n,y))}}else if(s.master&&s.expanded){const f=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,f,n,i)}}}}addRowNodeToRowsToDisplay(e,t,n,r,i){i?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:r)}createDetailNode(e){if(ce(e.detailNode))return e.detailNode;const t=new Is(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,ce(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},Wre=class extends j{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){hn(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const n=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:r,rowsInserted:i}=n.updateRowData(t);let o=!1;this.gos.get("suppressMaintainUnsortedOrder")||(o=n.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(r,o||i)}createTransactionForRowData(e){if(!hn(this.gos))return Bt("ImmutableService only works with ClientSideRowModel"),null;const t=Bu(this.gos);if(t==null)return Bt("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const n=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),r=[],i=[],o=[];return ce(e)&&e.forEach(s=>{const a=t({data:s,level:0}),l=n[a];l?(l.data!==s&&i.push(s),n[a]=void 0):o.push(s)}),So(n,(s,a)=>{a&&r.push(a.data)}),{remove:r,update:i,add:o}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},Ure=class extends j{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,n,r,i,o){const s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(h=>h.isRowGroupActive());let l={};n&&r&&(l=this.calculateDirtyNodes(r));const c=this.columnModel.isPivotMode(),u=this.gos.getCallback("postSortRows"),d=h=>{var C;this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const p=c&&h.leafGroup;if(s&&a&&!h.leafGroup&&!o){const y=(C=this.funcColsService.getRowGroupColumns())==null?void 0:C[h.level+1],g=(y==null?void 0:y.getSort())===null,v=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort&&!g){const m={};h.childrenAfterSort.forEach((w,E)=>{m[w.id]=E}),v.sort((w,E)=>(m[w.id]??0)-(m[E.id]??0))}h.childrenAfterSort=v}else!t||p?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):n?h.childrenAfterSort=this.doDeltaSort(h,l,i,e):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),u){const y={nodes:h.childrenAfterSort};u(y)}};i&&i.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(i)}calculateDirtyNodes(e){const t={},n=r=>{r&&r.forEach(i=>t[i.id]=!0)};return e&&e.forEach(r=>{n(r.add),n(r.update),n(r.remove)}),t}doDeltaSort(e,t,n,r){const i=e.childrenAfterAggFilter,o=e.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(i,r);const s={},a=[];i.forEach(d=>{t[d.id]||!n.canSkip(d)?a.push(d):s[d.id]=!0});const l=o.filter(d=>s[d.id]),c=(d,h)=>({currentPos:h,rowNode:d}),u=a.map(c).sort((d,h)=>this.rowNodeSorter.compareRowNodes(r,d,h));return this.mergeSortedArrays(r,u,l.map(c)).map(({rowNode:d})=>d)}mergeSortedArrays(e,t,n){const r=[];let i=0,o=0;for(;i<t.length&&o<n.length;)this.rowNodeSorter.compareRowNodes(e,t[i],n[o])<0?r.push(t[i++]):r.push(n[o++]);for(;i<t.length;)r.push(t[i++]);for(;o<n.length;)r.push(n[o++]);return r}updateChildIndexes(e){if(Pt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,o=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.setLastChild(o),r.setChildIndex(n)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return ee("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(r=>{r.hasChildren()&&t(r)})};e&&e.executeFromRootNode(n=>t(n))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Pt(e)||e.forEach(n=>{var i;(((i=this.showRowGroupColsService)==null?void 0:i.getShowRowGroupCols())??[]).forEach(o=>{const s=o.getColDef().showRowGroup;if(typeof s!="string"){Bt("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=s,l=this.columnModel.getColDefCol(a);if(l!==n.rowGroupColumn)if(t)n.setGroupValue(o.getId(),void 0);else{const u=this.getFirstChildOfFirstChild(n,l);u&&n.setGroupValue(o.getId(),u.key)}})})}getFirstChildOfFirstChild(e,t){let n=e;for(;n;){const r=n.parent;if(r&&n.firstChild){if(r.rowGroupColumn===t)return r}else return null;n=r}return null}},zre=class extends j{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),n=ce(t)&&t.length>0,r=n&&ce(e.rowNodeTransactions)&&this.gos.get("deltaSort"),i=t.some(o=>Ko(this.gos)?o.column.isPrimary()&&o.column.isRowGroupActive():!!o.column.getColDef().showRowGroup);this.sortService.sort(t,n,r,e.rowNodeTransactions,e.changedPath,i)}},wP="32.3.2",X_={version:wP,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[Ire,Gre,zre,Vre,Ure,Wre]},$re={version:wP,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[Q_],apiFunctions:{onGroupExpandedOrCollapsed:xre,refreshClientSideRowModel:Dre,isRowDataEmpty:Fre,forEachLeafNode:Ore,forEachNodeAfterFilter:Mre,forEachNodeAfterFilterAndSort:kre,resetRowHeights:Lre,applyTransaction:Nre,applyTransactionAsync:_re,flushAsyncTransactions:Bre,getBestCostNodeSelection:Hre},dependantModules:[X_,Rre]},jre={version:wP,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[X_,$re]},Kre=class extends j{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},qre=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:n,columnNameService:r,valueService:i,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=n,this.columnNameService=r,this.valueService=i,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueService.getValue(e,i);return this.processCell({accumulatedRowIndex:n,rowNode:i,column:e,value:s,processCellCallback:this.processCellCallback,type:r})}shouldRenderGroupSummaryCell(e,t,n){var s;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const a=(s=e.groupData)==null?void 0:s[t.getId()],l=this.gos.get("suppressGroupMaintainValueType");if(l&&a!=null||!l&&a!==void 0||cs(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const c=t.getColDef();return c==null||c.showRowGroup===!0||c.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const o=eC(this.gos,this.columnModel.isPivotMode());return n===0&&o}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const n=this.gos.get("treeData"),r=this.gos.get("suppressGroupMaintainValueType"),i=l=>{var u;if(n||r)return l.key;const c=(u=l.groupData)==null?void 0:u[e.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueService.formatValue(l.rowGroupColumn,l,c)??c},o=t.footer,s=[i(t)];if(!uN(this.gos))for(;t.parent;)t=t.parent,s.push(i(t));const a=s.reverse().join(" -> ");return o?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:n,column:r,value:i,processCellCallback:o,type:s}=e;return o?{value:o(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:r,node:n,value:i,type:s,parseValue:a=>this.valueService.parseValue(r,n,a,this.valueService.getValue(r,n)),formatValue:a=>this.valueService.formatValue(r,n,a)??a}))??""}:r.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueService.formatValue(r,n,i)}:{value:i??""}}},Yre=class{static download(e,t){const n=document.defaultView||window;if(!n){ee("There is no `window` associated with the current `document`");return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}},dD=`\r
`,Qre=class extends qre{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,dD),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ee("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=dD),this.isFirstLine=!1}},Xre=class extends Kre{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ee("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;Yre.download(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:n,funcColsService:r,valueService:i,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:d}=e;return new Qre({columnModel:t,columnNameService:n,funcColsService:r,valueService:i,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Jre(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function Zre(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var eie=class extends j{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i}=t,o=this.getColumnsToExport(n,i,r);return D8(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t))(e).parse()}processRow(e,t,n,r){var g;const i=t.shouldRowBeSkipped||(()=>!1),o=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,u=this.columnModel.isPivotMode()?r.leafGroup:!r.group,d=!!r.footer,h=s&&r.leafGroup,p=r.allChildrenCount===1&&((g=r.childrenAfterGroup)==null?void 0:g.length)===1&&(o||h);if(!u&&!d&&(t.skipRowGroups||p||c)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.level===-1&&!u&&!d||i(this.gos.addGridCommonParams({node:r})))return;const y=e.onNewBodyRow(r);if(n.forEach((v,m)=>{y.onColumn(v,m,r)}),t.getCustomContentBelowRow){const v=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:r}));v&&e.addCustomContent(v)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new bN,i=this.visibleColsService.createGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(i,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,o)=>{r.onColumn(i,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,o)=>i.rowIndex-o.rowIndex).map(i=>this.pinnedRowModel.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=hn(this.gos),o=cs(this.gos),s=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())i?r.forEachPivotNode(a,!0):o?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);else if(e.onlySelectedAllPages||s){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?r.forEachNode(a):i||o?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),n=(r,i)=>{var o,s;return r.rowIndex!=null&&i.rowIndex!=null?r.rowIndex-i.rowIndex:r.level===i.level?((o=r.parent)==null?void 0:o.id)===((s=i.parent)==null?void 0:s.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:r,currentPos:r.rowIndex??-1},{rowNode:i,currentPos:i.rowIndex??-1}):n(r.parent,i.parent):r.level>i.level?n(r.parent,i):n(r,i.parent)};e.sort(n)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,o)=>i.rowIndex-o.rowIndex).map(i=>this.pinnedRowModel.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e=!1,t=!1,n){const r=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getColsForKeys(n);const i=this.gos.get("treeData");let o=[];return e&&!r?o=this.columnModel.getCols():o=this.visibleColsService.getAllCols(),t&&!i&&(o=o.filter(s=>Gw(s)||Rp(s))),o}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const o=i;o.getChildren&&o.getChildren().forEach(s=>r.push(s))}),e.length>0&&_n(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(o=>{const s=o;let a;n?a=n(this.gos.addGridCommonParams({columnGroup:s})):a=this.columnNameService.getDisplayNameForColumnGroup(s,"header");const l=s.getLeafColumns().reduce((c,u,d,h)=>{let p=Et(c);return u.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[d],c.push(p)):p&&p[1]==null&&(p[1]=d-1),d===h.length-1&&p&&p[1]==null&&(p[1]=d),c},[]);r.onColumn(s,a||"",i++,s.getLeafColumns().length-1,l)})}},bP="32.3.2",J_={version:bP,moduleName:"@ag-grid-community/csv-export-core",beans:[Xre,eie]},tie={version:bP,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:Jre,exportDataAsCsv:Zre},dependantModules:[J_]},nie={version:bP,moduleName:"@ag-grid-community/csv-export",dependantModules:[J_,tie]},rie=class extends sZ{wireBeans(e){this.beans=e}constructor(e,t,n){super(e),this.parentCache=t,this.params=n,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,n){ce(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Pt(this.params.datasource.getRows)){ee("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const n=e-this.startRow;return this.rowNodes[n]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,n=new Is(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(t),n.setRowTop(this.params.rowHeight*t),this.rowNodes.push(n)}}processServerResult(e){this.rowNodes.forEach((n,r)=>{const i=e.rowData?e.rowData[r]:void 0;!n.id&&n.alreadyRendered&&i&&(this.rowNodes[r]=new Is(this.beans),this.rowNodes[r].setRowIndex(n.rowIndex),this.rowNodes[r].setRowTop(n.rowTop),this.rowNodes[r].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[r],i,this.startRow+r)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},iie=2,oie=class extends j{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.createBean(new rie(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&wo(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,a)=>a.getLastAccessed()-s.getLastAccessed();t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,o=iie-1;t.forEach((s,a)=>{const l=s.getState()==="needsLoading"&&a>=o,c=r?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const n=e.getStartRow(),r=e.getEndRow();return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,ce(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new wu;this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.getId()-r.getId();return Ww(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const o=new wu;let s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(i&&r+1!==l.getId()){s=!0;return}r=l.getId(),l.forEachNode(c=>{const u=c===e||c===t;(i||u)&&n.push(c),u&&(i=!i)},o,this.rowCount)}}),s||i?[]:n}},sie=class extends j{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=vl(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&ee("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=vl(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!$h(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;Bu(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:vl(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new wu},this.infiniteCache=this.createBean(new oie(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function aie(e){var t,n;(n=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||n.refreshCache()}function lie(e){var t,n;(n=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||n.purgeCache()}function cie(e){var t,n;return(n=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:n.getRowCount()}var RP="32.3.2",Z_={version:RP,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[sie],dependantModules:[lZ]},uie={version:RP,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[Q_],apiFunctions:{refreshInfiniteCache:aie,purgeInfiniteCache:lie,getInfiniteRowCount:cie},dependantModules:[Z_,Ere]},die={version:RP,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[Z_,uie]};qo.__registerModules([z_,jre,die,nie],!1,void 0);var Fr=$.createContext({}),Ip=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(o==null)return;let s,a,l=!1;return o.then(c=>{if(l){t.destroyBean(c);return}s=c,a=s.getGui(),n.appendChild(a),hD(r,s)}),()=>{var c;l=!0,s&&((c=a==null?void 0:a.parentElement)==null||c.removeChild(a),t.destroyBean(s),r&&hD(r,void 0))}},hD=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Co=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Qi=class e1{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new e1;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Uu=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},S0,nb=(S0=$.version)==null?void 0:S0.split(".")[0],hie=nb==="16"||nb==="17";function pie(){return nb==="19"}var pg=!1;function fie(e){return pg||setTimeout(()=>pg=!1,0),pg=!0,e()}var EP=(e,t)=>{!hie&&e&&!pg?Fc.flushSync(t):t()};function PP(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],o=new Map,s=new Map;for(let a=0;a<t.length;a++){const l=t[a];s.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.instanceId,l),s.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;o.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var t1=S.forwardRef((e,t)=>{var H;const{ctrlsFactory:n,context:r}=S.useContext(Fr),i=S.useRef(null),o=S.useRef(null),s=S.useRef(null),a=S.useRef(null),l=S.useRef(null),c=S.useRef(),[u,d]=S.useState(),[h,p]=S.useState(),[f,C]=S.useState(),[y,g]=S.useState(()=>new Qi),[v,m]=S.useState(()=>new Qi("ag-hidden")),[w,E]=S.useState(()=>new Qi("ag-hidden")),[P,A]=S.useState(()=>new Qi("ag-invisible"));S.useImperativeHandle(t,()=>({refresh(){return!1}})),S.useLayoutEffect(()=>Ip(u,r,o.current),[u]);const R=S.useCallback(L=>{if(i.current=L,!L){c.current=r.destroyBean(c.current);return}const M={setInnerRenderer:(oe,G)=>{d(oe),C(G)},setChildCount:oe=>p(oe),addOrRemoveCssClass:(oe,G)=>g(re=>re.setClass(oe,G)),setContractedDisplayed:oe=>E(G=>G.setClass("ag-hidden",!oe)),setExpandedDisplayed:oe=>m(G=>G.setClass("ag-hidden",!oe)),setCheckboxVisible:oe=>A(G=>G.setClass("ag-invisible",!oe))},ne=n.getInstance("groupCellRendererCtrl");ne&&(c.current=r.createBean(ne),c.current.init(M,L,s.current,a.current,l.current,t1,e))},[]),T=S.useMemo(()=>`ag-cell-wrapper ${y.toString()}`,[y]),b=S.useMemo(()=>`ag-group-expanded ${v.toString()}`,[v]),I=S.useMemo(()=>`ag-group-contracted ${w.toString()}`,[w]),D=S.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),F=u&&u.componentFromFramework,O=F?u.componentClass:void 0,_=u==null&&f!=null,N=ns(f,!0);return $.createElement("span",{className:T,ref:R,...e.colDef?{}:{role:(H=c.current)==null?void 0:H.getCellAriaRole()}},$.createElement("span",{className:b,ref:a}),$.createElement("span",{className:I,ref:l}),$.createElement("span",{className:D,ref:s}),$.createElement("span",{className:"ag-group-value",ref:o},_&&$.createElement($.Fragment,null,N),F&&$.createElement(O,{...u.params})),$.createElement("span",{className:"ag-group-child-count"},h))}),pD=t1,TP=S.createContext({setMethods:()=>{}}),gie=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:o,...s},a]=S.useState(t);return S.useEffect(()=>{n(l=>a(l))},[]),$.createElement(TP.Provider,{value:{setMethods:i}},$.createElement(r,{key:o,...s}))},mie=S.memo(gie),vie=0;function fD(){return`agPortalKey_${++vie}`}var n1=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=fD(),this.portalKey=fD(),this.instanceCreated=this.isStatelessComponent()?kn.resolve(!1):new kn(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ee('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ee('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new kn(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Vl.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return S.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function AP(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var ds=class extends n1{constructor(){super(...arguments),this.awaitUpdateCallback=new kn(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=mie}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new kn(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,AP(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new kn(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Cie=class extends ds{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},yie=class extends ds{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Sie=class extends ds{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},wie=class extends ds{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function r1(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||kn.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var bie=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){AP(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),r1(this.floatingFilterParams,e)}},Rie=class extends ds{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),r1(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Eie=class extends ds{refresh(e){this.sourceParams=e,this.refreshProps()}},Pie=class extends ds{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Tie=class extends ds{refresh(e){this.sourceParams=e,this.refreshProps()}},Aie=class extends ds{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Iie=class extends ds{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function IP(){ee("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var xie=1e3,Die=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||xie}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},Fie=({ctrl:e})=>{const t=e.isAlive(),{context:n}=S.useContext(Fr),r=t?e.getColId():void 0,[i,o]=S.useState(),s=S.useRef(),a=S.useRef(null),l=S.useRef(null),c=S.useRef(null),u=S.useRef(),d=S.useRef();t&&!d.current&&(d.current=new Pp(()=>a.current));const h=S.useCallback(y=>{var m;if(a.current=y,s.current=y?n.createBean(new Hu):n.destroyBean(s.current),!y||!t)return;const g={setWidth:w=>{a.current&&(a.current.style.width=w)},addOrRemoveCssClass:(w,E)=>d.current.addOrRemoveCssClass(w,E),setAriaSort:w=>{a.current&&(w?D9(a.current,w):F9(a.current))},setUserCompDetails:w=>o(w),getUserCompInstance:()=>u.current||void 0};e.setComp(g,y,l.current,c.current,s.current);const v=e.getSelectAllGui();(m=l.current)==null||m.insertAdjacentElement("afterend",v),s.current.addDestroyFunc(()=>v.remove())},[]);S.useLayoutEffect(()=>Ip(i,n,c.current,u),[i]),S.useEffect(()=>{e.setDragSource(a.current)},[i]);const p=S.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&Uu(i.componentClass)),[i]),f=i&&i.componentFromFramework,C=i&&i.componentClass;return $.createElement("div",{ref:h,className:"ag-header-cell","col-id":r,role:"columnheader"},$.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),$.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},f&&p&&$.createElement(C,{...i.params}),f&&!p&&$.createElement(C,{...i.params,ref:u})))},Oie=S.memo(Fie),Mie=({ctrl:e})=>{const{context:t,gos:n}=S.useContext(Fr),[r,i]=S.useState(()=>new Qi("ag-header-cell","ag-floating-filter")),[o,s]=S.useState(()=>new Qi),[a,l]=S.useState(()=>new Qi("ag-floating-filter-button","ag-hidden")),[c,u]=S.useState("false"),[d,h]=S.useState(),[,p]=S.useState(1),f=S.useRef(),C=S.useRef(null),y=S.useRef(null),g=S.useRef(null),v=S.useRef(null),m=S.useRef(),w=S.useRef(),E=N=>{N!=null&&m.current&&m.current(N)},P=S.useCallback(N=>{if(C.current=N,f.current=N?t.createBean(new Hu):t.destroyBean(f.current),!N)return;w.current=new kn(L=>{m.current=L});const H={addOrRemoveCssClass:(L,M)=>i(ne=>ne.setClass(L,M)),addOrRemoveBodyCssClass:(L,M)=>s(ne=>ne.setClass(L,M)),setButtonWrapperDisplayed:L=>{l(M=>M.setClass("ag-hidden",!L)),u(L?"false":"true")},setWidth:L=>{C.current&&(C.current.style.width=L)},setCompDetails:L=>h(L),getFloatingFilterComp:()=>w.current?w.current:null,setMenuIcon:L=>{var M;return(M=v.current)==null?void 0:M.appendChild(L)}};e.setComp(H,N,v.current,y.current,f.current)},[]);S.useLayoutEffect(()=>Ip(d,t,y.current,E),[d]);const A=S.useMemo(()=>r.toString(),[r]),R=S.useMemo(()=>o.toString(),[o]),T=S.useMemo(()=>a.toString(),[a]),b=S.useMemo(()=>!!(d&&d.componentFromFramework&&Uu(d.componentClass)),[d]),I=S.useMemo(()=>n.get("reactiveCustomComponents"),[]),D=S.useMemo(()=>{if(d)if(I){const N=new bie(d.params,()=>p(H=>H+1));return E(N),N}else d.componentFromFramework&&IP()},[d]),F=D==null?void 0:D.getProps(),O=d&&d.componentFromFramework,_=d&&d.componentClass;return $.createElement("div",{ref:P,className:A,role:"gridcell"},$.createElement("div",{ref:y,className:R,role:"presentation"},O&&!I&&$.createElement(_,{...d.params,ref:b?()=>{}:E}),O&&I&&$.createElement(TP.Provider,{value:{setMethods:N=>D.setMethods(N)}},$.createElement(_,{...F}))),$.createElement("div",{ref:g,"aria-hidden":c,className:T,role:"presentation"},$.createElement("button",{ref:v,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},kie=S.memo(Mie),Lie=({ctrl:e})=>{const{context:t}=S.useContext(Fr),[n,r]=S.useState(()=>new Qi),[i,o]=S.useState(()=>new Qi),[s,a]=S.useState("false"),[l,c]=S.useState(),[u,d]=S.useState(),h=S.useMemo(()=>e.getColId(),[]),p=S.useRef(),f=S.useRef(null),C=S.useRef(null),y=S.useRef(null),g=S.useRef(),v=S.useCallback(R=>{if(f.current=R,p.current=R?t.createBean(new Hu):t.destroyBean(p.current),!R)return;const T={setWidth:b=>{f.current&&(f.current.style.width=b)},addOrRemoveCssClass:(b,I)=>r(D=>D.setClass(b,I)),setHeaderWrapperHidden:b=>{const I=y.current;I&&(b?I.style.setProperty("display","none"):I.style.removeProperty("display"))},setHeaderWrapperMaxHeight:b=>{const I=y.current;I&&(b!=null?I.style.setProperty("max-height",`${b}px`):I.style.removeProperty("max-height"),I.classList.toggle("ag-header-cell-comp-wrapper-limited-height",b!=null))},setUserCompDetails:b=>d(b),setResizableDisplayed:b=>{o(I=>I.setClass("ag-hidden",!b)),a(b?"false":"true")},setAriaExpanded:b=>c(b),getUserCompInstance:()=>g.current||void 0};e.setComp(T,R,C.current,y.current,p.current)},[]);S.useLayoutEffect(()=>Ip(u,t,y.current),[u]),S.useEffect(()=>{f.current&&e.setDragSource(f.current)},[u]);const m=S.useMemo(()=>!!((u==null?void 0:u.componentFromFramework)&&Uu(u.componentClass)),[u]),w=S.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),E=S.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),P=u&&u.componentFromFramework,A=u&&u.componentClass;return $.createElement("div",{ref:v,className:w,"col-id":h,role:"columnheader","aria-expanded":l},$.createElement("div",{ref:y,className:"ag-header-cell-comp-wrapper",role:"presentation"},P&&m&&$.createElement(A,{...u.params}),P&&!m&&$.createElement(A,{...u.params,ref:g})),$.createElement("div",{ref:C,"aria-hidden":s,className:E}))},Nie=S.memo(Lie),_ie=({ctrl:e})=>{const{context:t}=S.useContext(Fr),{topOffset:n,rowHeight:r}=S.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),o=e.getHeaderRowClass(),[s,a]=S.useState(()=>r+"px"),[l,c]=S.useState(()=>n+"px"),u=S.useRef(null),d=S.useRef(null),[h,p]=S.useState(()=>e.getHeaderCtrls()),f=S.useRef(),C=S.useRef(null),y=S.useCallback(m=>{if(C.current=m,f.current=m?t.createBean(new Hu):t.destroyBean(f.current),!m)return;const w={setHeight:E=>a(E),setTop:E=>c(E),setHeaderCtrls:(E,P,A)=>{d.current=u.current,u.current=E;const R=PP(d.current,E,P);R!==d.current&&EP(A,()=>p(R))},setWidth:E=>{C.current&&(C.current.style.width=E)}};e.setComp(w,f.current,!1)},[]),g=S.useMemo(()=>({height:s,top:l}),[s,l]),v=S.useCallback(m=>{switch(e.getType()){case Xw.COLUMN_GROUP:return $.createElement(Nie,{ctrl:m,key:m.instanceId});case Xw.FLOATING_FILTER:return $.createElement(kie,{ctrl:m,key:m.instanceId});default:return $.createElement(Oie,{ctrl:m,key:m.instanceId})}},[]);return $.createElement("div",{ref:y,className:o,role:"row",style:g,"aria-rowindex":i},h.map(v))},Bie=S.memo(_ie),Hie=({pinned:e})=>{const[t,n]=S.useState(!0),[r,i]=S.useState([]),{context:o}=S.useContext(Fr),s=S.useRef(null),a=S.useRef(null),l=S.useRef(),c=e==="left",u=e==="right",d=!c&&!u,h=S.useCallback(C=>{if(s.current=C,l.current=C?o.createBean(new hX(e)):o.destroyBean(l.current),!C)return;const y={setDisplayed:n,setCtrls:g=>i(g),setCenterWidth:g=>{a.current&&(a.current.style.width=g)},setViewportScrollLeft:g=>{s.current&&(s.current.scrollLeft=g)},setPinnedContainerWidth:g=>{s.current&&(s.current.style.width=g,s.current.style.minWidth=g,s.current.style.maxWidth=g)}};l.current.setComp(y,s.current)},[]),p=t?"":"ag-hidden",f=()=>r.map(C=>$.createElement(Bie,{ctrl:C,key:C.instanceId}));return $.createElement($.Fragment,null,c&&$.createElement("div",{ref:h,className:"ag-pinned-left-header "+p,"aria-hidden":!t,role:"rowgroup"},f()),u&&$.createElement("div",{ref:h,className:"ag-pinned-right-header "+p,"aria-hidden":!t,role:"rowgroup"},f()),d&&$.createElement("div",{ref:h,className:"ag-header-viewport "+p,role:"presentation"},$.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},f())))},Iy=S.memo(Hie),Gie=()=>{const[e,t]=S.useState(()=>new Qi),[n,r]=S.useState(),{context:i}=S.useContext(Fr),o=S.useRef(null),s=S.useRef(),a=S.useCallback(u=>{if(o.current=u,s.current=u?i.createBean(new YQ):i.destroyBean(s.current),!u)return;const d={addOrRemoveCssClass:(h,p)=>t(f=>f.setClass(h,p)),setHeightAndMinHeight:h=>r(h)};s.current.setComp(d,u,u)},[]),l=S.useMemo(()=>"ag-header "+e.toString(),[e]),c=S.useMemo(()=>({height:n,minHeight:n}),[n]);return $.createElement("div",{ref:a,className:l,style:c,role:"presentation"},$.createElement(Iy,{pinned:"left"}),$.createElement(Iy,{pinned:null}),$.createElement(Iy,{pinned:"right"}))},Vie=S.memo(Gie),Wie=(e,t)=>{S.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},ol=Wie,Uie=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new kn(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){AP(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},zie=e=>{const t=S.useRef(e),n=S.useRef(),r=S.useRef(!1),i=S.useRef(!1),[,o]=S.useState(0);r.current&&(i.current=!0),S.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),o(s=>s+1),()=>{var s;i.current&&((s=n.current)==null||s.call(n))}),[])},$ie=e=>{const[t,n]=S.useState(),{context:r,popupService:i,localeService:o,gos:s,editService:a}=S.useContext(Fr);return zie(()=>{var w,E;const{editDetails:l,cellCtrl:c,eParentCell:u}=e,{compDetails:d}=l,h=s.get("stopEditingWhenCellsLoseFocus"),p=r.createBean(a.createPopupEditorWrapper(d.params)),f=p.getGui();if(e.jsChildComp){const P=e.jsChildComp.getGui();P&&f.appendChild(P)}const C={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:u,ePopup:f,position:l.popupPosition,keepWithinBounds:!0},y=i.positionPopupByComponent.bind(i,C),g=o.getLocaleTextFunc(),v=i.addPopup({modal:h,eChild:f,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:y,ariaLabel:g("ariaLabelCellEditor","Cell Editor")}),m=v?v.hideFunc:void 0;return n(p),(E=(w=e.jsChildComp)==null?void 0:w.afterGuiAttached)==null||E.call(w),()=>{m==null||m(),r.destroyBean(p)}}),$.createElement($.Fragment,null,t&&e.wrappedContent&&Vl.createPortal(e.wrappedContent,t.getGui()))},gD=S.memo($ie),jie=(e,t,n,r,i,o)=>{const{context:s}=S.useContext(Fr),a=S.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),s.destroyBean(l),i.current=void 0},[]);S.useEffect(()=>{const l=e!=null,c=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,u=t&&n==null;if(!(l&&c&&!u)){a();return}const h=e.compDetails;if(i.current){const f=i.current,y=f.refresh!=null&&e.force==!1?f.refresh(h.params):!1;if(y===!0||y===void 0)return;a()}const p=h.newAgStackInstance();p!=null&&p.then(f=>{if(!f)return;const C=f.getGui();if(!C)return;(t?n:o.current).appendChild(C),i.current=f})},[e,t,r]),S.useEffect(()=>a,[])},Kie=jie,qie=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),o=Uu(t);return $.createElement(TP.Provider,{value:{setMethods:s=>r.setMethods(s)}},o?$.createElement(t,{...i}):$.createElement(t,{...i,ref:s=>r.setRef(s)}))},mD=(e,t,n)=>{const r=e.compProxy;return $.createElement($.Fragment,null,r?qie(e,t,n):$.createElement(t,{...e.compDetails.params,ref:n}))},Yie=(e,t,n,r,i)=>{const o=e.compDetails,s=o.componentClass,a=o.componentFromFramework&&!e.popup,l=o.componentFromFramework&&e.popup,c=!o.componentFromFramework&&e.popup;return $.createElement($.Fragment,null,a&&mD(e,s,t),l&&$.createElement(gD,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:mD(e,s,t)}),c&&i&&$.createElement(gD,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}))},Qie=(e,t,n,r,i,o,s)=>{const{compDetails:a,value:l}=e,c=!a,u=a&&a.componentFromFramework,d=a&&a.componentClass,h=l!=null&&l.toString?l.toString():l,p=()=>$.createElement($.Fragment,null,c&&$.createElement($.Fragment,null,h),u&&!o&&$.createElement(d,{...a.params,key:t,ref:r}),u&&o&&$.createElement(d,{...a.params,key:t}));return $.createElement($.Fragment,null,i?$.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:s},p()):p())},Xie=({cellCtrl:e,printLayout:t,editingRow:n})=>{const{context:r}=S.useContext(Fr),{colIdSanitised:i,instanceId:o}=e,s=S.useRef(),[a,l]=S.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[c,u]=S.useState(),[d,h]=S.useState(1),[p,f]=S.useState(),[C,y]=S.useState(!1),[g,v]=S.useState(!1),[m,w]=S.useState(!1),[E,P]=S.useState(),A=S.useMemo(()=>e.isForceWrapper(),[e]),R=S.useMemo(()=>e.getCellAriaRole(),[e]),T=S.useRef(null),b=S.useRef(null),I=S.useRef(),D=S.useRef(),F=S.useRef(),O=S.useRef([]),_=S.useRef(),[N,H]=S.useState(0),L=S.useCallback(X=>{_.current=X,H(se=>se+1)},[]),M=a!=null&&(C||m||g),ne=A||M,oe=S.useCallback(X=>{if(D.current=X,X){const se=X.isCancelBeforeStart&&X.isCancelBeforeStart();setTimeout(()=>{se?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),G=S.useRef();G.current||(G.current=new Pp(()=>T.current)),Kie(a,ne,_.current,N,I,T);const re=S.useRef();S.useLayoutEffect(()=>{var Ce;const X=re.current,se=a;if(re.current=a,X==null||X.compDetails==null||se==null||se.compDetails==null)return;const me=X.compDetails,le=se.compDetails;if(me.componentClass!=le.componentClass||((Ce=b.current)==null?void 0:Ce.refresh)==null)return;b.current.refresh(le.params)!=!0&&h(he=>he+1)},[a]),S.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const se=c.compDetails,me=c.popup===!0,le=se.newAgStackInstance();return le.then(ve=>{if(!ve)return;const Ce=ve.getGui();if(oe(ve),!me){const he=(A?F:T).current;he==null||he.appendChild(Ce),ve.afterGuiAttached&&ve.afterGuiAttached()}P(ve)}),()=>{le.then(ve=>{var he;const Ce=ve.getGui();r.destroyBean(ve),oe(void 0),P(void 0),(he=Ce==null?void 0:Ce.parentElement)==null||he.removeChild(Ce)})}},[c]);const z=S.useCallback(X=>{if(F.current=X,!X){O.current.forEach(me=>me()),O.current=[];return}const se=me=>{if(me){const le=me.getGui();X.insertAdjacentElement("afterbegin",le),O.current.push(()=>{r.destroyBean(me),_l(le)})}return me};if(C){const me=e.createSelectionCheckbox();se(me)}m&&se(e.createDndSource()),g&&se(e.createRowDragComp())},[e,r,m,g,C]),K=S.useCallback(X=>{if(T.current=X,s.current=X?r.createBean(new Hu):r.destroyBean(s.current),!X||!e)return;const se={addOrRemoveCssClass:(le,ve)=>G.current.addOrRemoveCssClass(le,ve),setUserStyles:le=>f(le),getFocusableElement:()=>T.current,setIncludeSelection:le=>y(le),setIncludeRowDrag:le=>v(le),setIncludeDndSource:le=>w(le),getCellEditor:()=>D.current||null,getCellRenderer:()=>b.current??I.current,getParentOfValue:()=>_.current??F.current??T.current,setRenderDetails:(le,ve,Ce)=>{l(he=>(he==null?void 0:he.compDetails)!==le||(he==null?void 0:he.value)!==ve||(he==null?void 0:he.force)!==Ce?{value:ve,compDetails:le,force:Ce}:he)},setEditDetails:(le,ve,Ce,he)=>{if(le){let ae;he?ae=new Uie(le.params,()=>h(Xe=>Xe+1)):le.componentFromFramework&&IP(),u({compDetails:le,popup:ve,popupPosition:Ce,compProxy:ae}),ve||l(void 0)}else u(ae=>{ae!=null&&ae.compProxy&&(D.current=void 0)})}},me=F.current||void 0;e.setComp(se,X,me,t,n,s.current)},[]),Q=S.useMemo(()=>{var se;return!!(((se=a==null?void 0:a.compDetails)==null?void 0:se.componentFromFramework)&&Uu(a.compDetails.componentClass))},[a]);S.useLayoutEffect(()=>{var X;T.current&&(G.current.addOrRemoveCssClass("ag-cell-value",!ne),G.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),G.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),G.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(X=e.getRowCtrl())==null||X.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&T.current.focus({preventScroll:!0}))});const de=()=>$.createElement($.Fragment,null,a!=null&&Qie(a,d,o,b,ne,Q,L),c!=null&&Yie(c,oe,T.current,e,E)),ue=S.useCallback(()=>e.onFocusOut(),[]);return $.createElement("div",{ref:K,style:p,role:R,"col-id":i,onBlur:ue},ne?$.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:z},de()):de())},Jie=S.memo(Xie),Zie=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r}=S.useContext(Fr),i=S.useRef(),o=S.useRef(e.getDomOrder()),s=e.isFullWidth(),a=e.getRowNode().displayed,[l,c]=S.useState(()=>a?e.getRowIndex():null),[u,d]=S.useState(()=>e.getRowId()),[h,p]=S.useState(()=>e.getBusinessKey()),[f,C]=S.useState(()=>e.getRowStyles()),y=S.useRef(null),g=S.useRef(null),[v,m]=S.useState(()=>null),[w,E]=S.useState(),[P,A]=S.useState(()=>a?e.getInitialRowTop(t):void 0),[R,T]=S.useState(()=>a?e.getInitialTransform(t):void 0),b=S.useRef(null),I=S.useRef(),D=S.useRef(!1),[F,O]=S.useState(0);S.useEffect(()=>{var K;if(D.current||!w||F>10)return;const z=(K=b.current)==null?void 0:K.firstChild;z?(e.setupDetailRowAutoHeight(z),D.current=!0):O(Q=>Q+1)},[w,F]);const _=S.useRef();_.current||(_.current=new Pp(()=>b.current));const N=S.useCallback(z=>{if(b.current=z,i.current=z?n.createBean(new Hu):n.destroyBean(i.current),!z){e.unsetComp(t);return}if(!e.isAlive())return;const K={setTop:A,setTransform:T,addOrRemoveCssClass:(Q,de)=>_.current.addOrRemoveCssClass(Q,de),setDomOrder:Q=>o.current=Q,setRowIndex:c,setRowId:d,setRowBusinessKey:p,setUserStyles:C,setCellCtrls:(Q,de)=>{g.current=y.current,y.current=Q;const ue=PP(g.current,Q,o.current);ue!==g.current&&EP(de,()=>m(ue))},showFullWidth:Q=>E(Q),getFullWidthCellRenderer:()=>I.current,refreshFullWidth:Q=>oe.current?(E(de=>({...de,params:Q()})),!0):!I.current||!I.current.refresh?!1:I.current.refresh(Q())};e.setComp(K,z,t,i.current)},[]);S.useLayoutEffect(()=>Ip(w,n,b.current,I),[w]);const H=S.useMemo(()=>{const z={top:P,transform:R};return Object.assign(z,f),z},[P,R,f]),L=s&&(w==null?void 0:w.componentFromFramework),M=!s&&v!=null,ne=S.useMemo(()=>!!((w==null?void 0:w.componentFromFramework)&&Uu(w.componentClass)),[w]),oe=S.useRef(!1);S.useEffect(()=>{oe.current=ne&&!!w&&!!r.get("reactiveCustomComponents")},[ne,w]);const G=()=>v==null?void 0:v.map(z=>$.createElement(Jie,{cellCtrl:z,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:z.instanceId})),re=()=>{const z=w.componentClass;return $.createElement($.Fragment,null,ne?$.createElement(z,{...w.params}):$.createElement(z,{...w.params,ref:I}))};return $.createElement("div",{ref:N,role:"row",style:H,"row-index":l,"row-id":u,"row-business-key":h},M&&G(),L&&re())},eoe=S.memo(Zie),toe=({name:e})=>{const{context:t}=S.useContext(Fr),n=S.useMemo(()=>_c(e),[e]),r=S.useRef(null),i=S.useRef(null),o=S.useRef([]),s=S.useRef([]),[a,l]=S.useState(()=>[]),c=S.useRef(!1),u=S.useRef(),d=S.useMemo(()=>Co(n.viewport),[n]),h=S.useMemo(()=>Co(n.container),[n]),p=n.type==="center",f=p?r:i;ol(" AG Row Container "+e+" ",f);const C=S.useCallback(()=>p?r.current!=null&&i.current!=null:i.current!=null,[]),y=S.useCallback(()=>p?r.current==null&&i.current==null:i.current==null,[]),g=S.useCallback(()=>{if(y()&&(u.current=t.destroyBean(u.current)),C()){const E=A=>{const R=PP(s.current,o.current,c.current);R!==s.current&&(s.current=R,EP(A,()=>l(R)))},P={setHorizontalScroll:A=>{r.current&&(r.current.scrollLeft=A)},setViewportHeight:A=>{r.current&&(r.current.style.height=A)},setRowCtrls:({rowCtrls:A,useFlushSync:R})=>{const T=!!R&&o.current.length>0&&A.length>0;o.current=A,E(T)},setDomOrder:A=>{c.current!=A&&(c.current=A,E(!1))},setContainerWidth:A=>{i.current&&(i.current.style.width=A)},setOffsetTop:A=>{i.current&&(i.current.style.transform=`translateY(${A})`)}};u.current=t.createBean(new iJ(e)),u.current.setComp(P,i.current,r.current)}},[C,y]),v=S.useCallback(E=>{i.current=E,g()},[g]),m=S.useCallback(E=>{r.current=E,g()},[g]),w=()=>$.createElement("div",{className:h,ref:v,role:"rowgroup"},a.map(E=>$.createElement(eoe,{rowCtrl:E,containerType:n.type,key:E.instanceId})));return $.createElement($.Fragment,null,p?$.createElement("div",{className:d,ref:m,role:"presentation"},w()):w())},noe=S.memo(toe),roe=()=>{const{context:e,resizeObserverService:t}=S.useContext(Fr),[n,r]=S.useState(""),[i,o]=S.useState(0),[s,a]=S.useState(0),[l,c]=S.useState("0px"),[u,d]=S.useState("0px"),[h,p]=S.useState("100%"),[f,C]=S.useState("0px"),[y,g]=S.useState("0px"),[v,m]=S.useState("100%"),[w,E]=S.useState(""),[P,A]=S.useState(""),[R,T]=S.useState(null),[b,I]=S.useState(""),[D,F]=S.useState(null),[O,_]=S.useState("ag-layout-normal"),N=S.useRef();N.current||(N.current=new Pp(()=>H.current));const H=S.useRef(null),L=S.useRef(null),M=S.useRef(null),ne=S.useRef(null),oe=S.useRef(null),G=S.useRef(null),re=S.useRef(null),z=S.useRef([]),K=S.useRef([]);ol(" AG Grid Body ",H),ol(" AG Pinned Top ",L),ol(" AG Sticky Top ",M),ol(" AG Middle ",G),ol(" AG Pinned Bottom ",re);const Q=S.useCallback(Le=>{if(H.current=Le,!Le){z.current=e.destroyBeans(z.current),K.current.forEach(ot=>ot()),K.current=[];return}if(!e)return;const $e=(ot,dt)=>{ot.appendChild(dt),K.current.push(()=>ot.removeChild(dt))},ge=ot=>{const dt=e.createBean(new ot);return z.current.push(dt),dt},Je=(ot,dt,yt)=>{$e(ot,document.createComment(yt)),$e(ot,ge(dt).getGui())};Je(Le,fX," AG Fake Horizontal Scroll "),Je(Le,pX," AG Overlay Wrapper "),oe.current&&Je(oe.current,gX," AG Fake Vertical Scroll ");const At={setRowAnimationCssOnBodyViewport:r,setColumnCount:ot=>{H.current&&I9(H.current,ot)},setRowCount:ot=>{H.current&&T9(H.current,ot)},setTopHeight:o,setBottomHeight:a,setStickyTopHeight:c,setStickyTopTop:d,setStickyTopWidth:p,setTopDisplay:E,setBottomDisplay:A,setColumnMovingCss:(ot,dt)=>N.current.addOrRemoveCssClass(ot,dt),updateLayoutClasses:_,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:I,setCellSelectableCss:(ot,dt)=>F(dt?ot:null),setBodyViewportWidth:ot=>{G.current&&(G.current.style.width=ot)},registerBodyViewportResizeListener:ot=>{if(G.current){const dt=t.observeResize(G.current,ot);K.current.push(()=>dt())}},setStickyBottomHeight:C,setStickyBottomBottom:g,setStickyBottomWidth:m},Ze=e.createBean(new lJ);z.current.push(Ze),Ze.setComp(At,Le,G.current,L.current,re.current,M.current,ne.current)},[]),de=S.useMemo(()=>Co("ag-root","ag-unselectable",O),[O]),ue=S.useMemo(()=>Co("ag-body-viewport",n,O,R,D),[n,O,R,D]),X=S.useMemo(()=>Co("ag-body",O),[O]),se=S.useMemo(()=>Co("ag-floating-top",D),[D]),me=S.useMemo(()=>Co("ag-sticky-top",D),[D]),le=S.useMemo(()=>Co("ag-sticky-bottom",f==="0px"?"ag-hidden":null,D),[D,f]),ve=S.useMemo(()=>Co("ag-floating-bottom",D),[D]),Ce=S.useMemo(()=>({height:i,minHeight:i,display:w,overflowY:b}),[i,w,b]),he=S.useMemo(()=>({height:l,top:u,width:h}),[l,u,h]),ae=S.useMemo(()=>({height:f,bottom:y,width:v}),[f,y,v]),Xe=S.useMemo(()=>({height:s,minHeight:s,display:P,overflowY:b}),[s,P,b]),Ae=Le=>$.createElement(noe,{name:Le,key:`${Le}-container`}),Ye=({section:Le,children:$e,className:ge,style:Je})=>$.createElement("div",{ref:Le,className:ge,role:"presentation",style:Je},$e.map(Ae));return $.createElement("div",{ref:Q,className:de,role:"treegrid"},$.createElement(Vie,null),Ye({section:L,className:se,style:Ce,children:["topLeft","topCenter","topRight","topFullWidth"]}),$.createElement("div",{className:X,ref:oe,role:"presentation"},Ye({section:G,className:ue,children:["left","center","right","fullWidth"]})),Ye({section:M,className:me,style:he,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ye({section:ne,className:le,style:ae,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ye({section:re,className:ve,style:Xe,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},ioe=S.memo(roe),ooe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:s}=e,{context:a}=S.useContext(Fr),l=S.useRef(null),c=S.useRef(null),u=S.useRef(),d=y=>{const g=y==null?void 0:parseInt(y,10).toString();[l,c].forEach(v=>{var m,w;g===void 0?(m=v.current)==null||m.removeAttribute("tabindex"):(w=v.current)==null||w.setAttribute("tabindex",g)})};S.useImperativeHandle(t,()=>({forceFocusOutOfContainer(y){var g;(g=u.current)==null||g.forceFocusOutOfContainer(y)}}));const h=S.useCallback(()=>{const y=l.current,g=c.current;if(!y&&!g){u.current=a.destroyBean(u.current);return}if(y&&g){const v={setTabIndex:d};u.current=a.createBean(new L_({comp:v,eTopGuard:y,eBottomGuard:g,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:m=>o.focusInnerElement(m)}))}},[]),p=S.useCallback(y=>{l.current=y,h()},[h]),f=S.useCallback(y=>{c.current=y,h()},[h]),C=y=>{const g=y==="top"?dg.TAB_GUARD_TOP:dg.TAB_GUARD_BOTTOM;return $.createElement("div",{className:`${dg.TAB_GUARD} ${g}`,role:"presentation",ref:y==="top"?p:f})};return $.createElement($.Fragment,null,C("top"),n,C("bottom"))},soe=S.forwardRef(ooe),aoe=S.memo(soe),loe=({context:e})=>{const[t,n]=S.useState(""),[r,i]=S.useState(""),[o,s]=S.useState(""),[a,l]=S.useState(null),[c,u]=S.useState(null),[d,h]=S.useState(!1),[p,f]=S.useState(),C=S.useRef(),y=S.useRef(null),g=S.useRef(),[v,m]=S.useState(null),w=S.useRef(()=>{}),E=S.useRef(),P=S.useRef([]),A=S.useCallback(()=>{},[]),R=S.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);ol(" AG Grid ",y);const T=S.useCallback(O=>{if(y.current=O,C.current=O?e.createBean(new VZ):e.destroyBean(C.current),!O||e.isDestroyed())return;const _=C.current;w.current=_.focusInnerElement.bind(_);const N={destroyGridUi:()=>{},setRtlClass:n,setGridThemeClass:i,forceFocusOutOfContainer:H=>{var L,M;if(!H&&((L=E.current)!=null&&L.isDisplayed())){E.current.forceFocusOutOfContainer(H);return}(M=g.current)==null||M.forceFocusOutOfContainer(H)},updateLayoutClasses:s,getFocusableContainers:()=>{var M;const H=[],L=(M=y.current)==null?void 0:M.querySelector(".ag-root");return L&&H.push({getGui:()=>L}),P.current.forEach(ne=>{ne.isDisplayed()&&H.push(ne)}),H},setCursor:l,setUserSelect:u};_.setComp(N,O,O),h(!0)},[]);S.useEffect(()=>{const O=C.current,_=y.current;if(!p||!R||!O||!v||!_)return;const N=[],{watermarkSelector:H,paginationSelector:L,sideBarSelector:M,statusBarSelector:ne,gridHeaderDropZonesSelector:oe}=O.getOptionalSelectors(),G=[];if(oe){const z=e.createBean(new oe.component),K=z.getGui();_.insertAdjacentElement("afterbegin",K),G.push(K),N.push(z)}if(M){const z=e.createBean(new M.component),K=z.getGui(),Q=v.querySelector(".ag-tab-guard-bottom");Q&&(Q.insertAdjacentElement("beforebegin",K),G.push(K)),N.push(z),P.current.push(z)}const re=z=>{const K=e.createBean(new z),Q=K.getGui();return _.insertAdjacentElement("beforeend",Q),G.push(Q),N.push(K),K};if(ne&&re(ne.component),L){const z=re(L.component);E.current=z,P.current.push(z)}return H&&re(H.component),()=>{e.destroyBeans(N),G.forEach(z=>{var K;(K=z.parentElement)==null||K.removeChild(z)})}},[p,v,R]);const b=S.useMemo(()=>Co("ag-root-wrapper",t,r,o),[t,r,o]),I=S.useMemo(()=>Co("ag-root-wrapper-body","ag-focus-managed",o),[o]),D=S.useMemo(()=>({userSelect:c??"",WebkitUserSelect:c??"",cursor:a??""}),[c,a]),F=S.useCallback(O=>{g.current=O,f(O!==null)},[]);return $.createElement("div",{ref:T,className:b,style:D,role:"presentation"},$.createElement("div",{className:I,ref:m,role:"presentation"},d&&v&&R&&$.createElement(Fr.Provider,{value:R},$.createElement(aoe,{ref:F,eFocusableElement:v,onTabKeyDown:A,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0},$.createElement(ioe,null)))))},coe=S.memo(loe),uoe=class extends j{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},i1=e=>{var y;const t=S.useRef(),n=S.useRef(null),r=S.useRef(null),i=S.useRef([]),o=S.useRef([]),s=S.useRef(e),a=S.useRef(),l=S.useRef(),c=S.useRef(!1),[u,d]=S.useState(void 0),[,h]=S.useState(0),p=S.useCallback(g=>{if(n.current=g,!g){i.current.forEach(I=>I()),i.current.length=0;return}const v=e.modules||[];r.current||(r.current=new Die(()=>h(I=>I+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var I;(I=r.current)==null||I.destroy(),r.current=null}));const m=v9(e.gridOptions,e),w=()=>{if(c.current){const I=()=>{var F;return(F=a.current)!=null&&F.shouldQueueUpdates()?void 0:o.current.shift()};let D=I();for(;D;)D(),D=I()}},E=new foe(w);a.current=E;const P=new uoe,A={providedBeanInstances:{frameworkComponentWrapper:new hoe(r.current,m.reactiveCustomComponents??fre("reactiveCustomComponents")??!0),renderStatusService:P},modules:v,frameworkOverrides:E},R=I=>{d(I),I.createBean(P),i.current.push(()=>{I.destroy()}),I.getBean("ctrlsService").whenReady({addDestroyFunc:D=>{i.current.push(D)}},()=>{var F;if(I.isDestroyed())return;const D=t.current;D&&((F=e.setGridApi)==null||F.call(e,D))})},T=I=>{I.getBean("ctrlsService").whenReady({addDestroyFunc:D=>{i.current.push(D)}},()=>{o.current.forEach(D=>D()),o.current.length=0,c.current=!0})},b=new mre;m.gridId??(m.gridId=l.current),t.current=b.create(g,m,R,T,A),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),f=S.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),C=S.useCallback(g=>{var v;c.current&&!((v=a.current)!=null&&v.shouldQueueUpdates())?g():o.current.push(g)},[]);return S.useEffect(()=>{const g=doe(s.current,e);s.current=e,C(()=>{t.current&&C9(g,t.current)})},[e]),$.createElement("div",{style:f,className:e.className,ref:p},u&&!u.isDestroyed()?$.createElement(coe,{context:u}):null,((y=r.current)==null?void 0:y.getPortals())??null)};function doe(e,t){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e[r]!==i&&(n[r]=i)}),n}var hoe=class extends Pre{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(o=>{switch(o){case"filter":return wie;case"floatingFilterComponent":return Rie;case"dateComponent":return yie;case"dragAndDropImageComponent":return Sie;case"loadingOverlayComponent":return Eie;case"noRowsOverlayComponent":return Tie;case"statusPanel":return Aie;case"toolPanel":return Iie;case"menuItem":return Pie;case"cellRenderer":return Cie}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":IP();break}const n=!t.cellRenderer&&t.propertyName!=="toolPanel";return new n1(e,this.parent,t,n)}},poe=S.forwardRef((e,t)=>{const{ctrlsFactory:n,context:r,gos:i,resizeObserverService:o,rowModel:s}=S.useContext(Fr),[a,l]=S.useState(()=>new Qi),[c,u]=S.useState(()=>new Qi),[d,h]=S.useState(),[p,f]=S.useState(),C=S.useRef(),y=S.useRef(null),g=S.useRef(),v=S.useMemo(()=>qo.__getGridRegisteredModules(e.api.getGridId()),[e]),m=S.useMemo(()=>a.toString()+" ag-details-row",[a]),w=S.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&S.useImperativeHandle(t,()=>({refresh(){var A;return((A=C.current)==null?void 0:A.refresh())??!1}})),e.template&&ee("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const E=S.useCallback(A=>{var b;if(y.current=A,!A){C.current=r.destroyBean(C.current),(b=g.current)==null||b.call(g);return}const R={addOrRemoveCssClass:(I,D)=>l(F=>F.setClass(I,D)),addOrRemoveDetailGridCssClass:(I,D)=>u(F=>F.setClass(I,D)),setDetailGrid:I=>h(I),setRowData:I=>f(I),getGui:()=>y.current},T=n.getInstance("detailCellRenderer");if(T&&(r.createBean(T),T.init(R,e),C.current=T,i.get("detailRowAutoHeight"))){const I=()=>{if(y.current==null)return;const D=y.current.clientHeight;D!=null&&D>0&&setTimeout(()=>{e.node.setRowHeight(D),(hn(i)||cs(i))&&s.onRowHeightChanged()},0)};g.current=o.observeResize(A,I),I()}},[]),P=S.useCallback(A=>{var R;(R=C.current)==null||R.registerDetailWithMaster(A)},[]);return $.createElement("div",{className:m,ref:E},d&&$.createElement(i1,{className:w,...d,modules:v,rowData:p,setGridApi:P}))}),foe=class extends N_{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:pD,agGroupRowRenderer:pD,agDetailCellRenderer:poe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?fie(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return pie()}},xP=class extends S.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return $.createElement(i1,{...this.props,setGridApi:this.setGridApi})}};function goe(){const e=S.useMemo(()=>[{field:"environment",headerName:"Environment",width:150,filter:!0,suppressHeaderFilterButton:!0},{field:"ops_bps",headerName:"OPS BPS",cellRenderer:i=>x.jsx("a",{href:i.value,target:"_blank",children:i.value}),width:150},{field:"aad",headerName:"AAD",cellRenderer:i=>x.jsx("a",{href:i.value,target:"_blank",children:i.value}),width:150},{field:"db_name",headerName:"Database",width:150}],[]),t=S.useMemo(()=>ek.map(i=>({environment:i.ENVIRONMENT,ops_bps:i.URL,aad:i.URL2,db_name:i.DB_NAME})),[]),n=S.useRef(),r=i=>{var o,s;(o=n.current)==null||o.api.setFilterModel({environment:{filterType:"text",type:"contains",filter:i.target.value}}),(s=n.current)==null||s.api.onFilterChanged()};return x.jsxs(x.Fragment,{children:[x.jsx(Po,{id:"outlined-basic",label:"Search for environment",variant:"outlined",onChange:r}),x.jsx("div",{className:"ag-theme-quartz",style:{width:650,height:500,marginTop:10},children:x.jsx(xP,{ref:n,rowHeight:50,rowData:t,columnDefs:e,enableCellTextSelection:!0})})]})}function moe(){const[e,t]=S.useState([]),[n,r]=S.useState(!0),i=S.useRef();S.useEffect(()=>{(async()=>{try{r(!0);const u=await fetch("api/environments/keychainAccounts",{method:"GET",headers:{"Content-Type":"application/json"}});if(r(!1),!u.ok){const h=await u.json();throw new Error(`${h.error}`)}const d=await u.json();t(d)}catch(u){console.error(u)}})()},[]);const o=async(c,u,d,h)=>{try{d(!0);const p=await fetch(`api/environments/secretKey?email=${encodeURIComponent(c.trim())}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(d(!1),!p.ok){h(!0);const C=await p.json();throw new Error(`${C.error}`)}const f=await p.json();h(!1),u(f.message)}catch(p){console.error(p)}},s=S.memo(c=>{const[u,d]=S.useState(null),[h,p]=S.useState(!1),[f,C]=S.useState(!1);return x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h?x.jsx($M,{size:24}):u?x.jsx("span",{children:u}):x.jsx(Kn,{variant:"contained",onClick:()=>o(c.data.email,d,p,C),children:f?"Retry":"Get"})})}),a=S.useMemo(()=>[{field:"email",headerName:"Email",width:150,filter:!0,suppressHeaderFilterButton:!0},{field:"role",headerName:"Role",width:150},{field:"organization",headerName:"Organization",width:150},{field:"secretKey",headerName:"Get Secret Key",width:150,cellRenderer:s,cellStyle:{display:"flex",justifyContent:"center",alignItems:"center"}}],[]),l=c=>{var u,d;(u=i.current)==null||u.api.setFilterModel({email:{filterType:"text",type:"contains",filter:c.target.value}}),(d=i.current)==null||d.api.onFilterChanged()};return x.jsxs(x.Fragment,{children:[x.jsx(Po,{id:"outlined-basic",label:"Search for account",variant:"outlined",onChange:l}),x.jsx("div",{className:"ag-theme-quartz",style:{width:650,height:500,marginTop:10},children:x.jsx(xP,{loading:n,rowData:e,columnDefs:a,rowHeight:50,ref:i,enableCellTextSelection:!0})})]})}function voe(){const[e,t]=S.useState(""),[n,r]=S.useState(!1),[i,o]=S.useState(null),[s,a]=S.useState(null),[l,c]=S.useState(null),[u,d]=S.useState([]),[h,p]=S.useState([]),f=S.useRef(null),{instance:C,accounts:y}=Us(),g=async w=>{if(w.target.files&&w.target.files[0]){const E=w.target.files[0];if(E.type!=="text/plain"){alert("Please upload a valid .txt file.");return}c(E.name);const P=new FileReader;P.onload=async A=>{const R=A.target.result;d(R.split(/\r?\n/).filter(T=>T.trim()!==""))},P.readAsText(E)}f.current&&(f.current.value="")},v=async()=>{p([]),a(null),r(!0),o(null);const w=await jL(C,y),E=new Headers;if(E.append("Authorization",`Bearer ${w}`),E.append("Content-Type","application/json"),(u==null?void 0:u.length)>0){for(const P of u){const R=await(await fetch("/api/environments/resetPassword",{method:"POST",body:JSON.stringify(P),headers:E})).json();console.log(JSON.stringify(R)),p(T=>[...T,R])}d([]),c(null),r(!1)}else{if(e===""){r(!1);return}try{const P=await fetch("api/environments/resetPassword",{method:"POST",body:JSON.stringify(e),headers:E});if(r(!1),!P.ok){const R=await P.json();throw o(`Failed to reset password for ${R.email}`),new Error(R.message)}const A=await P.json();console.log(JSON.stringify(A)),a(`Successfully reset password for ${A.email}`)}catch(P){console.error(P)}}},m=w=>{t(w.target.value)};return x.jsx(x.Fragment,{children:x.jsxs("div",{children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[x.jsx("h2",{children:"Reset Password for Email:"}),x.jsx(Po,{label:"Email",onChange:m,value:e}),x.jsx("input",{accept:".txt",id:"file-upload",type:"file",style:{display:"none"},onChange:g,ref:f}),x.jsxs("label",{htmlFor:"file-upload",children:[x.jsx(Kn,{variant:"contained",component:"span",color:"primary",children:"Upload File"}),l&&x.jsxs($i,{variant:"body2",onClick:w=>{c(null),d([])},children:["Selected File: ",l]})]}),n?x.jsx($M,{size:24}):x.jsx(Kn,{color:"secondary",variant:"contained",onClick:v,children:"Reset"})]}),x.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(h==null?void 0:h.length)>0?x.jsx("ul",{children:h.map((w,E)=>x.jsx("li",{style:{color:w.success?"black":"red"},children:w.success?`Successfully reset password for ${w.email}`:`Failed to reset password for ${w.email}`},E))}):i?x.jsx("span",{style:{color:"red"},children:i}):s&&x.jsx("span",{children:s})}),x.jsxs("div",{style:{display:"flex",height:"100%"},children:[x.jsxs("div",{style:{marginRight:"100px"},children:[x.jsx("h1",{children:"Environments"}),x.jsx(goe,{})]}),x.jsxs("div",{style:{height:"100%"},children:[x.jsx("h1",{children:"Search User Credentials"}),x.jsx(moe,{})]})]})]})})}var rb={exports:{}},On={};Object.defineProperty(On,"__esModule",{value:!0});On.PivotData=On.sortAs=On.getSort=On.numberFormat=On.naturalSort=On.locales=On.derivers=On.aggregators=On.aggregatorTemplates=void 0;var Coe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sc=function(){function e(t,n){var r=[],i=!0,o=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(c){o=!0,s=c}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return r}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yoe=pp,Sn=Soe(yoe);function Soe(e){return e&&e.__esModule?e:{default:e}}function woe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xy(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var boe=function(t,n,r){for(var i=String(t).split("."),o=i[0],s=i.length>1?r+i[1]:"",a=/(\d+)(\d{3})/;a.test(o);)o=o.replace(a,"$1"+n+"$2");return o+s},aC=function(t){var n={digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},r=Object.assign({},n,t);return function(i){if(isNaN(i)||!isFinite(i))return"";var o=boe((r.scaler*i).toFixed(r.digitsAfterDecimal),r.thousandsSep,r.decimalSep);return""+r.prefix+o+r.suffix}},vD=/(\d+)|(\D+)/g,Of=/\d/,CD=/^0/,hl=function(t,n){if(n!==null&&t===null)return-1;if(t!==null&&n===null)return 1;if(typeof t=="number"&&isNaN(t))return-1;if(typeof n=="number"&&isNaN(n))return 1;var r=Number(t),i=Number(n);if(r<i)return-1;if(r>i)return 1;if(typeof t=="number"&&typeof n!="number")return-1;if(typeof n=="number"&&typeof t!="number")return 1;if(typeof t=="number"&&typeof n=="number")return 0;if(isNaN(i)&&!isNaN(r))return-1;if(isNaN(r)&&!isNaN(i))return 1;var o=String(t),s=String(n);if(o===s)return 0;if(!Of.test(o)||!Of.test(s))return o>s?1:-1;for(o=o.match(vD),s=s.match(vD);o.length&&s.length;){var a=o.shift(),l=s.shift();if(a!==l)return Of.test(a)&&Of.test(l)?a.replace(CD,".0")-l.replace(CD,".0"):a>l?1:-1}return o.length-s.length},Roe=function(t){var n={},r={};for(var i in t){var o=t[i];n[o]=i,typeof o=="string"&&(r[o.toLowerCase()]=i)}return function(s,a){return s in n&&a in n?n[s]-n[a]:s in n?-1:a in n?1:s in r&&a in r?r[s]-r[a]:s in r?-1:a in r?1:hl(s,a)}},DP=function(t,n){if(t){if(typeof t=="function"){var r=t(n);if(typeof r=="function")return r}else if(n in t)return t[n]}return hl},Nr=aC(),sh=aC({digitsAfterDecimal:0}),el=aC({digitsAfterDecimal:1,scaler:100,suffix:"%"}),Nn={count:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sh;return function(){return function(){return{count:0,push:function(){this.count++},value:function(){return this.count},format:t}}}},uniques:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sh;return function(r){var i=sc(r,1),o=i[0];return function(){return{uniq:[],push:function(a){Array.from(this.uniq).includes(a[o])||this.uniq.push(a[o])},value:function(){return t(this.uniq)},format:n,numInputs:typeof o<"u"?0:1}}}},sum:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nr;return function(n){var r=sc(n,1),i=r[0];return function(){return{sum:0,push:function(s){isNaN(parseFloat(s[i]))||(this.sum+=parseFloat(s[i]))},value:function(){return this.sum},format:t,numInputs:typeof i<"u"?0:1}}}},extremes:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nr;return function(r){var i=sc(r,1),o=i[0];return function(s){return{val:null,sorter:DP(typeof s<"u"?s.sorters:null,o),push:function(l){var c=l[o];["min","max"].includes(t)&&(c=parseFloat(c),isNaN(c)||(this.val=Math[t](c,this.val!==null?this.val:c))),t==="first"&&this.sorter(c,this.val!==null?this.val:c)<=0&&(this.val=c),t==="last"&&this.sorter(c,this.val!==null?this.val:c)>=0&&(this.val=c)},value:function(){return this.val},format:function(l){return isNaN(l)?l:n(l)},numInputs:typeof o<"u"?0:1}}}},quantile:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nr;return function(r){var i=sc(r,1),o=i[0];return function(){return{vals:[],push:function(a){var l=parseFloat(a[o]);isNaN(l)||this.vals.push(l)},value:function(){if(this.vals.length===0)return null;this.vals.sort(function(l,c){return l-c});var a=(this.vals.length-1)*t;return(this.vals[Math.floor(a)]+this.vals[Math.ceil(a)])/2},format:n,numInputs:typeof o<"u"?0:1}}}},runningStat:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"mean",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nr;return function(i){var o=sc(i,1),s=o[0];return function(){return{n:0,m:0,s:0,push:function(l){var c=parseFloat(l[s]);if(!isNaN(c)){this.n+=1,this.n===1&&(this.m=c);var u=this.m+(c-this.m)/this.n;this.s=this.s+(c-this.m)*(c-u),this.m=u}},value:function(){if(t==="mean")return this.n===0?NaN:this.m;if(this.n<=n)return 0;switch(t){case"var":return this.s/(this.n-n);case"stdev":return Math.sqrt(this.s/(this.n-n));default:throw new Error("unknown mode for runningStat")}},format:r,numInputs:typeof s<"u"?0:1}}}},sumOverSum:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nr;return function(n){var r=sc(n,2),i=r[0],o=r[1];return function(){return{sumNum:0,sumDenom:0,push:function(a){isNaN(parseFloat(a[i]))||(this.sumNum+=parseFloat(a[i])),isNaN(parseFloat(a[o]))||(this.sumDenom+=parseFloat(a[o]))},value:function(){return this.sumNum/this.sumDenom},format:t,numInputs:typeof i<"u"&&typeof o<"u"?0:2}}}},fractionOf:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"total",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:el;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return function(a,l,c){return{selector:{total:[[],[]],row:[l,[]],col:[[],c]}[n],inner:t.apply(void 0,xy(Array.from(o||[])))(a,l,c),push:function(d){this.inner.push(d)},format:r,value:function(){return this.inner.value()/a.getAggregator.apply(a,xy(Array.from(this.selector||[]))).inner.value()},numInputs:t.apply(void 0,xy(Array.from(o||[])))().numInputs}}}}};Nn.countUnique=function(e){return Nn.uniques(function(t){return t.length},e)};Nn.listUnique=function(e){return Nn.uniques(function(t){return t.join(e)},function(t){return t})};Nn.max=function(e){return Nn.extremes("max",e)};Nn.min=function(e){return Nn.extremes("min",e)};Nn.first=function(e){return Nn.extremes("first",e)};Nn.last=function(e){return Nn.extremes("last",e)};Nn.median=function(e){return Nn.quantile(.5,e)};Nn.average=function(e){return Nn.runningStat("mean",1,e)};Nn.var=function(e,t){return Nn.runningStat("var",e,t)};Nn.stdev=function(e,t){return Nn.runningStat("stdev",e,t)};var FP=function(e){return{Count:e.count(sh),"Count Unique Values":e.countUnique(sh),"List Unique Values":e.listUnique(", "),Sum:e.sum(Nr),"Integer Sum":e.sum(sh),Average:e.average(Nr),Median:e.median(Nr),"Sample Variance":e.var(1,Nr),"Sample Standard Deviation":e.stdev(1,Nr),Minimum:e.min(Nr),Maximum:e.max(Nr),First:e.first(Nr),Last:e.last(Nr),"Sum over Sum":e.sumOverSum(Nr),"Sum as Fraction of Total":e.fractionOf(e.sum(),"total",el),"Sum as Fraction of Rows":e.fractionOf(e.sum(),"row",el),"Sum as Fraction of Columns":e.fractionOf(e.sum(),"col",el),"Count as Fraction of Total":e.fractionOf(e.count(),"total",el),"Count as Fraction of Rows":e.fractionOf(e.count(),"row",el),"Count as Fraction of Columns":e.fractionOf(e.count(),"col",el)}}(Nn),Eoe={en:{aggregators:FP,localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},Poe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Toe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fd=function(t){return("0"+t).substr(-2,2)},Aoe={bin:function(t,n){return function(r){return r[t]-r[t]%n}},dateFormat:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Poe,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Toe,s=r?"UTC":"";return function(a){var l=new Date(Date.parse(a[t]));return isNaN(l)?"":n.replace(/%(.)/g,function(c,u){switch(u){case"y":return l["get"+s+"FullYear"]();case"m":return fd(l["get"+s+"Month"]()+1);case"n":return i[l["get"+s+"Month"]()];case"d":return fd(l["get"+s+"Date"]());case"w":return o[l["get"+s+"Day"]()];case"x":return l["get"+s+"Day"]();case"H":return fd(l["get"+s+"Hours"]());case"M":return fd(l["get"+s+"Minutes"]());case"S":return fd(l["get"+s+"Seconds"]());default:return"%"+u}})}}},lC=function(){function e(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};woe(this,e),this.props=Object.assign({},e.defaultProps,n),Sn.default.checkPropTypes(e.propTypes,this.props,"prop","PivotData"),this.aggregator=this.props.aggregators[this.props.aggregatorName](this.props.vals),this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,e.forEachRecord(this.props.data,this.props.derivedAttributes,function(r){t.filter(r)&&t.processRecord(r)})}return Coe(e,[{key:"filter",value:function(n){for(var r in this.props.valueFilter)if(n[r]in this.props.valueFilter[r])return!1;return!0}},{key:"forEachMatchingRecord",value:function(n,r){var i=this;return e.forEachRecord(this.props.data,this.props.derivedAttributes,function(o){if(i.filter(o)){for(var s in n){var a=n[s];if(a!==(s in o?o[s]:"null"))return}r(o)}})}},{key:"arrSort",value:function(n){var r=this,i=void 0,o=function(){var s=[],a=!0,l=!1,c=void 0;try{for(var u=Array.from(n)[Symbol.iterator](),d;!(a=(d=u.next()).done);a=!0)i=d.value,s.push(DP(r.props.sorters,i))}catch(h){l=!0,c=h}finally{try{!a&&u.return&&u.return()}finally{if(l)throw c}}return s}();return function(s,a){var l=!0,c=!1,u=void 0;try{for(var d=Object.keys(o||{})[Symbol.iterator](),h;!(l=(h=d.next()).done);l=!0){var p=h.value,f=o[p],C=f(s[p],a[p]);if(C!==0)return C}}catch(y){c=!0,u=y}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}return 0}}},{key:"sortKeys",value:function(){var n=this;if(!this.sorted){this.sorted=!0;var r=function(o,s){return n.getAggregator(o,s).value()};switch(this.props.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(i,o){return hl(r(i,[]),r(o,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(i,o){return-hl(r(i,[]),r(o,[]))});break;default:this.rowKeys.sort(this.arrSort(this.props.rows))}switch(this.props.colOrder){case"value_a_to_z":this.colKeys.sort(function(i,o){return hl(r([],i),r([],o))});break;case"value_z_to_a":this.colKeys.sort(function(i,o){return-hl(r([],i),r([],o))});break;default:this.colKeys.sort(this.arrSort(this.props.cols))}}}},{key:"getColKeys",value:function(){return this.sortKeys(),this.colKeys}},{key:"getRowKeys",value:function(){return this.sortKeys(),this.rowKeys}},{key:"processRecord",value:function(n){var r=[],i=[],o=!0,s=!1,a=void 0;try{for(var l=Array.from(this.props.cols)[Symbol.iterator](),c;!(o=(c=l.next()).done);o=!0){var u=c.value;r.push(u in n?n[u]:"null")}}catch(m){s=!0,a=m}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}var d=!0,h=!1,p=void 0;try{for(var f=Array.from(this.props.rows)[Symbol.iterator](),C;!(d=(C=f.next()).done);d=!0){var y=C.value;i.push(y in n?n[y]:"null")}}catch(m){h=!0,p=m}finally{try{!d&&f.return&&f.return()}finally{if(h)throw p}}var g=i.join("\0"),v=r.join("\0");this.allTotal.push(n),i.length!==0&&(this.rowTotals[g]||(this.rowKeys.push(i),this.rowTotals[g]=this.aggregator(this,i,[])),this.rowTotals[g].push(n)),r.length!==0&&(this.colTotals[v]||(this.colKeys.push(r),this.colTotals[v]=this.aggregator(this,[],r)),this.colTotals[v].push(n)),r.length!==0&&i.length!==0&&(this.tree[g]||(this.tree[g]={}),this.tree[g][v]||(this.tree[g][v]=this.aggregator(this,i,r)),this.tree[g][v].push(n))}},{key:"getAggregator",value:function(n,r){var i=void 0,o=n.join("\0"),s=r.join("\0");return n.length===0&&r.length===0?i=this.allTotal:n.length===0?i=this.colTotals[s]:r.length===0?i=this.rowTotals[o]:i=this.tree[o][s],i||{value:function(){return null},format:function(){return""}}}}]),e}();lC.forEachRecord=function(e,t,n){var r=void 0,i=void 0;if(Object.getOwnPropertyNames(t).length===0?r=n:r=function(s){for(var a in t){var l=t[a](s);l!==null&&(s[a]=l)}return n(s)},typeof e=="function")return e(r);if(Array.isArray(e))return Array.isArray(e[0])?function(){var o=[],s=!0,a=!1,l=void 0;try{for(var c=Object.keys(e||{})[Symbol.iterator](),u;!(s=(u=c.next()).done);s=!0){var d=u.value,h=e[d];if(d>0){i={};var p=!0,f=!1,C=void 0;try{for(var y=Object.keys(e[0]||{})[Symbol.iterator](),g;!(p=(g=y.next()).done);p=!0){var v=g.value,m=e[0][v];i[m]=h[v]}}catch(w){f=!0,C=w}finally{try{!p&&y.return&&y.return()}finally{if(f)throw C}}o.push(r(i))}}}catch(w){a=!0,l=w}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}return o}():function(){var o=[],s=!0,a=!1,l=void 0;try{for(var c=Array.from(e)[Symbol.iterator](),u;!(s=(u=c.next()).done);s=!0)i=u.value,o.push(r(i))}catch(d){a=!0,l=d}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}return o}();throw new Error("unknown input format")};lC.defaultProps={aggregators:FP,cols:[],rows:[],vals:[],aggregatorName:"Count",sorters:{},valueFilter:{},rowOrder:"key_a_to_z",colOrder:"key_a_to_z",derivedAttributes:{}};lC.propTypes={data:Sn.default.oneOfType([Sn.default.array,Sn.default.object,Sn.default.func]).isRequired,aggregatorName:Sn.default.string,cols:Sn.default.arrayOf(Sn.default.string),rows:Sn.default.arrayOf(Sn.default.string),vals:Sn.default.arrayOf(Sn.default.string),valueFilter:Sn.default.objectOf(Sn.default.objectOf(Sn.default.bool)),sorters:Sn.default.oneOfType([Sn.default.func,Sn.default.objectOf(Sn.default.func)]),derivedAttributes:Sn.default.objectOf(Sn.default.func),rowOrder:Sn.default.oneOf(["key_a_to_z","value_a_to_z","value_z_to_a"]),colOrder:Sn.default.oneOf(["key_a_to_z","value_a_to_z","value_z_to_a"])};On.aggregatorTemplates=Nn;On.aggregators=FP;On.derivers=Aoe;On.locales=Eoe;On.naturalSort=hl;On.numberFormat=aC;On.getSort=DP;On.sortAs=Roe;On.PivotData=lC;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function y(g,v){for(var m=0;m<v.length;m++){var w=v[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,m){return v&&y(g.prototype,v),m&&y(g,m),g}}(),r=S,i=l(r),o=pp,s=l(o),a=On;function l(y){return y&&y.__esModule?y:{default:y}}function c(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function u(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function d(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var h=function(g,v,m){var w=void 0;if(v!==0){var E=void 0,P=void 0,A=!0;for(w=0,P=m,E=P>=0;E?w<=P:w>=P;E?w++:w--)g[v-1][w]!==g[v][w]&&(A=!1);if(A)return-1}for(var R=0;v+R<g.length;){var T=void 0,b=void 0,I=!1;for(w=0,b=m,T=b>=0;T?w<=b:w>=b;T?w++:w--)g[v][w]!==g[v+R][w]&&(I=!0);if(I)break;R++}return R};function p(y){var g=Math.min.apply(Math,y),v=Math.max.apply(Math,y);return function(m){var w=255-Math.round(255*(m-g)/(v-g));return{backgroundColor:"rgb(255,"+w+","+w+")"}}}function f(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=function(v){d(m,v);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return n(m,[{key:"render",value:function(){var E=this,P=new a.PivotData(this.props),A=P.props.cols,R=P.props.rows,T=P.getRowKeys(),b=P.getColKeys(),I=P.getAggregator([],[]),D=function(){},F=function(){},O=function(){};if(y.heatmapMode){var _=this.props.tableColorScaleGenerator,N=b.map(function(re){return P.getAggregator([],re).value()});F=_(N);var H=T.map(function(re){return P.getAggregator(re,[]).value()});if(O=_(H),y.heatmapMode==="full"){var L=[];T.map(function(re){return b.map(function(z){return L.push(P.getAggregator(re,z).value())})});var M=_(L);D=function(z,K,Q){return M(Q)}}else if(y.heatmapMode==="row"){var ne={};T.map(function(re){var z=b.map(function(K){return P.getAggregator(re,K).value()});ne[re]=_(z)}),D=function(z,K,Q){return ne[z](Q)}}else if(y.heatmapMode==="col"){var oe={};b.map(function(re){var z=T.map(function(K){return P.getAggregator(K,re).value()});oe[re]=_(z)}),D=function(z,K,Q){return oe[K](Q)}}}var G=this.props.tableOptions&&this.props.tableOptions.clickCallback?function(re,z,K){var Q={},de=!0,ue=!1,X=void 0;try{for(var se=Object.keys(A||{})[Symbol.iterator](),me;!(de=(me=se.next()).done);de=!0){var le=me.value,ve=A[le];K[le]!==null&&(Q[ve]=K[le])}}catch(Le){ue=!0,X=Le}finally{try{!de&&se.return&&se.return()}finally{if(ue)throw X}}var Ce=!0,he=!1,ae=void 0;try{for(var Xe=Object.keys(R||{})[Symbol.iterator](),Ae;!(Ce=(Ae=Xe.next()).done);Ce=!0){var Ye=Ae.value,ve=R[Ye];z[Ye]!==null&&(Q[ve]=z[Ye])}}catch(Le){he=!0,ae=Le}finally{try{!Ce&&Xe.return&&Xe.return()}finally{if(he)throw ae}}return function(Le){return E.props.tableOptions.clickCallback(Le,re,Q,P)}}:null;return i.default.createElement("table",{className:"pvtTable"},i.default.createElement("thead",null,A.map(function(re,z){return i.default.createElement("tr",{key:"colAttr"+z},z===0&&R.length!==0&&i.default.createElement("th",{colSpan:R.length,rowSpan:A.length}),i.default.createElement("th",{className:"pvtAxisLabel"},re),b.map(function(K,Q){var de=h(b,Q,z);return de===-1?null:i.default.createElement("th",{className:"pvtColLabel",key:"colKey"+Q,colSpan:de,rowSpan:z===A.length-1&&R.length!==0?2:1},K[z])}),z===0&&i.default.createElement("th",{className:"pvtTotalLabel",rowSpan:A.length+(R.length===0?0:1)},"Totals"))}),R.length!==0&&i.default.createElement("tr",null,R.map(function(re,z){return i.default.createElement("th",{className:"pvtAxisLabel",key:"rowAttr"+z},re)}),i.default.createElement("th",{className:"pvtTotalLabel"},A.length===0?"Totals":null))),i.default.createElement("tbody",null,T.map(function(re,z){var K=P.getAggregator(re,[]);return i.default.createElement("tr",{key:"rowKeyRow"+z},re.map(function(Q,de){var ue=h(T,z,de);return ue===-1?null:i.default.createElement("th",{key:"rowKeyLabel"+z+"-"+de,className:"pvtRowLabel",rowSpan:ue,colSpan:de===R.length-1&&A.length!==0?2:1},Q)}),b.map(function(Q,de){var ue=P.getAggregator(re,Q);return i.default.createElement("td",{className:"pvtVal",key:"pvtVal"+z+"-"+de,onClick:G&&G(ue.value(),re,Q),style:D(re,Q,ue.value())},ue.format(ue.value()))}),i.default.createElement("td",{className:"pvtTotal",onClick:G&&G(K.value(),re,[null]),style:O(K.value())},K.format(K.value())))}),i.default.createElement("tr",null,i.default.createElement("th",{className:"pvtTotalLabel",colSpan:R.length+(A.length===0?0:1)},"Totals"),b.map(function(re,z){var K=P.getAggregator([],re);return i.default.createElement("td",{className:"pvtTotal",key:"total"+z,onClick:G&&G(K.value(),[null],re),style:F(K.value())},K.format(K.value()))}),i.default.createElement("td",{onClick:G&&G(I.value(),[null],[null]),className:"pvtGrandTotal"},I.format(I.value())))))}}]),m}(i.default.PureComponent);return g.defaultProps=a.PivotData.defaultProps,g.propTypes=a.PivotData.propTypes,g.defaultProps.tableColorScaleGenerator=p,g.defaultProps.tableOptions={},g.propTypes.tableColorScaleGenerator=s.default.func,g.propTypes.tableOptions=s.default.object,g}var C=function(y){d(g,y);function g(){return c(this,g),u(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return n(g,[{key:"render",value:function(){var m=new a.PivotData(this.props),w=m.getRowKeys(),E=m.getColKeys();w.length===0&&w.push([]),E.length===0&&E.push([]);var P=m.props.rows.map(function(R){return R});E.length===1&&E[0].length===0?P.push(this.props.aggregatorName):E.map(function(R){return P.push(R.join("-"))});var A=w.map(function(R){var T=R.map(function(b){return b});return E.map(function(b){var I=m.getAggregator(R,b).value();T.push(I||"")}),T});return A.unshift(P),i.default.createElement("textarea",{value:A.map(function(R){return R.join("	")}).join(`
`),style:{width:window.innerWidth/2,height:window.innerHeight/2},readOnly:!0})}}]),g}(i.default.PureComponent);C.defaultProps=a.PivotData.defaultProps,C.propTypes=a.PivotData.propTypes,t.default={Table:f(),"Table Heatmap":f({heatmapMode:"full"}),"Table Col Heatmap":f({heatmapMode:"col"}),"Table Row Heatmap":f({heatmapMode:"row"}),"Exportable TSV":C},e.exports=t.default})(rb,rb.exports);var o1=rb.exports;const yD=op(o1);var s1={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(w0,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,s={},a=0,l={parse:function(R,T){var b=(T=T||{}).dynamicTyping||!1;if(A(b)&&(T.dynamicTypingFunction=b,b={}),T.dynamicTyping=b,T.transform=!!A(T.transform)&&T.transform,T.worker&&l.WORKERS_SUPPORTED){var I=function(){if(!l.WORKERS_SUPPORTED)return!1;var F=(_=r.URL||r.webkitURL||null,N=n.toString(),l.BLOB_URL||(l.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))),O=new r.Worker(F),_,N;return O.onmessage=v,O.id=a++,s[O.id]=O}();return I.userStep=T.step,I.userChunk=T.chunk,I.userComplete=T.complete,I.userError=T.error,T.step=A(T.step),T.chunk=A(T.chunk),T.complete=A(T.complete),T.error=A(T.error),delete T.worker,void I.postMessage({input:R,config:T,workerId:I.id})}var D=null;return l.NODE_STREAM_INPUT,typeof R=="string"?(R=function(F){return F.charCodeAt(0)===65279?F.slice(1):F}(R),D=T.download?new d(T):new p(T)):R.readable===!0&&A(R.read)&&A(R.on)?D=new f(T):(r.File&&R instanceof File||R instanceof Object)&&(D=new h(T)),D.stream(R)},unparse:function(R,T){var b=!1,I=!0,D=",",F=`\r
`,O='"',_=O+O,N=!1,H=null,L=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||l.BAD_DELIMITERS.filter(function(G){return T.delimiter.indexOf(G)!==-1}).length||(D=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(b=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(N=T.skipEmptyLines),typeof T.newline=="string"&&(F=T.newline),typeof T.quoteChar=="string"&&(O=T.quoteChar),typeof T.header=="boolean"&&(I=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");H=T.columns}T.escapeChar!==void 0&&(_=T.escapeChar+O),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(L=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var M=new RegExp(y(O),"g");if(typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(R)){if(!R.length||Array.isArray(R[0]))return ne(null,R,N);if(typeof R[0]=="object")return ne(H||Object.keys(R[0]),R,N)}else if(typeof R=="object")return typeof R.data=="string"&&(R.data=JSON.parse(R.data)),Array.isArray(R.data)&&(R.fields||(R.fields=R.meta&&R.meta.fields||H),R.fields||(R.fields=Array.isArray(R.data[0])?R.fields:typeof R.data[0]=="object"?Object.keys(R.data[0]):[]),Array.isArray(R.data[0])||typeof R.data[0]=="object"||(R.data=[R.data])),ne(R.fields||[],R.data||[],N);throw new Error("Unable to serialize unrecognized input");function ne(G,re,z){var K="";typeof G=="string"&&(G=JSON.parse(G)),typeof re=="string"&&(re=JSON.parse(re));var Q=Array.isArray(G)&&0<G.length,de=!Array.isArray(re[0]);if(Q&&I){for(var ue=0;ue<G.length;ue++)0<ue&&(K+=D),K+=oe(G[ue],ue);0<re.length&&(K+=F)}for(var X=0;X<re.length;X++){var se=Q?G.length:re[X].length,me=!1,le=Q?Object.keys(re[X]).length===0:re[X].length===0;if(z&&!Q&&(me=z==="greedy"?re[X].join("").trim()==="":re[X].length===1&&re[X][0].length===0),z==="greedy"&&Q){for(var ve=[],Ce=0;Ce<se;Ce++){var he=de?G[Ce]:Ce;ve.push(re[X][he])}me=ve.join("").trim()===""}if(!me){for(var ae=0;ae<se;ae++){0<ae&&!le&&(K+=D);var Xe=Q&&de?G[ae]:ae;K+=oe(re[X][Xe],ae)}X<re.length-1&&(!z||0<se&&!le)&&(K+=F)}}return K}function oe(G,re){if(G==null)return"";if(G.constructor===Date)return JSON.stringify(G).slice(1,25);var z=!1;L&&typeof G=="string"&&L.test(G)&&(G="'"+G,z=!0);var K=G.toString().replace(M,_);return(z=z||b===!0||typeof b=="function"&&b(G,re)||Array.isArray(b)&&b[re]||function(Q,de){for(var ue=0;ue<de.length;ue++)if(-1<Q.indexOf(de[ue]))return!0;return!1}(K,l.BAD_DELIMITERS)||-1<K.indexOf(D)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?O+K+O:K}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=g,l.ParserHandle=C,l.NetworkStreamer=d,l.FileStreamer=h,l.StringStreamer=p,l.ReadableStreamStreamer=f,r.jQuery){var c=r.jQuery;c.fn.parse=function(R){var T=R.config||{},b=[];return this.each(function(F){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var O=0;O<this.files.length;O++)b.push({file:this.files[O],inputElem:this,instanceConfig:c.extend({},T)})}),I(),this;function I(){if(b.length!==0){var F,O,_,N,H=b[0];if(A(R.before)){var L=R.before(H.file,H.inputElem);if(typeof L=="object"){if(L.action==="abort")return F="AbortError",O=H.file,_=H.inputElem,N=L.reason,void(A(R.error)&&R.error({name:F},O,_,N));if(L.action==="skip")return void D();typeof L.config=="object"&&(H.instanceConfig=c.extend(H.instanceConfig,L.config))}else if(L==="skip")return void D()}var M=H.instanceConfig.complete;H.instanceConfig.complete=function(ne){A(M)&&M(ne,H.file,H.inputElem),D()},l.parse(H.file,H.instanceConfig)}else A(R.complete)&&R.complete()}function D(){b.splice(0,1),I()}}}function u(R){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var b=E(T);b.chunkSize=parseInt(b.chunkSize),T.step||T.chunk||(b.chunkSize=null),this._handle=new C(b),(this._handle.streamer=this)._config=b}).call(this,R),this.parseChunk=function(T,b){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var I=this._config.beforeFirstChunk(T);I!==void 0&&(T=I)}this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+T;this._partialLine="";var F=this._handle.parse(D,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var O=F.meta.cursor;this._finished||(this._partialLine=D.substring(O-this._baseIndex),this._baseIndex=O),F&&F.data&&(this._rowCount+=F.data.length);var _=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)r.postMessage({results:F,workerId:l.WORKER_ID,finished:_});else if(A(this._config.chunk)&&!b){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);F=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!_||!A(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(T){A(this._config.error)?this._config.error(T):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:T,finished:!1})}}function d(R){var T;(R=R||{}).chunkSize||(R.chunkSize=l.RemoteChunkSize),u.call(this,R),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(b){this._input=b,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),i||(T.onload=P(this._chunkLoaded,this),T.onerror=P(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var b=this._config.downloadRequestHeaders;for(var I in b)T.setRequestHeader(I,b[I])}if(this._config.chunkSize){var D=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+D)}try{T.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}i&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(b){var I=b.getResponseHeader("Content-Range");return I===null?-1:parseInt(I.substring(I.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(b){var I=T.statusText||b;this._sendError(new Error(I))}}function h(R){var T,b;(R=R||{}).chunkSize||(R.chunkSize=l.LocalChunkSize),u.call(this,R);var I=typeof FileReader<"u";this.stream=function(D){this._input=D,b=D.slice||D.webkitSlice||D.mozSlice,I?((T=new FileReader).onload=P(this._chunkLoaded,this),T.onerror=P(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input;if(this._config.chunkSize){var F=Math.min(this._start+this._config.chunkSize,this._input.size);D=b.call(D,this._start,F)}var O=T.readAsText(D,this._config.encoding);I||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(R){var T;u.call(this,R=R||{}),this.stream=function(b){return T=b,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var b,I=this._config.chunkSize;return I?(b=T.substring(0,I),T=T.substring(I)):(b=T,T=""),this._finished=!T,this.parseChunk(b)}}}function f(R){u.call(this,R=R||{});var T=[],b=!0,I=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):b=!0},this._streamData=P(function(D){try{T.push(typeof D=="string"?D:D.toString(this._config.encoding)),b&&(b=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(F){this._streamError(F)}},this),this._streamError=P(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=P(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(R){var T,b,I,D=Math.pow(2,53),F=-D,O=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,N=this,H=0,L=0,M=!1,ne=!1,oe=[],G={data:[],errors:[],meta:{}};if(A(R.step)){var re=R.step;R.step=function(X){if(G=X,Q())K();else{if(K(),G.data.length===0)return;H+=X.data.length,R.preview&&H>R.preview?b.abort():(G.data=G.data[0],re(G,N))}}}function z(X){return R.skipEmptyLines==="greedy"?X.join("").trim()==="":X.length===1&&X[0].length===0}function K(){return G&&I&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),I=!1),R.skipEmptyLines&&(G.data=G.data.filter(function(X){return!z(X)})),Q()&&function(){if(!G)return;function X(me,le){A(R.transformHeader)&&(me=R.transformHeader(me,le)),oe.push(me)}if(Array.isArray(G.data[0])){for(var se=0;Q()&&se<G.data.length;se++)G.data[se].forEach(X);G.data.splice(0,1)}else G.data.forEach(X)}(),function(){if(!G||!R.header&&!R.dynamicTyping&&!R.transform)return G;function X(me,le){var ve,Ce=R.header?{}:[];for(ve=0;ve<me.length;ve++){var he=ve,ae=me[ve];R.header&&(he=ve>=oe.length?"__parsed_extra":oe[ve]),R.transform&&(ae=R.transform(ae,he)),ae=de(he,ae),he==="__parsed_extra"?(Ce[he]=Ce[he]||[],Ce[he].push(ae)):Ce[he]=ae}return R.header&&(ve>oe.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+oe.length+" fields but parsed "+ve,L+le):ve<oe.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+oe.length+" fields but parsed "+ve,L+le)),Ce}var se=1;return!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(X),se=G.data.length):G.data=X(G.data,0),R.header&&G.meta&&(G.meta.fields=oe),L+=se,G}()}function Q(){return R.header&&oe.length===0}function de(X,se){return me=X,R.dynamicTypingFunction&&R.dynamicTyping[me]===void 0&&(R.dynamicTyping[me]=R.dynamicTypingFunction(me)),(R.dynamicTyping[me]||R.dynamicTyping)===!0?se==="true"||se==="TRUE"||se!=="false"&&se!=="FALSE"&&(function(le){if(O.test(le)){var ve=parseFloat(le);if(F<ve&&ve<D)return!0}return!1}(se)?parseFloat(se):_.test(se)?new Date(se):se===""?null:se):se;var me}function ue(X,se,me,le){var ve={type:X,code:se,message:me};le!==void 0&&(ve.row=le),G.errors.push(ve)}this.parse=function(X,se,me){var le=R.quoteChar||'"';if(R.newline||(R.newline=function(he,ae){he=he.substring(0,1048576);var Xe=new RegExp(y(ae)+"([^]*?)"+y(ae),"gm"),Ae=(he=he.replace(Xe,"")).split("\r"),Ye=he.split(`
`),Le=1<Ye.length&&Ye[0].length<Ae[0].length;if(Ae.length===1||Le)return`
`;for(var $e=0,ge=0;ge<Ae.length;ge++)Ae[ge][0]===`
`&&$e++;return $e>=Ae.length/2?`\r
`:"\r"}(X,le)),I=!1,R.delimiter)A(R.delimiter)&&(R.delimiter=R.delimiter(X),G.meta.delimiter=R.delimiter);else{var ve=function(he,ae,Xe,Ae,Ye){var Le,$e,ge,Je;Ye=Ye||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var At=0;At<Ye.length;At++){var Ze=Ye[At],ot=0,dt=0,yt=0;ge=void 0;for(var lt=new g({comments:Ae,delimiter:Ze,newline:ae,preview:10}).parse(he),Wt=0;Wt<lt.data.length;Wt++)if(Xe&&z(lt.data[Wt]))yt++;else{var ht=lt.data[Wt].length;dt+=ht,ge!==void 0?0<ht&&(ot+=Math.abs(ht-ge),ge=ht):ge=ht}0<lt.data.length&&(dt/=lt.data.length-yt),($e===void 0||ot<=$e)&&(Je===void 0||Je<dt)&&1.99<dt&&($e=ot,Le=Ze,Je=dt)}return{successful:!!(R.delimiter=Le),bestDelimiter:Le}}(X,R.newline,R.skipEmptyLines,R.comments,R.delimitersToGuess);ve.successful?R.delimiter=ve.bestDelimiter:(I=!0,R.delimiter=l.DefaultDelimiter),G.meta.delimiter=R.delimiter}var Ce=E(R);return R.preview&&R.header&&Ce.preview++,T=X,b=new g(Ce),G=b.parse(T,se,me),K(),M?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,b.abort(),T=A(R.chunk)?"":T.substring(b.getCharIndex())},this.resume=function(){N.streamer._halted?(M=!1,N.streamer.parseChunk(T,!0)):setTimeout(N.resume,3)},this.aborted=function(){return ne},this.abort=function(){ne=!0,b.abort(),G.meta.aborted=!0,A(R.complete)&&R.complete(G),T=""}}function y(R){return R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(R){var T,b=(R=R||{}).delimiter,I=R.newline,D=R.comments,F=R.step,O=R.preview,_=R.fastMode,N=T=R.quoteChar===void 0||R.quoteChar===null?'"':R.quoteChar;if(R.escapeChar!==void 0&&(N=R.escapeChar),(typeof b!="string"||-1<l.BAD_DELIMITERS.indexOf(b))&&(b=","),D===b)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<l.BAD_DELIMITERS.indexOf(D))&&(D=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var H=0,L=!1;this.parse=function(M,ne,oe){if(typeof M!="string")throw new Error("Input must be a string");var G=M.length,re=b.length,z=I.length,K=D.length,Q=A(F),de=[],ue=[],X=[],se=H=0;if(!M)return jt();if(R.header&&!ne){var me=M.split(I)[0].split(b),le=[],ve={},Ce=!1;for(var he in me){var ae=me[he];A(R.transformHeader)&&(ae=R.transformHeader(ae,he));var Xe=ae,Ae=ve[ae]||0;for(0<Ae&&(Ce=!0,Xe=ae+"_"+Ae),ve[ae]=Ae+1;le.includes(Xe);)Xe=Xe+"_"+Ae;le.push(Xe)}if(Ce){var Ye=M.split(I);Ye[0]=le.join(b),M=Ye.join(I)}}if(_||_!==!1&&M.indexOf(T)===-1){for(var Le=M.split(I),$e=0;$e<Le.length;$e++){if(X=Le[$e],H+=X.length,$e!==Le.length-1)H+=I.length;else if(oe)return jt();if(!D||X.substring(0,K)!==D){if(Q){if(de=[],yt(X.split(b)),lr(),L)return jt()}else yt(X.split(b));if(O&&O<=$e)return de=de.slice(0,O),jt(!0)}}return jt()}for(var ge=M.indexOf(b,H),Je=M.indexOf(I,H),At=new RegExp(y(N)+y(T),"g"),Ze=M.indexOf(T,H);;)if(M[H]!==T)if(D&&X.length===0&&M.substring(H,H+K)===D){if(Je===-1)return jt();H=Je+z,Je=M.indexOf(I,H),ge=M.indexOf(b,H)}else if(ge!==-1&&(ge<Je||Je===-1))X.push(M.substring(H,ge)),H=ge+re,ge=M.indexOf(b,H);else{if(Je===-1)break;if(X.push(M.substring(H,Je)),ht(Je+z),Q&&(lr(),L))return jt();if(O&&de.length>=O)return jt(!0)}else for(Ze=H,H++;;){if((Ze=M.indexOf(T,Ze+1))===-1)return oe||ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:H}),Wt();if(Ze===G-1)return Wt(M.substring(H,Ze).replace(At,T));if(T!==N||M[Ze+1]!==N){if(T===N||Ze===0||M[Ze-1]!==N){ge!==-1&&ge<Ze+1&&(ge=M.indexOf(b,Ze+1)),Je!==-1&&Je<Ze+1&&(Je=M.indexOf(I,Ze+1));var ot=lt(Je===-1?ge:Math.min(ge,Je));if(M.substr(Ze+1+ot,re)===b){X.push(M.substring(H,Ze).replace(At,T)),M[H=Ze+1+ot+re]!==T&&(Ze=M.indexOf(T,H)),ge=M.indexOf(b,H),Je=M.indexOf(I,H);break}var dt=lt(Je);if(M.substring(Ze+1+dt,Ze+1+dt+z)===I){if(X.push(M.substring(H,Ze).replace(At,T)),ht(Ze+1+dt+z),ge=M.indexOf(b,H),Ze=M.indexOf(T,H),Q&&(lr(),L))return jt();if(O&&de.length>=O)return jt(!0);break}ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:H}),Ze++}}else Ze++}return Wt();function yt(qt){de.push(qt),se=H}function lt(qt){var Fe=0;if(qt!==-1){var St=M.substring(Ze+1,qt);St&&St.trim()===""&&(Fe=St.length)}return Fe}function Wt(qt){return oe||(qt===void 0&&(qt=M.substring(H)),X.push(qt),H=G,yt(X),Q&&lr()),jt()}function ht(qt){H=qt,yt(X),X=[],Je=M.indexOf(I,H)}function jt(qt){return{data:de,errors:ue,meta:{delimiter:b,linebreak:I,aborted:L,truncated:!!qt,cursor:se+(ne||0)}}}function lr(){F(jt()),de=[],ue=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return H}}function v(R){var T=R.data,b=s[T.workerId],I=!1;if(T.error)b.userError(T.error,T.file);else if(T.results&&T.results.data){var D={abort:function(){I=!0,m(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(A(b.userStep)){for(var F=0;F<T.results.data.length&&(b.userStep({data:T.results.data[F],errors:T.results.errors,meta:T.results.meta},D),!I);F++);delete T.results}else A(b.userChunk)&&(b.userChunk(T.results,D,T.file),delete T.results)}T.finished&&!I&&m(T.workerId,T.results)}function m(R,T){var b=s[R];A(b.userComplete)&&b.userComplete(T),b.terminate(),delete s[R]}function w(){throw new Error("Not implemented.")}function E(R){if(typeof R!="object"||R===null)return R;var T=Array.isArray(R)?[]:{};for(var b in R)T[b]=E(R[b]);return T}function P(R,T){return function(){R.apply(T,arguments)}}function A(R){return typeof R=="function"}return o&&(r.onmessage=function(R){var T=R.data;if(l.WORKER_ID===void 0&&T&&(l.WORKER_ID=T.workerId),typeof T.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(T.input,T.config),finished:!0});else if(r.File&&T.input instanceof File||T.input instanceof Object){var b=l.parse(T.input,T.config);b&&r.postMessage({workerId:l.WORKER_ID,results:b,finished:!0})}}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(f.prototype=Object.create(u.prototype)).constructor=f,l})})(s1);var Ioe=s1.exports;const xoe=op(Ioe);var bu={},cC={exports:{}},Doe=function(e,t,n,r,i,o,s,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Foe=Doe,Oo=Foe,ib=Object.prototype.hasOwnProperty,Ooe=Array.prototype.splice,Moe=Object.prototype.toString,wl=function(e){return Moe.call(e).slice(8,-1)},ob=Object.assign||function(t,n){return OP(n).forEach(function(r){ib.call(n,r)&&(t[r]=n[r])}),t},OP=typeof Object.getOwnPropertySymbols=="function"?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function Zs(e){if(Array.isArray(e))return ob(e.constructor(e.length),e);if(wl(e)==="Map")return new Map(e);if(wl(e)==="Set")return new Set(e);if(e&&typeof e=="object"){var t=Object.getPrototypeOf(e);return ob(Object.create(t),e)}else return e}function a1(){var e=ob({},koe);return t.extend=function(n,r){e[n]=r},t.isEquals=function(n,r){return n===r},t;function t(n,r){typeof r=="function"&&(r={$apply:r}),Array.isArray(n)&&Array.isArray(r)||Oo(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),Oo(typeof r=="object"&&r!==null,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var i=n;return OP(r).forEach(function(o){if(ib.call(e,o)){var s=n===i;i=e[o](r[o],i,r,n),s&&t.isEquals(i,n)&&(i=n)}else{var a=wl(n)==="Map"?t(n.get(o),r[o]):t(n[o],r[o]),l=wl(i)==="Map"?i.get(o):i[o];(!t.isEquals(a,l)||typeof a>"u"&&!ib.call(n,o))&&(i===n&&(i=Zs(n)),wl(i)==="Map"?i.set(o,a):i[o]=a)}}),i}}var koe={$push:function(e,t,n){return SD(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return SD(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){return Loe(t,n),e.forEach(function(i){c1(i),t===r&&i.length&&(t=Zs(r)),Ooe.apply(t,i)}),t},$set:function(e,t,n){return _oe(n),e},$toggle:function(e,t){Od(e,"$toggle");var n=e.length?Zs(t):t;return e.forEach(function(r){n[r]=!t[r]}),n},$unset:function(e,t,n,r){return Od(e,"$unset"),e.forEach(function(i){Object.hasOwnProperty.call(t,i)&&(t===r&&(t=Zs(r)),delete t[i])}),t},$add:function(e,t,n,r){return wD(t,"$add"),Od(e,"$add"),wl(t)==="Map"?e.forEach(function(i){var o=i[0],s=i[1];t===r&&t.get(o)!==s&&(t=Zs(r)),t.set(o,s)}):e.forEach(function(i){t===r&&!t.has(i)&&(t=Zs(r)),t.add(i)}),t},$remove:function(e,t,n,r){return wD(t,"$remove"),Od(e,"$remove"),e.forEach(function(i){t===r&&t.has(i)&&(t=Zs(r)),t.delete(i)}),t},$merge:function(e,t,n,r){return Boe(t,e),OP(e).forEach(function(i){e[i]!==t[i]&&(t===r&&(t=Zs(r)),t[i]=e[i])}),t},$apply:function(e,t){return Noe(e),e(t)}},l1=a1();cC.exports=l1;cC.exports.default=l1;cC.exports.newContext=a1;function SD(e,t,n){Oo(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),Od(t[n],n)}function Od(e,t){Oo(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function Loe(e,t){Oo(Array.isArray(e),"Expected $splice target to be an array; got %s",e),c1(t.$splice)}function c1(e){Oo(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function Noe(e){Oo(typeof e=="function","update(): expected spec of $apply to be a function; got %s.",e)}function _oe(e){Oo(Object.keys(e).length===1,"Cannot have more than one key in an object with $set")}function Boe(e,t){Oo(t&&typeof t=="object","update(): $merge expects a spec of type 'object'; got %s",t),Oo(e&&typeof e=="object","update(): $merge expects a target of type 'object'; got %s",e)}function wD(e,t){var n=wl(e);Oo(n==="Map"||n==="Set","update(): %s expects a target of type Set or Map; got %s",t,n)}var Hoe=cC.exports,sb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function C(y,g){for(var v=0;v<g.length;v++){var m=g[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,g,v){return g&&C(y.prototype,g),v&&C(y,v),y}}(),r=S,i=u(r),o=pp,s=u(o),a=On,l=o1,c=u(l);function u(C){return C&&C.__esModule?C:{default:C}}function d(C,y){if(!(C instanceof y))throw new TypeError("Cannot call a class as a function")}function h(C,y){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:C}function p(C,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);C.prototype=Object.create(y&&y.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(C,y):C.__proto__=y)}var f=function(C){p(y,C);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return n(y,[{key:"render",value:function(){var v=this.props.renderers[this.props.rendererName in this.props.renderers?this.props.rendererName:Object.keys(this.props.renderers)[0]];return i.default.createElement(v,this.props)}}]),y}(i.default.PureComponent);f.propTypes=Object.assign({},a.PivotData.propTypes,{rendererName:s.default.string,renderers:s.default.objectOf(s.default.func)}),f.defaultProps=Object.assign({},a.PivotData.defaultProps,{rendererName:"Table",renderers:c.default}),t.default=f,e.exports=t.default})(sb,sb.exports);var Goe=sb.exports,uC={};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){Voe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fg(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fg=function(t){return typeof t}:fg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function Voe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function co(){return co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)}function Woe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Uoe(e,t){if(e==null)return{};var n=Woe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zoe(e){return $oe(e)||joe(e)||Koe(e)||qoe()}function $oe(e){if(Array.isArray(e))return ab(e)}function joe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Koe(e,t){if(e){if(typeof e=="string")return ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(e,t)}}function ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yoe="1.15.6";function xs(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var $s=xs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xp=xs(/Edge/i),RD=xs(/firefox/i),ah=xs(/safari/i)&&!xs(/chrome/i)&&!xs(/android/i),MP=xs(/iP(ad|od|hone)/i),u1=xs(/chrome/i)&&xs(/android/i),d1={capture:!1,passive:!1};function gt(e,t,n){e.addEventListener(t,n,!$s&&d1)}function pt(e,t,n){e.removeEventListener(t,n,!$s&&d1)}function Am(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function h1(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Zr(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Am(e,t):Am(e,t))||r&&e===n)return e;if(e===n)break}while(e=h1(e))}return null}var ED=/\s+/g;function bn(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(ED," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(ED," ")}}function _e(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function bl(e,t){var n="";if(typeof e=="string")n=e;else do{var r=_e(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function p1(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function rs(){var e=document.scrollingElement;return e||document.documentElement}function dn(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,c,u,d;if(e!==window&&e.parentNode&&e!==rs()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!$s))do if(i&&i.getBoundingClientRect&&(_e(i,"transform")!=="none"||n&&_e(i,"position")!=="static")){var h=i.getBoundingClientRect();s-=h.top+parseInt(_e(i,"border-top-width")),a-=h.left+parseInt(_e(i,"border-left-width")),l=s+o.height,c=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var p=bl(i||e),f=p&&p.a,C=p&&p.d;p&&(s/=C,a/=f,d/=f,u/=C,l=s+u,c=a+d)}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function PD(e,t,n){for(var r=da(e,!0),i=dn(e)[t];r;){var o=dn(r)[n],s=void 0;if(s=i>=o,!s)return r;if(r===rs())break;r=da(r,!1)}return!1}function Ru(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==Ke.ghost&&(r||s[o]!==Ke.dragged)&&Zr(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function kP(e,t){for(var n=e.lastElementChild;n&&(n===Ke.ghost||_e(n,"display")==="none"||t&&!Am(n,t));)n=n.previousElementSibling;return n||null}function Mn(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ke.clone&&(!t||Am(e,t))&&n++;return n}function TD(e){var t=0,n=0,r=rs();if(e)do{var i=bl(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function Qoe(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function da(e,t){if(!e||!e.getBoundingClientRect)return rs();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=_e(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return rs();if(r||t)return n;r=!0}}while(n=n.parentNode);return rs()}function Xoe(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Dy(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var lh;function f1(e,t){return function(){if(!lh){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),lh=setTimeout(function(){lh=void 0},t)}}}function Joe(){clearTimeout(lh),lh=void 0}function g1(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function LP(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function AD(e,t){_e(e,"position","absolute"),_e(e,"top",t.top),_e(e,"left",t.left),_e(e,"width",t.width),_e(e,"height",t.height)}function Fy(e){_e(e,"position",""),_e(e,"top",""),_e(e,"left",""),_e(e,"width",""),_e(e,"height","")}function m1(e,t,n){var r={};return Array.from(e.children).forEach(function(i){var o,s,a,l;if(!(!Zr(i,t.draggable,e,!1)||i.animated||i===n)){var c=dn(i);r.left=Math.min((o=r.left)!==null&&o!==void 0?o:1/0,c.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,c.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var fr="Sortable"+new Date().getTime();function Zoe(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(_e(i,"display")==="none"||i===Ke.ghost)){e.push({target:i,rect:dn(i)});var o=ls({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=bl(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Qoe(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,s=0;e.forEach(function(a){var l=0,c=a.target,u=c.fromRect,d=dn(c),h=c.prevFromRect,p=c.prevToRect,f=a.rect,C=bl(c,!0);C&&(d.top-=C.f,d.left-=C.e),c.toRect=d,c.thisAnimationDuration&&Dy(h,d)&&!Dy(u,d)&&(f.top-d.top)/(f.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=tse(f,h,p,i.options)),Dy(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=i.options.animation),i.animate(c,f,d,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,s){if(s){_e(r,"transition",""),_e(r,"transform","");var a=bl(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-o.left)/(l||1),d=(i.top-o.top)/(c||1);r.animatingX=!!u,r.animatingY=!!d,_e(r,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=ese(r),_e(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),_e(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){_e(r,"transition",""),_e(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function ese(e){return e.offsetWidth}function tse(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var ac=[],Oy={initializeByDefault:!0},Dp={mount:function(t){for(var n in Oy)Oy.hasOwnProperty(n)&&!(n in t)&&(t[n]=Oy[n]);ac.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),ac.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";ac.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](ls({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](ls({sortable:n},r)))})},initializePlugins:function(t,n,r,i){ac.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,co(r,c.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var r={};return ac.forEach(function(i){typeof i.eventProperties=="function"&&co(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return ac.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function Md(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[fr],!!t){var C,y=t.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!$s&&!xp?C=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(C=document.createEvent("Event"),C.initEvent(r,!0,!0)),C.to=s||n,C.from=a||n,C.item=i||n,C.clone=o,C.oldIndex=l,C.newIndex=c,C.oldDraggableIndex=u,C.newDraggableIndex=d,C.originalEvent=h,C.pullMode=p?p.lastPutMode:void 0;var v=ls(ls({},f),Dp.getEventProperties(r,t));for(var m in v)C[m]=v[m];n&&n.dispatchEvent(C),y[g]&&y[g].call(t,C)}}var nse=["evt"],Qr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=Uoe(r,nse);Dp.pluginEvent.bind(Ke)(t,n,ls({dragEl:Ee,parentEl:In,ghostEl:rt,rootEl:vn,nextEl:tl,lastDownEl:gg,cloneEl:wn,cloneHidden:aa,dragStarted:kd,putSortable:dr,activeSortable:Ke.active,originalEvent:i,oldIndex:Bc,oldDraggableIndex:ch,newIndex:mi,newDraggableIndex:ra,hideGhostForTarget:S1,unhideGhostForTarget:w1,cloneNowHidden:function(){aa=!0},cloneNowShown:function(){aa=!1},dispatchSortableEvent:function(a){Lr({sortable:n,name:a,originalEvent:i})}},o))};function Lr(e){Md(ls({putSortable:dr,cloneEl:wn,targetEl:Ee,rootEl:vn,oldIndex:Bc,oldDraggableIndex:ch,newIndex:mi,newDraggableIndex:ra},e))}var Ee,In,rt,vn,tl,gg,wn,aa,Bc,mi,ch,ra,Mf,dr,Cc=!1,Im=!1,xm=[],za,po,My,ky,ID,xD,kd,lc,uh,dh=!1,kf=!1,mg,Rr,Ly=[],lb=!1,Dm=[],dC=typeof document<"u",Lf=MP,DD=xp||$s?"cssFloat":"float",rse=dC&&!u1&&!MP&&"draggable"in document.createElement("div"),v1=function(){if(dC){if($s)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),C1=function(t,n){var r=_e(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Ru(t,0,n),s=Ru(t,1,n),a=o&&_e(o),l=s&&_e(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+dn(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+dn(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[DD]==="none"||s&&r[DD]==="none"&&c+u>i)?"vertical":"horizontal"},ise=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,s=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||o===l||i+s/2===a+c/2},ose=function(t,n){var r;return xm.some(function(i){var o=i[fr].options.emptyInsertThreshold;if(!(!o||kP(i))){var s=dn(i),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return r=i}}),r},y1=function(t){function n(o,s){return function(a,l,c,u){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||d))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,c,u),s)(a,l,c,u);var h=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var r={},i=t.group;(!i||fg(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},S1=function(){!v1&&rt&&_e(rt,"display","none")},w1=function(){!v1&&rt&&_e(rt,"display","")};dC&&!u1&&document.addEventListener("click",function(e){if(Im)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Im=!1,!1},!0);var $a=function(t){if(Ee){t=t.touches?t.touches[0]:t;var n=ose(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[fr]._onDragOver(r)}}},sse=function(t){Ee&&Ee.parentNode[fr]._isOutsideThisEl(t.target)};function Ke(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=co({},t),e[fr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return C1(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ke.supportPointer!==!1&&"PointerEvent"in window&&(!ah||MP),emptyInsertThreshold:5};Dp.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);y1(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:rse,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?gt(e,"pointerdown",this._onTapStart):(gt(e,"mousedown",this._onTapStart),gt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(gt(e,"dragover",this),gt(e,"dragenter",this)),xm.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),co(this,Zoe())}Ke.prototype={constructor:Ke,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(lc=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Ee):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=i.filter;if(fse(r),!Ee&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ah&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Zr(l,i.draggable,r,!1),!(l&&l.animated)&&gg!==l)){if(Bc=Mn(l),ch=Mn(l,i.draggable),typeof u=="function"){if(u.call(this,t,l,this)){Lr({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),Qr("filter",n,{evt:t}),o&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=Zr(c,d.trim(),r,!1),d)return Lr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Qr("filter",n,{evt:t}),!0}),u)){o&&t.preventDefault();return}i.handle&&!Zr(c,i.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,l;if(r&&!Ee&&r.parentNode===o){var c=dn(r);if(vn=o,Ee=r,In=Ee.parentNode,tl=Ee.nextSibling,gg=r,Mf=s.group,Ke.dragged=Ee,za={target:Ee,clientX:(n||t).clientX,clientY:(n||t).clientY},ID=za.clientX-c.left,xD=za.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Ee.style["will-change"]="all",l=function(){if(Qr("delayEnded",i,{evt:t}),Ke.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!RD&&i.nativeDraggable&&(Ee.draggable=!0),i._triggerDragStart(t,n),Lr({sortable:i,name:"choose",originalEvent:t}),bn(Ee,s.chosenClass,!0)},s.ignore.split(",").forEach(function(u){p1(Ee,u.trim(),Ny)}),gt(a,"dragover",$a),gt(a,"mousemove",$a),gt(a,"touchmove",$a),s.supportPointer?(gt(a,"pointerup",i._onDrop),!this.nativeDraggable&&gt(a,"pointercancel",i._onDrop)):(gt(a,"mouseup",i._onDrop),gt(a,"touchend",i._onDrop),gt(a,"touchcancel",i._onDrop)),RD&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ee.draggable=!0),Qr("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(xp||$s))){if(Ke.eventCanceled){this._onDrop();return}s.supportPointer?(gt(a,"pointerup",i._disableDelayedDrag),gt(a,"pointercancel",i._disableDelayedDrag)):(gt(a,"mouseup",i._disableDelayedDrag),gt(a,"touchend",i._disableDelayedDrag),gt(a,"touchcancel",i._disableDelayedDrag)),gt(a,"mousemove",i._delayedDragTouchMoveHandler),gt(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&gt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ee&&Ny(Ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;pt(t,"mouseup",this._disableDelayedDrag),pt(t,"touchend",this._disableDelayedDrag),pt(t,"touchcancel",this._disableDelayedDrag),pt(t,"pointerup",this._disableDelayedDrag),pt(t,"pointercancel",this._disableDelayedDrag),pt(t,"mousemove",this._delayedDragTouchMoveHandler),pt(t,"touchmove",this._delayedDragTouchMoveHandler),pt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?gt(document,"pointermove",this._onTouchMove):n?gt(document,"touchmove",this._onTouchMove):gt(document,"mousemove",this._onTouchMove):(gt(Ee,"dragend",this),gt(vn,"dragstart",this._onDragStart));try{document.selection?vg(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Cc=!1,vn&&Ee){Qr("dragStarted",this,{evt:n}),this.nativeDraggable&&gt(document,"dragover",sse);var r=this.options;!t&&bn(Ee,r.dragClass,!1),bn(Ee,r.ghostClass,!0),Ke.active=this,t&&this._appendGhost(),Lr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(po){this._lastX=po.clientX,this._lastY=po.clientY,S1();for(var t=document.elementFromPoint(po.clientX,po.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(po.clientX,po.clientY),t!==n);)n=t;if(Ee.parentNode[fr]._isOutsideThisEl(t),n)do{if(n[fr]){var r=void 0;if(r=n[fr]._onDragOver({clientX:po.clientX,clientY:po.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=h1(n));w1()}},_onTouchMove:function(t){if(za){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=rt&&bl(rt,!0),a=rt&&s&&s.a,l=rt&&s&&s.d,c=Lf&&Rr&&TD(Rr),u=(o.clientX-za.clientX+i.x)/(a||1)+(c?c[0]-Ly[0]:0)/(a||1),d=(o.clientY-za.clientY+i.y)/(l||1)+(c?c[1]-Ly[1]:0)/(l||1);if(!Ke.active&&!Cc){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(rt){s?(s.e+=u-(My||0),s.f+=d-(ky||0)):s={a:1,b:0,c:0,d:1,e:u,f:d};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");_e(rt,"webkitTransform",h),_e(rt,"mozTransform",h),_e(rt,"msTransform",h),_e(rt,"transform",h),My=u,ky=d,po=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!rt){var t=this.options.fallbackOnBody?document.body:vn,n=dn(Ee,!0,Lf,!0,t),r=this.options;if(Lf){for(Rr=t;_e(Rr,"position")==="static"&&_e(Rr,"transform")==="none"&&Rr!==document;)Rr=Rr.parentNode;Rr!==document.body&&Rr!==document.documentElement?(Rr===document&&(Rr=rs()),n.top+=Rr.scrollTop,n.left+=Rr.scrollLeft):Rr=rs(),Ly=TD(Rr)}rt=Ee.cloneNode(!0),bn(rt,r.ghostClass,!1),bn(rt,r.fallbackClass,!0),bn(rt,r.dragClass,!0),_e(rt,"transition",""),_e(rt,"transform",""),_e(rt,"box-sizing","border-box"),_e(rt,"margin",0),_e(rt,"top",n.top),_e(rt,"left",n.left),_e(rt,"width",n.width),_e(rt,"height",n.height),_e(rt,"opacity","0.8"),_e(rt,"position",Lf?"absolute":"fixed"),_e(rt,"zIndex","100000"),_e(rt,"pointerEvents","none"),Ke.ghost=rt,t.appendChild(rt),_e(rt,"transform-origin",ID/parseInt(rt.style.width)*100+"% "+xD/parseInt(rt.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(Qr("dragStart",this,{evt:t}),Ke.eventCanceled){this._onDrop();return}Qr("setupClone",this),Ke.eventCanceled||(wn=LP(Ee),wn.removeAttribute("id"),wn.draggable=!1,wn.style["will-change"]="",this._hideClone(),bn(wn,this.options.chosenClass,!1),Ke.clone=wn),r.cloneId=vg(function(){Qr("clone",r),!Ke.eventCanceled&&(r.options.removeCloneOnHide||vn.insertBefore(wn,Ee),r._hideClone(),Lr({sortable:r,name:"clone"}))}),!n&&bn(Ee,o.dragClass,!0),n?(Im=!0,r._loopId=setInterval(r._emulateDragOver,50)):(pt(document,"mouseup",r._onDrop),pt(document,"touchend",r._onDrop),pt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,Ee)),gt(document,"drop",r),_e(Ee,"transform","translateZ(0)")),Cc=!0,r._dragStartId=vg(r._dragStarted.bind(r,n,t)),gt(document,"selectstart",r),kd=!0,window.getSelection().removeAllRanges(),ah&&_e(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,s,a=this.options,l=a.group,c=Ke.active,u=Mf===l,d=a.sort,h=dr||c,p,f=this,C=!1;if(lb)return;function y(L,M){Qr(L,f,ls({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:d,fromSortable:h,target:r,completed:v,onMove:function(oe,G){return Nf(vn,n,Ee,i,oe,dn(oe),t,G)},changed:m},M))}function g(){y("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function v(L){return y("dragOverCompleted",{insertion:L}),L&&(u?c._hideClone():c._showClone(f),f!==h&&(bn(Ee,dr?dr.options.ghostClass:c.options.ghostClass,!1),bn(Ee,a.ghostClass,!0)),dr!==f&&f!==Ke.active?dr=f:f===Ke.active&&dr&&(dr=null),h===f&&(f._ignoreWhileAnimating=r),f.animateAll(function(){y("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Ee&&!Ee.animated||r===n&&!r.animated)&&(lc=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(Ee.parentNode[fr]._isOutsideThisEl(t.target),!L&&$a(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),C=!0}function m(){mi=Mn(Ee),ra=Mn(Ee,a.draggable),Lr({sortable:f,name:"change",toEl:n,newIndex:mi,newDraggableIndex:ra,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Zr(r,a.draggable,n,!0),y("dragOver"),Ke.eventCanceled)return C;if(Ee.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||f._ignoreWhileAnimating===r)return v(!1);if(Im=!1,c&&!a.disabled&&(u?d||(s=In!==vn):dr===this||(this.lastPutMode=Mf.checkPull(this,c,Ee,t))&&l.checkPut(this,c,Ee,t))){if(p=this._getDirection(t,r)==="vertical",i=dn(Ee),y("dragOverValid"),Ke.eventCanceled)return C;if(s)return In=vn,g(),this._hideClone(),y("revert"),Ke.eventCanceled||(tl?vn.insertBefore(Ee,tl):vn.appendChild(Ee)),v(!0);var w=kP(n,a.draggable);if(!w||use(t,p,this)&&!w.animated){if(w===Ee)return v(!1);if(w&&n===t.target&&(r=w),r&&(o=dn(r)),Nf(vn,n,Ee,i,r,o,t,!!r)!==!1)return g(),w&&w.nextSibling?n.insertBefore(Ee,w.nextSibling):n.appendChild(Ee),In=n,m(),v(!0)}else if(w&&cse(t,p,this)){var E=Ru(n,0,a,!0);if(E===Ee)return v(!1);if(r=E,o=dn(r),Nf(vn,n,Ee,i,r,o,t,!1)!==!1)return g(),n.insertBefore(Ee,E),In=n,m(),v(!0)}else if(r.parentNode===n){o=dn(r);var P=0,A,R=Ee.parentNode!==n,T=!ise(Ee.animated&&Ee.toRect||i,r.animated&&r.toRect||o,p),b=p?"top":"left",I=PD(r,"top","top")||PD(Ee,"top","top"),D=I?I.scrollTop:void 0;lc!==r&&(A=o[b],dh=!1,kf=!T&&a.invertSwap||R),P=dse(t,r,o,p,T?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,kf,lc===r);var F;if(P!==0){var O=Mn(Ee);do O-=P,F=In.children[O];while(F&&(_e(F,"display")==="none"||F===rt))}if(P===0||F===r)return v(!1);lc=r,uh=P;var _=r.nextElementSibling,N=!1;N=P===1;var H=Nf(vn,n,Ee,i,r,o,t,N);if(H!==!1)return(H===1||H===-1)&&(N=H===1),lb=!0,setTimeout(lse,30),g(),N&&!_?n.appendChild(Ee):r.parentNode.insertBefore(Ee,N?_:r),I&&g1(I,0,D-I.scrollTop),In=Ee.parentNode,A!==void 0&&!kf&&(mg=Math.abs(A-dn(r)[b])),m(),v(!0)}if(n.contains(Ee))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){pt(document,"mousemove",this._onTouchMove),pt(document,"touchmove",this._onTouchMove),pt(document,"pointermove",this._onTouchMove),pt(document,"dragover",$a),pt(document,"mousemove",$a),pt(document,"touchmove",$a)},_offUpEvents:function(){var t=this.el.ownerDocument;pt(t,"mouseup",this._onDrop),pt(t,"touchend",this._onDrop),pt(t,"pointerup",this._onDrop),pt(t,"pointercancel",this._onDrop),pt(t,"touchcancel",this._onDrop),pt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(mi=Mn(Ee),ra=Mn(Ee,r.draggable),Qr("drop",this,{evt:t}),In=Ee&&Ee.parentNode,mi=Mn(Ee),ra=Mn(Ee,r.draggable),Ke.eventCanceled){this._nulling();return}Cc=!1,kf=!1,dh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),cb(this.cloneId),cb(this._dragStartId),this.nativeDraggable&&(pt(document,"drop",this),pt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ah&&_e(document.body,"user-select",""),_e(Ee,"transform",""),t&&(kd&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),rt&&rt.parentNode&&rt.parentNode.removeChild(rt),(vn===In||dr&&dr.lastPutMode!=="clone")&&wn&&wn.parentNode&&wn.parentNode.removeChild(wn),Ee&&(this.nativeDraggable&&pt(Ee,"dragend",this),Ny(Ee),Ee.style["will-change"]="",kd&&!Cc&&bn(Ee,dr?dr.options.ghostClass:this.options.ghostClass,!1),bn(Ee,this.options.chosenClass,!1),Lr({sortable:this,name:"unchoose",toEl:In,newIndex:null,newDraggableIndex:null,originalEvent:t}),vn!==In?(mi>=0&&(Lr({rootEl:In,name:"add",toEl:In,fromEl:vn,originalEvent:t}),Lr({sortable:this,name:"remove",toEl:In,originalEvent:t}),Lr({rootEl:In,name:"sort",toEl:In,fromEl:vn,originalEvent:t}),Lr({sortable:this,name:"sort",toEl:In,originalEvent:t})),dr&&dr.save()):mi!==Bc&&mi>=0&&(Lr({sortable:this,name:"update",toEl:In,originalEvent:t}),Lr({sortable:this,name:"sort",toEl:In,originalEvent:t})),Ke.active&&((mi==null||mi===-1)&&(mi=Bc,ra=ch),Lr({sortable:this,name:"end",toEl:In,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Qr("nulling",this),vn=Ee=In=rt=tl=wn=gg=aa=za=po=kd=mi=ra=Bc=ch=lc=uh=dr=Mf=Ke.dragged=Ke.ghost=Ke.clone=Ke.active=null,Dm.forEach(function(t){t.checked=!0}),Dm.length=My=ky=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ee&&(this._onDragOver(t),ase(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],Zr(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||pse(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];Zr(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Zr(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=Dp.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&y1(r)},destroy:function(){Qr("destroy",this);var t=this.el;t[fr]=null,pt(t,"mousedown",this._onTapStart),pt(t,"touchstart",this._onTapStart),pt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(pt(t,"dragover",this),pt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xm.splice(xm.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!aa){if(Qr("hideClone",this),Ke.eventCanceled)return;_e(wn,"display","none"),this.options.removeCloneOnHide&&wn.parentNode&&wn.parentNode.removeChild(wn),aa=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(aa){if(Qr("showClone",this),Ke.eventCanceled)return;Ee.parentNode==vn&&!this.options.group.revertClone?vn.insertBefore(wn,Ee):tl?vn.insertBefore(wn,tl):vn.appendChild(wn),this.options.group.revertClone&&this.animate(Ee,wn),_e(wn,"display",""),aa=!1}}};function ase(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Nf(e,t,n,r,i,o,s,a){var l,c=e[fr],u=c.options.onMove,d;return window.CustomEvent&&!$s&&!xp?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||dn(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),u&&(d=u.call(c,l,s)),d}function Ny(e){e.draggable=!1}function lse(){lb=!1}function cse(e,t,n){var r=dn(Ru(n.el,0,n.options,!0)),i=m1(n.el,n.options,rt),o=10;return t?e.clientX<i.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-o||e.clientY<r.bottom&&e.clientX<r.left}function use(e,t,n){var r=dn(kP(n.el,n.options.draggable)),i=m1(n.el,n.options,rt),o=10;return t?e.clientX>i.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+o||e.clientX>r.right&&e.clientY>r.top}function dse(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!s){if(a&&mg<c*i){if(!dh&&(uh===1?l>u+c*o/2:l<d-c*o/2)&&(dh=!0),dh)h=!0;else if(uh===1?l<u+mg:l>d-mg)return-uh}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return hse(t)}return h=h||s,h&&(l<u+c*o/2||l>d-c*o/2)?l>u+c/2?1:-1:0}function hse(e){return Mn(Ee)<Mn(e)?1:-1}function pse(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function fse(e){Dm.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Dm.push(r)}}function vg(e){return setTimeout(e,0)}function cb(e){return clearTimeout(e)}dC&&gt(document,"touchmove",function(e){(Ke.active||Cc)&&e.cancelable&&e.preventDefault()});Ke.utils={on:gt,off:pt,css:_e,find:p1,is:function(t,n){return!!Zr(t,n,t,!1)},extend:Xoe,throttle:f1,closest:Zr,toggleClass:bn,clone:LP,index:Mn,nextTick:vg,cancelNextTick:cb,detectDirection:C1,getChild:Ru,expando:fr};Ke.get=function(e){return e[fr]};Ke.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Ke.utils=ls(ls({},Ke.utils),r.utils)),Dp.mount(r)})};Ke.create=function(e,t){return new Ke(e,t)};Ke.version=Yoe;var $n=[],Ld,ub,db=!1,_y,By,Fm,Nd;function gse(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?gt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?gt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?gt(document,"touchmove",this._handleFallbackAutoScroll):gt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?pt(document,"dragover",this._handleAutoScroll):(pt(document,"pointermove",this._handleFallbackAutoScroll),pt(document,"touchmove",this._handleFallbackAutoScroll),pt(document,"mousemove",this._handleFallbackAutoScroll)),FD(),Cg(),Joe()},nulling:function(){Fm=ub=Ld=db=Nd=_y=By=null,$n.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(Fm=n,r||this.options.forceAutoScrollFallback||xp||$s||ah){Hy(n,this.options,a,r);var l=da(a,!0);db&&(!Nd||o!==_y||s!==By)&&(Nd&&FD(),Nd=setInterval(function(){var c=da(document.elementFromPoint(o,s),!0);c!==l&&(l=c,Cg()),Hy(n,i.options,c,r)},10),_y=o,By=s)}else{if(!this.options.bubbleScroll||da(a,!0)===rs()){Cg();return}Hy(n,this.options,da(a,!1),!1)}}},co(e,{pluginName:"scroll",initializeByDefault:!0})}function Cg(){$n.forEach(function(e){clearInterval(e.pid)}),$n=[]}function FD(){clearInterval(Nd)}var Hy=f1(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=rs(),c=!1,u;ub!==n&&(ub=n,Cg(),Ld=t.scroll,u=t.scrollFn,Ld===!0&&(Ld=da(n,!0)));var d=0,h=Ld;do{var p=h,f=dn(p),C=f.top,y=f.bottom,g=f.left,v=f.right,m=f.width,w=f.height,E=void 0,P=void 0,A=p.scrollWidth,R=p.scrollHeight,T=_e(p),b=p.scrollLeft,I=p.scrollTop;p===l?(E=m<A&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),P=w<R&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(E=m<A&&(T.overflowX==="auto"||T.overflowX==="scroll"),P=w<R&&(T.overflowY==="auto"||T.overflowY==="scroll"));var D=E&&(Math.abs(v-i)<=s&&b+m<A)-(Math.abs(g-i)<=s&&!!b),F=P&&(Math.abs(y-o)<=s&&I+w<R)-(Math.abs(C-o)<=s&&!!I);if(!$n[d])for(var O=0;O<=d;O++)$n[O]||($n[O]={});($n[d].vx!=D||$n[d].vy!=F||$n[d].el!==p)&&($n[d].el=p,$n[d].vx=D,$n[d].vy=F,clearInterval($n[d].pid),(D!=0||F!=0)&&(c=!0,$n[d].pid=setInterval((function(){r&&this.layer===0&&Ke.active._onTouchMove(Fm);var _=$n[this.layer].vy?$n[this.layer].vy*a:0,N=$n[this.layer].vx?$n[this.layer].vx*a:0;typeof u=="function"&&u.call(Ke.dragged.parentNode[fr],N,_,e,Fm,$n[this.layer].el)!=="continue"||g1($n[this.layer].el,N,_)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=da(h,!1)));db=c}},30),b1=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=r||o;a();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function NP(){}NP.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Ru(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:b1};co(NP,{pluginName:"revertOnSpill"});function _P(){}_P.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:b1};co(_P,{pluginName:"removeOnSpill"});var Gi;function mse(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;Gi=r},dragOverValid:function(n){var r=n.completed,i=n.target,o=n.onMove,s=n.activeSortable,a=n.changed,l=n.cancel;if(s.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var d=Gi;o(i)!==!1?(bn(i,u.swapClass,!0),Gi=i):Gi=null,d&&d!==Gi&&bn(d,u.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,o=n.dragEl,s=i||this.sortable,a=this.options;Gi&&bn(Gi,a.swapClass,!1),Gi&&(a.swap||i&&i.options.swap)&&o!==Gi&&(s.captureAnimationState(),s!==r&&r.captureAnimationState(),vse(o,Gi),s.animateAll(),s!==r&&r.animateAll())},nulling:function(){Gi=null}},co(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Gi}}})}function vse(e,t){var n=e.parentNode,r=t.parentNode,i,o;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(i=Mn(e),o=Mn(t),n.isEqualNode(r)&&i<o&&o++,n.insertBefore(t,n.children[i]),r.insertBefore(e,r.children[o]))}var nt=[],fi=[],gd,fo,md=!1,Xr=!1,cc=!1,sn,vd,_f;function Cse(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.avoidImplicitDeselect||(t.options.supportPointer?gt(document,"pointerup",this._deselectMultiDrag):(gt(document,"mouseup",this._deselectMultiDrag),gt(document,"touchend",this._deselectMultiDrag))),gt(document,"keydown",this._checkKeyDown),gt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(i,o){var s="";nt.length&&fo===t?nt.forEach(function(a,l){s+=(l?", ":"")+a.textContent}):s=o.textContent,i.setData("Text",s)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;sn=r},delayEnded:function(){this.isMultiDrag=~nt.indexOf(sn)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var o=0;o<nt.length;o++)fi.push(LP(nt[o])),fi[o].sortableIndex=nt[o].sortableIndex,fi[o].draggable=!1,fi[o].style["will-change"]="",bn(fi[o],this.options.selectedClass,!1),nt[o]===sn&&bn(fi[o],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,o=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||nt.length&&fo===r&&(OD(!0,i),o("clone"),s()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,o=n.cancel;this.isMultiDrag&&(OD(!1,i),fi.forEach(function(s){_e(s,"display","")}),r(),_f=!1,o())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(fi.forEach(function(s){_e(s,"display","none"),r.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),i(),_f=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&fo&&fo.multiDrag._deselectMultiDrag(),nt.forEach(function(r){r.sortableIndex=Mn(r)}),nt=nt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),cc=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){nt.forEach(function(s){s!==sn&&_e(s,"position","absolute")});var o=dn(sn,!1,!0,!0);nt.forEach(function(s){s!==sn&&AD(s,o)}),Xr=!0,md=!0}i.animateAll(function(){Xr=!1,md=!1,r.options.animation&&nt.forEach(function(s){Fy(s)}),r.options.sort&&Bf()})}},dragOver:function(n){var r=n.target,i=n.completed,o=n.cancel;Xr&&~nt.indexOf(r)&&(i(!1),o())},revert:function(n){var r=n.fromSortable,i=n.rootEl,o=n.sortable,s=n.dragRect;nt.length>1&&(nt.forEach(function(a){o.addAnimationState({target:a,rect:Xr?dn(a):s}),Fy(a),a.fromRect=s,r.removeAnimationState(a)}),Xr=!1,yse(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,o=n.insertion,s=n.activeSortable,a=n.parentEl,l=n.putSortable,c=this.options;if(o){if(i&&s._hideClone(),md=!1,c.animation&&nt.length>1&&(Xr||!i&&!s.options.sort&&!l)){var u=dn(sn,!1,!0,!0);nt.forEach(function(h){h!==sn&&(AD(h,u),a.appendChild(h))}),Xr=!0}if(!i)if(Xr||Bf(),nt.length>1){var d=_f;s._showClone(r),s.options.animation&&!_f&&d&&fi.forEach(function(h){s.addAnimationState({target:h,rect:vd}),h.fromRect=vd,h.thisAnimationDuration=null})}else s._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,o=n.activeSortable;if(nt.forEach(function(a){a.thisAnimationDuration=null}),o.options.animation&&!i&&o.multiDrag.isMultiDrag){vd=co({},r);var s=bl(sn,!0);vd.top-=s.f,vd.left-=s.e}},dragOverAnimationComplete:function(){Xr&&(Xr=!1,Bf())},drop:function(n){var r=n.originalEvent,i=n.rootEl,o=n.parentEl,s=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,u=c||this.sortable;if(r){var d=this.options,h=o.children;if(!cc)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),bn(sn,d.selectedClass,!~nt.indexOf(sn)),~nt.indexOf(sn))nt.splice(nt.indexOf(sn),1),gd=null,Md({sortable:s,rootEl:i,name:"deselect",targetEl:sn,originalEvent:r});else{if(nt.push(sn),Md({sortable:s,rootEl:i,name:"select",targetEl:sn,originalEvent:r}),r.shiftKey&&gd&&s.el.contains(gd)){var p=Mn(gd),f=Mn(sn);~p&&~f&&p!==f&&function(){var v,m;f>p?(m=p,v=f):(m=f,v=p+1);for(var w=d.filter;m<v;m++)if(!~nt.indexOf(h[m])&&Zr(h[m],d.draggable,o,!1)){var E=w&&(typeof w=="function"?w.call(s,r,h[m],s):w.split(",").some(function(P){return Zr(h[m],P.trim(),o,!1)}));E||(bn(h[m],d.selectedClass,!0),nt.push(h[m]),Md({sortable:s,rootEl:i,name:"select",targetEl:h[m],originalEvent:r}))}}()}else gd=sn;fo=u}if(cc&&this.isMultiDrag){if(Xr=!1,(o[fr].options.sort||o!==i)&&nt.length>1){var C=dn(sn),y=Mn(sn,":not(."+this.options.selectedClass+")");if(!md&&d.animation&&(sn.thisAnimationDuration=null),u.captureAnimationState(),!md&&(d.animation&&(sn.fromRect=C,nt.forEach(function(v){if(v.thisAnimationDuration=null,v!==sn){var m=Xr?dn(v):C;v.fromRect=m,u.addAnimationState({target:v,rect:m})}})),Bf(),nt.forEach(function(v){h[y]?o.insertBefore(v,h[y]):o.appendChild(v),y++}),l===Mn(sn))){var g=!1;nt.forEach(function(v){if(v.sortableIndex!==Mn(v)){g=!0;return}}),g&&(a("update"),a("sort"))}nt.forEach(function(v){Fy(v)}),u.animateAll()}fo=u}(i===o||c&&c.lastPutMode!=="clone")&&fi.forEach(function(v){v.parentNode&&v.parentNode.removeChild(v)})}},nullingGlobal:function(){this.isMultiDrag=cc=!1,fi.length=0},destroyGlobal:function(){this._deselectMultiDrag(),pt(document,"pointerup",this._deselectMultiDrag),pt(document,"mouseup",this._deselectMultiDrag),pt(document,"touchend",this._deselectMultiDrag),pt(document,"keydown",this._checkKeyDown),pt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof cc<"u"&&cc)&&fo===this.sortable&&!(n&&Zr(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;nt.length;){var r=nt[0];bn(r,this.options.selectedClass,!1),nt.shift(),Md({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},co(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[fr];!r||!r.options.multiDrag||~nt.indexOf(n)||(fo&&fo!==r&&(fo.multiDrag._deselectMultiDrag(),fo=r),bn(n,r.options.selectedClass,!0),nt.push(n))},deselect:function(n){var r=n.parentNode[fr],i=nt.indexOf(n);!r||!r.options.multiDrag||!~i||(bn(n,r.options.selectedClass,!1),nt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return nt.forEach(function(o){r.push({multiDragElement:o,index:o.sortableIndex});var s;Xr&&o!==sn?s=-1:Xr?s=Mn(o,":not(."+n.options.selectedClass+")"):s=Mn(o),i.push({multiDragElement:o,index:s})}),{items:zoe(nt),clones:[].concat(fi),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function yse(e,t){nt.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function OD(e,t){fi.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function Bf(){nt.forEach(function(e){e!==sn&&e.parentNode&&e.parentNode.removeChild(e)})}Ke.mount(new gse);Ke.mount(_P,NP);const Sse=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Cse,Sortable:Ke,Swap:mse,default:Ke},Symbol.toStringTag,{value:"Module"})),wse=VB(Sse);Object.defineProperty(uC,"__esModule",{value:!0});uC.default=void 0;var uc=R1(pp),MD=Rse(S),bse=R1(wse);function Rse(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}return t.default=e,t}function R1(e){return e&&e.__esModule?e:{default:e}}function hb(){return hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(this,arguments)}function Ese(e,t){if(e==null)return{};var n=Pse(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pse(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hh=function(n){return typeof n}:hh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hh(e)}function Tse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){hC(e,i,n[i])})}return e}function Ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ise(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xse(e,t,n){return t&&Ise(e.prototype,t),e}function Dse(e,t){return t&&(hh(t)==="object"||typeof t=="function")?t:E1(e)}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(e)}function E1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fb(e,t)}function hC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dc={nextSibling:null,activeComponent:null},BP=function(e){Fse(t,e);function t(){var n,r;Ase(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=Dse(this,(n=pb(t)).call.apply(n,[this].concat(o))),hC(E1(r),"sortable",null),r}return xse(t,[{key:"componentDidMount",value:function(){var r=this,i=Tse({},this.props.options);["onChoose","onStart","onEnd","onAdd","onUpdate","onSort","onRemove","onFilter","onMove","onClone"].forEach(function(o){var s=i[o];i[o]=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=l[0];if(o==="onChoose")dc.nextSibling=u.item.nextElementSibling,dc.activeComponent=r;else if((o==="onAdd"||o==="onUpdate")&&r.props.onChange){var d=r.sortable.toArray(),h=dc.activeComponent,p=h.sortable.toArray(),f=dc.nextSibling&&dc.nextSibling.parentNode!==null?dc.nextSibling:null;if(u.from.insertBefore(u.item,f),h!==r){var C=h.props.options||{};hh(C.group)==="object"&&C.group.pull==="clone"&&u.item.parentNode.removeChild(u.item),h.props.onChange&&h.props.onChange(p,h.sortable,u)}r.props.onChange&&r.props.onChange(d,r.sortable,u)}if(u.type==="move"){var y=l[0],g=l[1],v=s?s(y,g):!0;return v}setTimeout(function(){s&&s(u)},0)}}),this.sortable=bse.default.create(this.node,i)}},{key:"shouldComponentUpdate",value:function(r){return!!r.onChange}},{key:"componentWillUnmount",value:function(){this.sortable&&(this.sortable.destroy(),this.sortable=null)}},{key:"render",value:function(){var r=this,i=this.props,o=i.tag;i.options,i.onChange;var s=Ese(i,["tag","options","onChange"]);return MD.default.createElement(o,hb({},s,{ref:function(l){r.node=l}}))}}]),t}(MD.Component);hC(BP,"propTypes",{options:uc.default.object,onChange:uc.default.func,tag:uc.default.oneOfType([uc.default.string,uc.default.func]),style:uc.default.object});hC(BP,"defaultProps",{options:{},tag:"div",style:{}});var Ose=BP;uC.default=Ose;var Mse=uC.default,kse=Mse,P1={exports:{}};(function(e,t){(function(n,r){e.exports=r(Vl,S)})(w0,function(n,r){n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;function i(k,B){return B={exports:{}},k(B,B.exports),B.exports}function o(k){return function(){return k}}var s=function(){};s.thatReturns=o,s.thatReturnsFalse=o(!1),s.thatReturnsTrue=o(!0),s.thatReturnsNull=o(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(k){return k};var a=s,l=function(B){};l=function(B){if(B===void 0)throw new Error("invariant requires an error message argument")};function c(k,B,V,Y,q,Pe,Be,Ne){if(l(B),!k){var Qe;if(B===void 0)Qe=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var He=[V,Y,q,Pe,Be,Ne],It=0;Qe=new Error(B.replace(/%s/g,function(){return He[It++]})),Qe.name="Invariant Violation"}throw Qe.framesToPop=1,Qe}}var u=c,d=a;{var h=function(B){for(var V=arguments.length,Y=Array(V>1?V-1:0),q=1;q<V;q++)Y[q-1]=arguments[q];var Pe=0,Be="Warning: "+B.replace(/%s/g,function(){return Y[Pe++]});typeof console<"u"&&console.error(Be);try{throw new Error(Be)}catch{}};d=function(B,V){if(V===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(V.indexOf("Failed Composite propType: ")!==0&&!B){for(var Y=arguments.length,q=Array(Y>2?Y-2:0),Pe=2;Pe<Y;Pe++)q[Pe-2]=arguments[Pe];h.apply(void 0,[V].concat(q))}}}var p=d;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var f=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function g(k){if(k==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(k)}function v(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var B={},V=0;V<10;V++)B["_"+String.fromCharCode(V)]=V;var Y=Object.getOwnPropertyNames(B).map(function(Pe){return B[Pe]});if(Y.join("")!=="0123456789")return!1;var q={};return"abcdefghijklmnopqrst".split("").forEach(function(Pe){q[Pe]=Pe}),Object.keys(Object.assign({},q)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var m=v()?Object.assign:function(k,B){for(var V,Y=g(k),q,Pe=1;Pe<arguments.length;Pe++){V=Object(arguments[Pe]);for(var Be in V)C.call(V,Be)&&(Y[Be]=V[Be]);if(f){q=f(V);for(var Ne=0;Ne<q.length;Ne++)y.call(V,q[Ne])&&(Y[q[Ne]]=V[q[Ne]])}}return Y},w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E=w,P=u,A=p,R=E,T={};function b(k,B,V,Y,q){for(var Pe in k)if(k.hasOwnProperty(Pe)){var Be;try{P(typeof k[Pe]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",Y||"React class",V,Pe,typeof k[Pe]),Be=k[Pe](B,Pe,Y,V,null,R)}catch(Qe){Be=Qe}if(A(!Be||Be instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Y||"React class",V,Pe,typeof Be),Be instanceof Error&&!(Be.message in T)){T[Be.message]=!0;var Ne=q?q():"";A(!1,"Failed %s type: %s%s",V,Be.message,Ne??"")}}}var I=b,D=function(k,B){var V=typeof Symbol=="function"&&Symbol.iterator,Y="@@iterator";function q(Re){var Ve=Re&&(V&&Re[V]||Re[Y]);if(typeof Ve=="function")return Ve}var Pe="<<anonymous>>",Be={array:It("array"),bool:It("boolean"),func:It("function"),number:It("number"),object:It("object"),string:It("string"),symbol:It("symbol"),any:rn(),arrayOf:Lt,element:wt(),instanceOf:Ht,node:et(),objectOf:J,oneOf:ie,oneOfType:Te,shape:tt,exact:ln};function Ne(Re,Ve){return Re===Ve?Re!==0||1/Re===1/Ve:Re!==Re&&Ve!==Ve}function Qe(Re){this.message=Re,this.stack=""}Qe.prototype=Error.prototype;function He(Re){var Ve={},Ot=0;function xt(bt,mt,Ct,Nt,on,gn,Ua){if(Nt=Nt||Pe,gn=gn||Ct,Ua!==E){if(B)u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof console<"u"){var qu=Nt+":"+Ct;!Ve[qu]&&Ot<3&&(p(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",gn,Nt),Ve[qu]=!0,Ot++)}}return mt[Ct]==null?bt?mt[Ct]===null?new Qe("The "+on+" `"+gn+"` is marked as required "+("in `"+Nt+"`, but its value is `null`.")):new Qe("The "+on+" `"+gn+"` is marked as required in "+("`"+Nt+"`, but its value is `undefined`.")):null:Re(mt,Ct,Nt,on,gn)}var xe=xt.bind(null,!1);return xe.isRequired=xt.bind(null,!0),xe}function It(Re){function Ve(Ot,xt,xe,bt,mt,Ct){var Nt=Ot[xt],on=Hi(Nt);if(on!==Re){var gn=bC(Nt);return new Qe("Invalid "+bt+" `"+mt+"` of type "+("`"+gn+"` supplied to `"+xe+"`, expected ")+("`"+Re+"`."))}return null}return He(Ve)}function rn(){return He(a.thatReturnsNull)}function Lt(Re){function Ve(Ot,xt,xe,bt,mt){if(typeof Re!="function")return new Qe("Property `"+mt+"` of component `"+xe+"` has invalid PropType notation inside arrayOf.");var Ct=Ot[xt];if(!Array.isArray(Ct)){var Nt=Hi(Ct);return new Qe("Invalid "+bt+" `"+mt+"` of type "+("`"+Nt+"` supplied to `"+xe+"`, expected an array."))}for(var on=0;on<Ct.length;on++){var gn=Re(Ct,on,xe,bt,mt+"["+on+"]",E);if(gn instanceof Error)return gn}return null}return He(Ve)}function wt(){function Re(Ve,Ot,xt,xe,bt){var mt=Ve[Ot];if(!k(mt)){var Ct=Hi(mt);return new Qe("Invalid "+xe+" `"+bt+"` of type "+("`"+Ct+"` supplied to `"+xt+"`, expected a single ReactElement."))}return null}return He(Re)}function Ht(Re){function Ve(Ot,xt,xe,bt,mt){if(!(Ot[xt]instanceof Re)){var Ct=Re.name||Pe,Nt=Wp(Ot[xt]);return new Qe("Invalid "+bt+" `"+mt+"` of type "+("`"+Nt+"` supplied to `"+xe+"`, expected ")+("instance of `"+Ct+"`."))}return null}return He(Ve)}function ie(Re){if(!Array.isArray(Re))return p(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull;function Ve(Ot,xt,xe,bt,mt){for(var Ct=Ot[xt],Nt=0;Nt<Re.length;Nt++)if(Ne(Ct,Re[Nt]))return null;var on=JSON.stringify(Re);return new Qe("Invalid "+bt+" `"+mt+"` of value `"+Ct+"` "+("supplied to `"+xe+"`, expected one of "+on+"."))}return He(Ve)}function J(Re){function Ve(Ot,xt,xe,bt,mt){if(typeof Re!="function")return new Qe("Property `"+mt+"` of component `"+xe+"` has invalid PropType notation inside objectOf.");var Ct=Ot[xt],Nt=Hi(Ct);if(Nt!=="object")return new Qe("Invalid "+bt+" `"+mt+"` of type "+("`"+Nt+"` supplied to `"+xe+"`, expected an object."));for(var on in Ct)if(Ct.hasOwnProperty(on)){var gn=Re(Ct,on,xe,bt,mt+"."+on,E);if(gn instanceof Error)return gn}return null}return He(Ve)}function Te(Re){if(!Array.isArray(Re))return p(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull;for(var Ve=0;Ve<Re.length;Ve++){var Ot=Re[Ve];if(typeof Ot!="function")return p(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",RC(Ot),Ve),a.thatReturnsNull}function xt(xe,bt,mt,Ct,Nt){for(var on=0;on<Re.length;on++){var gn=Re[on];if(gn(xe,bt,mt,Ct,Nt,E)==null)return null}return new Qe("Invalid "+Ct+" `"+Nt+"` supplied to "+("`"+mt+"`."))}return He(xt)}function et(){function Re(Ve,Ot,xt,xe,bt){return Dt(Ve[Ot])?null:new Qe("Invalid "+xe+" `"+bt+"` supplied to "+("`"+xt+"`, expected a ReactNode."))}return He(Re)}function tt(Re){function Ve(Ot,xt,xe,bt,mt){var Ct=Ot[xt],Nt=Hi(Ct);if(Nt!=="object")return new Qe("Invalid "+bt+" `"+mt+"` of type `"+Nt+"` "+("supplied to `"+xe+"`, expected `object`."));for(var on in Re){var gn=Re[on];if(gn){var Ua=gn(Ct,on,xe,bt,mt+"."+on,E);if(Ua)return Ua}}return null}return He(Ve)}function ln(Re){function Ve(Ot,xt,xe,bt,mt){var Ct=Ot[xt],Nt=Hi(Ct);if(Nt!=="object")return new Qe("Invalid "+bt+" `"+mt+"` of type `"+Nt+"` "+("supplied to `"+xe+"`, expected `object`."));var on=m({},Ot[xt],Re);for(var gn in on){var Ua=Re[gn];if(!Ua)return new Qe("Invalid "+bt+" `"+mt+"` key `"+gn+"` supplied to `"+xe+"`.\nBad object: "+JSON.stringify(Ot[xt],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Re),null,"  "));var qu=Ua(Ct,gn,xe,bt,mt+"."+gn,E);if(qu)return qu}return null}return He(Ve)}function Dt(Re){switch(typeof Re){case"number":case"string":case"undefined":return!0;case"boolean":return!Re;case"object":if(Array.isArray(Re))return Re.every(Dt);if(Re===null||k(Re))return!0;var Ve=q(Re);if(Ve){var Ot=Ve.call(Re),xt;if(Ve!==Re.entries){for(;!(xt=Ot.next()).done;)if(!Dt(xt.value))return!1}else for(;!(xt=Ot.next()).done;){var xe=xt.value;if(xe&&!Dt(xe[1]))return!1}}else return!1;return!0;default:return!1}}function pi(Re,Ve){return Re==="symbol"||Ve["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Ve instanceof Symbol}function Hi(Re){var Ve=typeof Re;return Array.isArray(Re)?"array":Re instanceof RegExp?"object":pi(Ve,Re)?"symbol":Ve}function bC(Re){if(typeof Re>"u"||Re===null)return""+Re;var Ve=Hi(Re);if(Ve==="object"){if(Re instanceof Date)return"date";if(Re instanceof RegExp)return"regexp"}return Ve}function RC(Re){var Ve=bC(Re);switch(Ve){case"array":case"object":return"an "+Ve;case"boolean":case"date":case"regexp":return"a "+Ve;default:return Ve}}function Wp(Re){return!Re.constructor||!Re.constructor.name?Pe:Re.constructor.name}return Be.checkPropTypes=I,Be.PropTypes=Be,Be},F=i(function(k){{var B=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,V=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===B},Y=!0;k.exports=D(V,Y)}}),O=i(function(k){/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var B={}.hasOwnProperty;function V(){for(var Y=[],q=0;q<arguments.length;q++){var Pe=arguments[q];if(Pe){var Be=typeof Pe;if(Be==="string"||Be==="number")Y.push(Pe);else if(Array.isArray(Pe))Y.push(V.apply(null,Pe));else if(Be==="object")for(var Ne in Pe)B.call(Pe,Ne)&&Pe[Ne]&&Y.push(Ne)}}return Y.join(" ")}k.exports?k.exports=V:window.classNames=V})()});function _(k,B){for(var V=0,Y=k.length;V<Y;V++)if(B.apply(B,[k[V],V,k]))return k[V]}function N(k){return typeof k=="function"||Object.prototype.toString.call(k)==="[object Function]"}function H(k){return typeof k=="number"&&!isNaN(k)}function L(k){return parseInt(k,10)}function M(k,B,V){if(k[B])return new Error("Invalid prop "+B+" passed to "+V+" - do not set this, set it on the child.")}var ne=["Moz","Webkit","O","ms"];function oe(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var B=window.document.documentElement.style;if(k in B)return"";for(var V=0;V<ne.length;V++)if(G(k,ne[V])in B)return ne[V];return""}function G(k,B){return B?""+B+re(k):k}function re(k){for(var B="",V=!0,Y=0;Y<k.length;Y++)V?(B+=k[Y].toUpperCase(),V=!1):k[Y]==="-"?V=!0:B+=k[Y];return B}var z=oe(),K=function(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")},Q=function(){function k(B,V){for(var Y=0;Y<V.length;Y++){var q=V[Y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(B,q.key,q)}}return function(B,V,Y){return V&&k(B.prototype,V),Y&&k(B,Y),B}}(),de=function(k,B,V){return B in k?Object.defineProperty(k,B,{value:V,enumerable:!0,configurable:!0,writable:!0}):k[B]=V,k},ue=Object.assign||function(k){for(var B=1;B<arguments.length;B++){var V=arguments[B];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(k[Y]=V[Y])}return k},X=function(k,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);k.prototype=Object.create(B&&B.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(k,B):k.__proto__=B)},se=function(k,B){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:k},me=function(){function k(B,V){var Y=[],q=!0,Pe=!1,Be=void 0;try{for(var Ne=B[Symbol.iterator](),Qe;!(q=(Qe=Ne.next()).done)&&(Y.push(Qe.value),!(V&&Y.length===V));q=!0);}catch(He){Pe=!0,Be=He}finally{try{!q&&Ne.return&&Ne.return()}finally{if(Pe)throw Be}}return Y}return function(B,V){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return k(B,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),le="";function ve(k,B){return le||(le=_(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(V){return N(k[V])})),N(k[le])?k[le](B):!1}function Ce(k,B,V){var Y=k;do{if(ve(Y,B))return!0;if(Y===V)return!1;Y=Y.parentNode}while(Y);return!1}function he(k,B,V){k&&(k.attachEvent?k.attachEvent("on"+B,V):k.addEventListener?k.addEventListener(B,V,!0):k["on"+B]=V)}function ae(k,B,V){k&&(k.detachEvent?k.detachEvent("on"+B,V):k.removeEventListener?k.removeEventListener(B,V,!0):k["on"+B]=null)}function Xe(k){var B=k.clientHeight,V=k.ownerDocument.defaultView.getComputedStyle(k);return B+=L(V.borderTopWidth),B+=L(V.borderBottomWidth),B}function Ae(k){var B=k.clientWidth,V=k.ownerDocument.defaultView.getComputedStyle(k);return B+=L(V.borderLeftWidth),B+=L(V.borderRightWidth),B}function Ye(k){var B=k.clientHeight,V=k.ownerDocument.defaultView.getComputedStyle(k);return B-=L(V.paddingTop),B-=L(V.paddingBottom),B}function Le(k){var B=k.clientWidth,V=k.ownerDocument.defaultView.getComputedStyle(k);return B-=L(V.paddingLeft),B-=L(V.paddingRight),B}function $e(k,B){var V=B===B.ownerDocument.body,Y=V?{left:0,top:0}:B.getBoundingClientRect(),q=k.clientX+B.scrollLeft-Y.left,Pe=k.clientY+B.scrollTop-Y.top;return{x:q,y:Pe}}function ge(k,B){var V=At(k,B,"px");return de({},G("transform",z),V)}function Je(k,B){var V=At(k,B,"");return V}function At(k,B,V){var Y=k.x,q=k.y,Pe="translate("+Y+V+","+q+V+")";if(B){var Be=""+(typeof B.x=="string"?B.x:B.x+V),Ne=""+(typeof B.y=="string"?B.y:B.y+V);Pe="translate("+Be+", "+Ne+")"+Pe}return Pe}function Ze(k,B){return k.targetTouches&&_(k.targetTouches,function(V){return B===V.identifier})||k.changedTouches&&_(k.changedTouches,function(V){return B===V.identifier})}function ot(k){if(k.targetTouches&&k.targetTouches[0])return k.targetTouches[0].identifier;if(k.changedTouches&&k.changedTouches[0])return k.changedTouches[0].identifier}function dt(k){if(k){var B=k.getElementById("react-draggable-style-el");B||(B=k.createElement("style"),B.type="text/css",B.id="react-draggable-style-el",B.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,B.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,k.getElementsByTagName("head")[0].appendChild(B)),k.body&&Wt(k.body,"react-draggable-transparent-selection")}}function yt(k){try{k&&k.body&&ht(k.body,"react-draggable-transparent-selection"),k.selection?k.selection.empty():window.getSelection().removeAllRanges()}catch{}}function lt(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ue({touchAction:"none"},k)}function Wt(k,B){k.classList?k.classList.add(B):k.className.match(new RegExp("(?:^|\\s)"+B+"(?!\\S)"))||(k.className+=" "+B)}function ht(k,B){k.classList?k.classList.remove(B):k.className=k.className.replace(new RegExp("(?:^|\\s)"+B+"(?!\\S)","g"),"")}function jt(k,B,V){if(!k.props.bounds)return[B,V];var Y=k.props.bounds;Y=typeof Y=="string"?Y:Kr(Y);var q=di(k);if(typeof Y=="string"){var Pe=q.ownerDocument,Be=Pe.defaultView,Ne=void 0;if(Y==="parent"?Ne=q.parentNode:Ne=Pe.querySelector(Y),!(Ne instanceof Be.HTMLElement))throw new Error('Bounds selector "'+Y+'" could not find an element.');var Qe=Be.getComputedStyle(q),He=Be.getComputedStyle(Ne);Y={left:-q.offsetLeft+L(He.paddingLeft)+L(Qe.marginLeft),top:-q.offsetTop+L(He.paddingTop)+L(Qe.marginTop),right:Le(Ne)-Ae(q)-q.offsetLeft+L(He.paddingRight)-L(Qe.marginRight),bottom:Ye(Ne)-Xe(q)-q.offsetTop+L(He.paddingBottom)-L(Qe.marginBottom)}}return H(Y.right)&&(B=Math.min(B,Y.right)),H(Y.bottom)&&(V=Math.min(V,Y.bottom)),H(Y.left)&&(B=Math.max(B,Y.left)),H(Y.top)&&(V=Math.max(V,Y.top)),[B,V]}function lr(k,B,V){var Y=Math.round(B/k[0])*k[0],q=Math.round(V/k[1])*k[1];return[Y,q]}function qt(k){return k.props.axis==="both"||k.props.axis==="x"}function Fe(k){return k.props.axis==="both"||k.props.axis==="y"}function St(k,B,V){var Y=typeof B=="number"?Ze(k,B):null;if(typeof B=="number"&&!Y)return null;var q=di(V),Pe=V.props.offsetParent||q.offsetParent||q.ownerDocument.body;return $e(Y||k,Pe)}function Yt(k,B,V){var Y=k.state,q=!H(Y.lastX),Pe=di(k);return q?{node:Pe,deltaX:0,deltaY:0,lastX:B,lastY:V,x:B,y:V}:{node:Pe,deltaX:B-Y.lastX,deltaY:V-Y.lastY,lastX:Y.lastX,lastY:Y.lastY,x:B,y:V}}function jr(k,B){var V=k.props.scale;return{node:B.node,x:k.state.x+B.deltaX/V,y:k.state.y+B.deltaY/V,deltaX:B.deltaX/V,deltaY:B.deltaY/V,lastX:k.state.x,lastY:k.state.y}}function Kr(k){return{left:k.left,top:k.top,right:k.right,bottom:k.bottom}}function di(k){var B=n.findDOMNode(k);if(!B)throw new Error("<DraggableCore>: Unmounted during event!");return B}function hs(){}var yr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Sr=yr.mouse,qr=function(k){X(B,k);function B(){var V,Y,q,Pe;K(this,B);for(var Be=arguments.length,Ne=Array(Be),Qe=0;Qe<Be;Qe++)Ne[Qe]=arguments[Qe];return Pe=(Y=(q=se(this,(V=B.__proto__||Object.getPrototypeOf(B)).call.apply(V,[this].concat(Ne))),q),q.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},q.handleDragStart=function(He){if(q.props.onMouseDown(He),!q.props.allowAnyClick&&typeof He.button=="number"&&He.button!==0)return!1;var It=n.findDOMNode(q);if(!It||!It.ownerDocument||!It.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var rn=It.ownerDocument;if(!(q.props.disabled||!(He.target instanceof rn.defaultView.Node)||q.props.handle&&!Ce(He.target,q.props.handle,It)||q.props.cancel&&Ce(He.target,q.props.cancel,It))){var Lt=ot(He);q.setState({touchIdentifier:Lt});var wt=St(He,Lt,q);if(wt!=null){var Ht=wt.x,ie=wt.y,J=Yt(q,Ht,ie);q.props.onStart;var Te=q.props.onStart(He,J);Te!==!1&&(q.props.enableUserSelectHack&&dt(rn),q.setState({dragging:!0,lastX:Ht,lastY:ie}),he(rn,Sr.move,q.handleDrag),he(rn,Sr.stop,q.handleDragStop))}}},q.handleDrag=function(He){He.type==="touchmove"&&He.preventDefault();var It=St(He,q.state.touchIdentifier,q);if(It!=null){var rn=It.x,Lt=It.y;if(Array.isArray(q.props.grid)){var wt=rn-q.state.lastX,Ht=Lt-q.state.lastY,ie=lr(q.props.grid,wt,Ht),J=me(ie,2);if(wt=J[0],Ht=J[1],!wt&&!Ht)return;rn=q.state.lastX+wt,Lt=q.state.lastY+Ht}var Te=Yt(q,rn,Lt),et=q.props.onDrag(He,Te);if(et===!1){try{q.handleDragStop(new MouseEvent("mouseup"))}catch{var tt=document.createEvent("MouseEvents");tt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),q.handleDragStop(tt)}return}q.setState({lastX:rn,lastY:Lt})}},q.handleDragStop=function(He){if(q.state.dragging){var It=St(He,q.state.touchIdentifier,q);if(It!=null){var rn=It.x,Lt=It.y,wt=Yt(q,rn,Lt),Ht=n.findDOMNode(q);Ht&&q.props.enableUserSelectHack&&yt(Ht.ownerDocument),q.setState({dragging:!1,lastX:NaN,lastY:NaN}),q.props.onStop(He,wt),Ht&&(ae(Ht.ownerDocument,Sr.move,q.handleDrag),ae(Ht.ownerDocument,Sr.stop,q.handleDragStop))}}},q.onMouseDown=function(He){return Sr=yr.mouse,q.handleDragStart(He)},q.onMouseUp=function(He){return Sr=yr.mouse,q.handleDragStop(He)},q.onTouchStart=function(He){return Sr=yr.touch,q.handleDragStart(He)},q.onTouchEnd=function(He){return Sr=yr.touch,q.handleDragStop(He)},Y),se(q,Pe)}return Q(B,[{key:"componentWillUnmount",value:function(){var Y=n.findDOMNode(this);if(Y){var q=Y.ownerDocument;ae(q,yr.mouse.move,this.handleDrag),ae(q,yr.touch.move,this.handleDrag),ae(q,yr.mouse.stop,this.handleDragStop),ae(q,yr.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&yt(q)}}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{style:lt(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),B}(r.Component);qr.displayName="DraggableCore",qr.propTypes={allowAnyClick:F.bool,disabled:F.bool,enableUserSelectHack:F.bool,offsetParent:function(B,V){if(B[V]&&B[V].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:F.arrayOf(F.number),scale:F.number,handle:F.string,cancel:F.string,onStart:F.func,onDrag:F.func,onStop:F.func,onMouseDown:F.func,className:M,style:M,transform:M},qr.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var hi=function(k){X(B,k);function B(V){K(this,B);var Y=se(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,V));return Y.onDragStart=function(q,Pe){var Be=Y.props.onStart(q,jr(Y,Pe));if(Be===!1)return!1;Y.setState({dragging:!0,dragged:!0})},Y.onDrag=function(q,Pe){if(!Y.state.dragging)return!1;var Be=jr(Y,Pe),Ne={x:Be.x,y:Be.y};if(Y.props.bounds){var Qe=Ne.x,He=Ne.y;Ne.x+=Y.state.slackX,Ne.y+=Y.state.slackY;var It=jt(Y,Ne.x,Ne.y),rn=me(It,2),Lt=rn[0],wt=rn[1];Ne.x=Lt,Ne.y=wt,Ne.slackX=Y.state.slackX+(Qe-Ne.x),Ne.slackY=Y.state.slackY+(He-Ne.y),Be.x=Ne.x,Be.y=Ne.y,Be.deltaX=Ne.x-Y.state.x,Be.deltaY=Ne.y-Y.state.y}var Ht=Y.props.onDrag(q,Be);if(Ht===!1)return!1;Y.setState(Ne)},Y.onDragStop=function(q,Pe){if(!Y.state.dragging)return!1;var Be=Y.props.onStop(q,jr(Y,Pe));if(Be===!1)return!1;var Ne={dragging:!1,slackX:0,slackY:0},Qe=!!Y.props.position;if(Qe){var He=Y.props.position,It=He.x,rn=He.y;Ne.x=It,Ne.y=rn}Y.setState(Ne)},Y.state={dragging:!1,dragged:!1,x:V.position?V.position.x:V.defaultPosition.x,y:V.position?V.position.y:V.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},V.position&&!(V.onDrag||V.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Y}return Q(B,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&n.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(Y){Y.position&&(!this.props.position||Y.position.x!==this.props.position.x||Y.position.y!==this.props.position.y)&&this.setState({x:Y.position.x,y:Y.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var Y,q={},Pe=null,Be=!!this.props.position,Ne=!Be||this.state.dragging,Qe=this.props.position||this.props.defaultPosition,He={x:qt(this)&&Ne?this.state.x:Qe.x,y:Fe(this)&&Ne?this.state.y:Qe.y};this.state.isElementSVG?Pe=Je(He,this.props.positionOffset):q=ge(He,this.props.positionOffset);var It=this.props,rn=It.defaultClassName,Lt=It.defaultClassNameDragging,wt=It.defaultClassNameDragged,Ht=r.Children.only(this.props.children),ie=O(Ht.props.className||"",rn,(Y={},de(Y,Lt,this.state.dragging),de(Y,wt,this.state.dragged),Y));return r.createElement(qr,ue({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(Ht,{className:ie,style:ue({},Ht.props.style,q),transform:Pe}))}}]),B}(r.Component);return hi.displayName="Draggable",hi.propTypes=ue({},qr.propTypes,{axis:F.oneOf(["both","x","y","none"]),bounds:F.oneOfType([F.shape({left:F.number,right:F.number,top:F.number,bottom:F.number}),F.string,F.oneOf([!1])]),defaultClassName:F.string,defaultClassNameDragging:F.string,defaultClassNameDragged:F.string,defaultPosition:F.shape({x:F.number,y:F.number}),positionOffset:F.shape({x:F.oneOfType([F.number,F.string]),y:F.oneOfType([F.number,F.string])}),position:F.shape({x:F.number,y:F.number}),className:M,style:M,transform:M}),hi.defaultProps=ue({},qr.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),hi.default=hi,hi.DraggableCore=qr,hi})})(P1);var Lse=P1.exports;Object.defineProperty(bu,"__esModule",{value:!0});bu.Dropdown=bu.DraggableAttribute=void 0;var HP=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nse=S,je=zu(Nse),_se=pp,jn=zu(_se),Bse=Hoe,Gy=zu(Bse),Vy=On,Hse=Goe,GP=zu(Hse),Gse=kse,Vse=zu(Gse),Wse=Lse,Use=zu(Wse);function zu(e){return e&&e.__esModule?e:{default:e}}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function UP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zP=bu.DraggableAttribute=function(e){UP(t,e);function t(n){VP(this,t);var r=WP(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.state={open:!1,filterText:""},r}return HP(t,[{key:"toggleValue",value:function(r){r in this.props.valueFilter?this.props.removeValuesFromFilter(this.props.name,[r]):this.props.addValuesToFilter(this.props.name,[r])}},{key:"matchesFilter",value:function(r){return r.toLowerCase().trim().includes(this.state.filterText.toLowerCase().trim())}},{key:"selectOnly",value:function(r,i){r.stopPropagation(),this.props.setValuesInFilter(this.props.name,Object.keys(this.props.attrValues).filter(function(o){return o!==i}))}},{key:"getFilterBox",value:function(){var r=this,i=Object.keys(this.props.attrValues).length<this.props.menuLimit,o=Object.keys(this.props.attrValues),s=o.filter(this.matchesFilter.bind(this)).sort(this.props.sorter);return je.default.createElement(Use.default,{handle:".pvtDragHandle"},je.default.createElement("div",{className:"pvtFilterBox",style:{display:"block",cursor:"initial",zIndex:this.props.zIndex},onClick:function(){return r.props.moveFilterBoxToTop(r.props.name)}},je.default.createElement("a",{onClick:function(){return r.setState({open:!1})},className:"pvtCloseX"},""),je.default.createElement("span",{className:"pvtDragHandle"},""),je.default.createElement("h4",null,this.props.name),i||je.default.createElement("p",null,"(too many values to show)"),i&&je.default.createElement("p",null,je.default.createElement("input",{type:"text",placeholder:"Filter values",className:"pvtSearch",value:this.state.filterText,onChange:function(l){return r.setState({filterText:l.target.value})}}),je.default.createElement("br",null),je.default.createElement("a",{role:"button",className:"pvtButton",onClick:function(){return r.props.removeValuesFromFilter(r.props.name,Object.keys(r.props.attrValues).filter(r.matchesFilter.bind(r)))}},"Select ",o.length===s.length?"All":s.length)," ",je.default.createElement("a",{role:"button",className:"pvtButton",onClick:function(){return r.props.addValuesToFilter(r.props.name,Object.keys(r.props.attrValues).filter(r.matchesFilter.bind(r)))}},"Deselect ",o.length===s.length?"All":s.length)),i&&je.default.createElement("div",{className:"pvtCheckContainer"},s.map(function(a){return je.default.createElement("p",{key:a,onClick:function(){return r.toggleValue(a)},className:a in r.props.valueFilter?"":"selected"},je.default.createElement("a",{className:"pvtOnly",onClick:function(c){return r.selectOnly(c,a)}},"only"),je.default.createElement("a",{className:"pvtOnlySpacer"},""),a===""?je.default.createElement("em",null,"null"):a)}))))}},{key:"toggleFilterBox",value:function(){this.setState({open:!this.state.open}),this.props.moveFilterBoxToTop(this.props.name)}},{key:"render",value:function(){var r=Object.keys(this.props.valueFilter).length!==0?"pvtFilteredAttribute":"";return je.default.createElement("li",{"data-id":this.props.name},je.default.createElement("span",{className:"pvtAttr "+r},this.props.name,je.default.createElement("span",{className:"pvtTriangle",onClick:this.toggleFilterBox.bind(this)}," ","")),this.state.open?this.getFilterBox():null)}}]),t}(je.default.Component);zP.defaultProps={valueFilter:{}};zP.propTypes={name:jn.default.string.isRequired,addValuesToFilter:jn.default.func.isRequired,removeValuesFromFilter:jn.default.func.isRequired,attrValues:jn.default.objectOf(jn.default.number).isRequired,valueFilter:jn.default.objectOf(jn.default.bool),moveFilterBoxToTop:jn.default.func.isRequired,sorter:jn.default.func.isRequired,menuLimit:jn.default.number,zIndex:jn.default.number};var Wy=bu.Dropdown=function(e){UP(t,e);function t(){return VP(this,t),WP(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return HP(t,[{key:"render",value:function(){var r=this;return je.default.createElement("div",{className:"pvtDropdown",style:{zIndex:this.props.zIndex}},je.default.createElement("div",{onClick:function(o){o.stopPropagation(),r.props.toggle()},className:"pvtDropdownValue pvtDropdownCurrent "+(this.props.open?"pvtDropdownCurrentOpen":""),role:"button"},je.default.createElement("div",{className:"pvtDropdownIcon"},this.props.open?"":""),this.props.current||je.default.createElement("span",null,"")),this.props.open&&je.default.createElement("div",{className:"pvtDropdownMenu"},this.props.values.map(function(i){return je.default.createElement("div",{key:i,role:"button",onClick:function(s){s.stopPropagation(),r.props.current===i?r.props.toggle():r.props.setValue(i)},className:"pvtDropdownValue "+(i===r.props.current?"pvtDropdownActiveValue":"")},i)})))}}]),t}(je.default.PureComponent),$P=function(e){UP(t,e);function t(n){VP(this,t);var r=WP(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.state={unusedOrder:[],zIndices:{},maxZIndex:1e3,openDropdown:!1,attrValues:{},materializedInput:[]},r}return HP(t,[{key:"componentDidMount",value:function(){this.materializeInput(this.props.data)}},{key:"componentDidUpdate",value:function(){this.materializeInput(this.props.data)}},{key:"materializeInput",value:function(r){if(this.state.data!==r){var i={data:r,attrValues:{},materializedInput:[]},o=0;Vy.PivotData.forEachRecord(i.data,this.props.derivedAttributes,function(s){i.materializedInput.push(s);var a=!0,l=!1,c=void 0;try{for(var u=Object.keys(s)[Symbol.iterator](),d;!(a=(d=u.next()).done);a=!0){var h=d.value;h in i.attrValues||(i.attrValues[h]={},o>0&&(i.attrValues[h].null=o))}}catch(C){l=!0,c=C}finally{try{!a&&u.return&&u.return()}finally{if(l)throw c}}for(var p in i.attrValues){var f=p in s?s[p]:"null";f in i.attrValues[p]||(i.attrValues[p][f]=0),i.attrValues[p][f]++}o++}),this.setState(i)}}},{key:"sendPropUpdate",value:function(r){this.props.onChange((0,Gy.default)(this.props,r))}},{key:"propUpdater",value:function(r){var i=this;return function(o){return i.sendPropUpdate(Cd({},r,{$set:o}))}}},{key:"setValuesInFilter",value:function(r,i){this.sendPropUpdate({valueFilter:Cd({},r,{$set:i.reduce(function(o,s){return o[s]=!0,o},{})})})}},{key:"addValuesToFilter",value:function(r,i){r in this.props.valueFilter?this.sendPropUpdate({valueFilter:Cd({},r,i.reduce(function(o,s){return o[s]={$set:!0},o},{}))}):this.setValuesInFilter(r,i)}},{key:"removeValuesFromFilter",value:function(r,i){this.sendPropUpdate({valueFilter:Cd({},r,{$unset:i})})}},{key:"moveFilterBoxToTop",value:function(r){this.setState((0,Gy.default)(this.state,{maxZIndex:{$set:this.state.maxZIndex+1},zIndices:Cd({},r,{$set:this.state.maxZIndex+1})}))}},{key:"isOpen",value:function(r){return this.state.openDropdown===r}},{key:"makeDnDCell",value:function(r,i,o){var s=this;return je.default.createElement(Vse.default,{options:{group:"shared",ghostClass:"pvtPlaceholder",filter:".pvtFilterBox",preventOnFilter:!1},tag:"td",className:o,onChange:i},r.map(function(a){return je.default.createElement(zP,{name:a,key:a,attrValues:s.state.attrValues[a],valueFilter:s.props.valueFilter[a]||{},sorter:(0,Vy.getSort)(s.props.sorters,a),menuLimit:s.props.menuLimit,setValuesInFilter:s.setValuesInFilter.bind(s),addValuesToFilter:s.addValuesToFilter.bind(s),moveFilterBoxToTop:s.moveFilterBoxToTop.bind(s),removeValuesFromFilter:s.removeValuesFromFilter.bind(s),zIndex:s.state.zIndices[a]||s.state.maxZIndex})}))}},{key:"render",value:function(){var r=this,i=this.props.aggregators[this.props.aggregatorName]([])().numInputs||0,o=this.props.aggregators[this.props.aggregatorName]([])().outlet,s=this.props.rendererName in this.props.renderers?this.props.rendererName:Object.keys(this.props.renderers)[0],a=je.default.createElement("td",{className:"pvtRenderers"},je.default.createElement(Wy,{current:s,values:Object.keys(this.props.renderers),open:this.isOpen("renderer"),zIndex:this.isOpen("renderer")?this.state.maxZIndex+1:1,toggle:function(){return r.setState({openDropdown:r.isOpen("renderer")?!1:"renderer"})},setValue:this.propUpdater("rendererName")})),l={key_a_to_z:{rowSymbol:"",colSymbol:"",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"",colSymbol:"",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"",colSymbol:"",next:"key_a_to_z"}},c=je.default.createElement("td",{className:"pvtVals"},je.default.createElement(Wy,{current:this.props.aggregatorName,values:Object.keys(this.props.aggregators),open:this.isOpen("aggregators"),zIndex:this.isOpen("aggregators")?this.state.maxZIndex+1:1,toggle:function(){return r.setState({openDropdown:r.isOpen("aggregators")?!1:"aggregators"})},setValue:this.propUpdater("aggregatorName")}),je.default.createElement("a",{role:"button",className:"pvtRowOrder",onClick:function(){return r.propUpdater("rowOrder")(l[r.props.rowOrder].next)}},l[this.props.rowOrder].rowSymbol),je.default.createElement("a",{role:"button",className:"pvtColOrder",onClick:function(){return r.propUpdater("colOrder")(l[r.props.colOrder].next)}},l[this.props.colOrder].colSymbol),i>0&&je.default.createElement("br",null),new Array(i).fill().map(function(m,w){return[je.default.createElement(Wy,{key:w,current:r.props.vals[w],values:Object.keys(r.state.attrValues).filter(function(E){return!r.props.hiddenAttributes.includes(E)&&!r.props.hiddenFromAggregators.includes(E)}),open:r.isOpen("val"+w),zIndex:r.isOpen("val"+w)?r.state.maxZIndex+1:1,toggle:function(){return r.setState({openDropdown:r.isOpen("val"+w)?!1:"val"+w})},setValue:function(P){return r.sendPropUpdate({vals:{$splice:[[w,1,P]]}})}}),w+1!==i?je.default.createElement("br",{key:"br"+w}):null]}),o&&o(this.props.data)),u=Object.keys(this.state.attrValues).filter(function(m){return!r.props.rows.includes(m)&&!r.props.cols.includes(m)&&!r.props.hiddenAttributes.includes(m)&&!r.props.hiddenFromDragDrop.includes(m)}).sort((0,Vy.sortAs)(this.state.unusedOrder)),d=u.reduce(function(m,w){return m+w.length},0),h=d<this.props.unusedOrientationCutoff,p=this.makeDnDCell(u,function(m){return r.setState({unusedOrder:m})},"pvtAxisContainer pvtUnused "+(h?"pvtHorizList":"pvtVertList")),f=this.props.cols.filter(function(m){return!r.props.hiddenAttributes.includes(m)&&!r.props.hiddenFromDragDrop.includes(m)}),C=this.makeDnDCell(f,this.propUpdater("cols"),"pvtAxisContainer pvtHorizList pvtCols"),y=this.props.rows.filter(function(m){return!r.props.hiddenAttributes.includes(m)&&!r.props.hiddenFromDragDrop.includes(m)}),g=this.makeDnDCell(y,this.propUpdater("rows"),"pvtAxisContainer pvtVertList pvtRows"),v=je.default.createElement("td",{className:"pvtOutput"},je.default.createElement(GP.default,(0,Gy.default)(this.props,{data:{$set:this.state.materializedInput}})));return h?je.default.createElement("table",{className:"pvtUi"},je.default.createElement("tbody",{onClick:function(){return r.setState({openDropdown:!1})}},je.default.createElement("tr",null,a,p),je.default.createElement("tr",null,c,C),je.default.createElement("tr",null,g,v))):je.default.createElement("table",{className:"pvtUi"},je.default.createElement("tbody",{onClick:function(){return r.setState({openDropdown:!1})}},je.default.createElement("tr",null,a,c,C),je.default.createElement("tr",null,p,g,v)))}}]),t}(je.default.PureComponent);$P.propTypes=Object.assign({},GP.default.propTypes,{onChange:jn.default.func.isRequired,hiddenAttributes:jn.default.arrayOf(jn.default.string),hiddenFromAggregators:jn.default.arrayOf(jn.default.string),hiddenFromDragDrop:jn.default.arrayOf(jn.default.string),unusedOrientationCutoff:jn.default.number,menuLimit:jn.default.number});$P.defaultProps=Object.assign({},GP.default.defaultProps,{hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],unusedOrientationCutoff:85,menuLimit:500});var zse=bu.default=$P;const $se=()=>{const[e,t]=S.useState({data:[],renderers:yD,aggregatorName:"Count",cols:[],rows:[],vals:[],rendererName:"Table"}),n=r=>{const i=r.target.files[0];xoe.parse(i,{download:!0,header:!1,skipEmptyLines:!0,complete:o=>{const s=o.data.slice(1);t(a=>({...a,data:s}))}})};return x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",onChange:n}),x.jsx(ZM,{component:Wl,sx:{width:"100%",overflow:"auto"},children:x.jsx(zse,{...e,onChange:r=>t(r),renderers:yD})})]})};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function jse(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kse(e){var t=jse(e,"string");return Zh(t)=="symbol"?t:t+""}function qse(e,t,n){return(t=Kse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){qse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ND=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Uy=function(){return Math.random().toString(36).substring(7).split("").join(".")},_D={INIT:"@@redux/INIT"+Uy(),REPLACE:"@@redux/REPLACE"+Uy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Uy()}};function Yse(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function T1(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jr(1));return n(T1)(e,t)}if(typeof e!="function")throw new Error(Jr(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Jr(3));return o}function d(C){if(typeof C!="function")throw new Error(Jr(4));if(l)throw new Error(Jr(5));var y=!0;return c(),a.push(C),function(){if(y){if(l)throw new Error(Jr(6));y=!1,c();var v=a.indexOf(C);a.splice(v,1),s=null}}}function h(C){if(!Yse(C))throw new Error(Jr(7));if(typeof C.type>"u")throw new Error(Jr(8));if(l)throw new Error(Jr(9));try{l=!0,o=i(o,C)}finally{l=!1}for(var y=s=a,g=0;g<y.length;g++){var v=y[g];v()}return C}function p(C){if(typeof C!="function")throw new Error(Jr(10));i=C,h({type:_D.REPLACE})}function f(){var C,y=d;return C={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Jr(11));function m(){v.next&&v.next(u())}m();var w=y(m);return{unsubscribe:w}}},C[ND]=function(){return this},C}return h({type:_D.INIT}),r={dispatch:h,subscribe:d,getState:u,replaceReducer:p},r[ND]=f,r}function BD(e,t){return function(){return t(e.apply(this,arguments))}}function HD(e,t){if(typeof e=="function")return BD(e,t);if(typeof e!="object"||e===null)throw new Error(Jr(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=BD(i,t))}return n}function A1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Qse(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Jr(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=A1.apply(void 0,a)(i.dispatch),LD(LD({},i),{},{dispatch:o})}}}var I1=$.createContext(null);function Xse(e){e()}var x1=Xse,Jse=function(t){return x1=t},Zse=function(){return x1};function eae(){var e=Zse(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var GD={notify:function(){},get:function(){return[]}};function D1(e,t){var n,r=GD;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){u.onStateChange&&u.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=eae())}function c(){n&&(n(),n=void 0,r.clear(),r=GD)}var u={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return u}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect;function tae(e){var t=e.store,n=e.context,r=e.children,i=S.useMemo(function(){var a=D1(t);return{store:t,subscription:a}},[t]),o=S.useMemo(function(){return t.getState()},[t]);F1(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||I1;return $.createElement(s.Provider,{value:i},r)}var O1={exports:{}},nn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=60103,fC=60106,Fp=60107,Op=60108,Mp=60114,kp=60109,Lp=60110,Np=60112,_p=60113,jP=60120,Bp=60115,Hp=60116,M1=60121,k1=60122,L1=60117,N1=60129,_1=60131;if(typeof Symbol=="function"&&Symbol.for){var cr=Symbol.for;pC=cr("react.element"),fC=cr("react.portal"),Fp=cr("react.fragment"),Op=cr("react.strict_mode"),Mp=cr("react.profiler"),kp=cr("react.provider"),Lp=cr("react.context"),Np=cr("react.forward_ref"),_p=cr("react.suspense"),jP=cr("react.suspense_list"),Bp=cr("react.memo"),Hp=cr("react.lazy"),M1=cr("react.block"),k1=cr("react.server.block"),L1=cr("react.fundamental"),N1=cr("react.debug_trace_mode"),_1=cr("react.legacy_hidden")}function Lo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pC:switch(e=e.type,e){case Fp:case Mp:case Op:case _p:case jP:return e;default:switch(e=e&&e.$$typeof,e){case Lp:case Np:case Hp:case Bp:case kp:return e;default:return t}}case fC:return t}}}var nae=kp,rae=pC,iae=Np,oae=Fp,sae=Hp,aae=Bp,lae=fC,cae=Mp,uae=Op,dae=_p;nn.ContextConsumer=Lp;nn.ContextProvider=nae;nn.Element=rae;nn.ForwardRef=iae;nn.Fragment=oae;nn.Lazy=sae;nn.Memo=aae;nn.Portal=lae;nn.Profiler=cae;nn.StrictMode=uae;nn.Suspense=dae;nn.isAsyncMode=function(){return!1};nn.isConcurrentMode=function(){return!1};nn.isContextConsumer=function(e){return Lo(e)===Lp};nn.isContextProvider=function(e){return Lo(e)===kp};nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pC};nn.isForwardRef=function(e){return Lo(e)===Np};nn.isFragment=function(e){return Lo(e)===Fp};nn.isLazy=function(e){return Lo(e)===Hp};nn.isMemo=function(e){return Lo(e)===Bp};nn.isPortal=function(e){return Lo(e)===fC};nn.isProfiler=function(e){return Lo(e)===Mp};nn.isStrictMode=function(e){return Lo(e)===Op};nn.isSuspense=function(e){return Lo(e)===_p};nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fp||e===Mp||e===N1||e===Op||e===_p||e===jP||e===_1||typeof e=="object"&&e!==null&&(e.$$typeof===Hp||e.$$typeof===Bp||e.$$typeof===kp||e.$$typeof===Lp||e.$$typeof===Np||e.$$typeof===L1||e.$$typeof===M1||e[0]===k1)};nn.typeOf=Lo;O1.exports=nn;var hae=O1.exports,pae=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],fae=["reactReduxForwardedRef"],gae=[],mae=[null,null];function vae(e,t){var n=e[1];return[t.payload,n+1]}function VD(e,t,n){F1(function(){return e.apply(void 0,t)},n)}function Cae(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function yae(e,t,n,r,i,o,s,a,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var C=t.getState(),y,g;try{y=r(C,i.current)}catch(v){g=v,d=v}g||(d=null),y===o.current?s.current||l():(o.current=y,a.current=y,s.current=!0,c({type:"STORE_UPDATED",payload:{error:g}}))}};n.onStateChange=h,n.trySubscribe(),h();var p=function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return p}}var Sae=function(){return[null,0]};function wae(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(m){return"ConnectAdvanced("+m+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,c=n.shouldHandleStateChanges,u=c===void 0?!0:c,d=n.storeKey,h=d===void 0?"store":d;n.withRef;var p=n.forwardRef,f=p===void 0?!1:p,C=n.context,y=C===void 0?I1:C,g=lu(n,pae),v=y;return function(w){var E=w.displayName||w.name||"Component",P=i(E),A=Ue({},g,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:u,storeKey:h,displayName:P,wrappedComponentName:E,WrappedComponent:w}),R=g.pure;function T(O){return e(O.dispatch,A)}var b=R?S.useMemo:function(O){return O()};function I(O){var _=S.useMemo(function(){var Ye=O.reactReduxForwardedRef,Le=lu(O,fae);return[O.context,Ye,Le]},[O]),N=_[0],H=_[1],L=_[2],M=S.useMemo(function(){return N&&N.Consumer&&hae.isContextConsumer($.createElement(N.Consumer,null))?N:v},[N,v]),ne=S.useContext(M),oe=!!O.store&&!!O.store.getState&&!!O.store.dispatch;ne&&ne.store;var G=oe?O.store:ne.store,re=S.useMemo(function(){return T(G)},[G]),z=S.useMemo(function(){if(!u)return mae;var Ye=D1(G,oe?null:ne.subscription),Le=Ye.notifyNestedSubs.bind(Ye);return[Ye,Le]},[G,oe,ne]),K=z[0],Q=z[1],de=S.useMemo(function(){return oe?ne:Ue({},ne,{subscription:K})},[oe,ne,K]),ue=S.useReducer(vae,gae,Sae),X=ue[0],se=X[0],me=ue[1];if(se&&se.error)throw se.error;var le=S.useRef(),ve=S.useRef(L),Ce=S.useRef(),he=S.useRef(!1),ae=b(function(){return Ce.current&&L===ve.current?Ce.current:re(G.getState(),L)},[G,se,L]);VD(Cae,[ve,le,he,L,ae,Ce,Q]),VD(yae,[u,G,K,re,ve,le,he,Ce,Q,me],[G,K,re]);var Xe=S.useMemo(function(){return $.createElement(w,Ue({},ae,{ref:H}))},[H,w,ae]),Ae=S.useMemo(function(){return u?$.createElement(M.Provider,{value:de},Xe):Xe},[M,Xe,de]);return Ae}var D=R?$.memo(I):I;if(D.WrappedComponent=w,D.displayName=I.displayName=P,f){var F=$.forwardRef(function(_,N){return $.createElement(D,Ue({},_,{reactReduxForwardedRef:N}))});return F.displayName=P,F.WrappedComponent=w,FA(F,w)}return FA(D,w)}}function WD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function zy(e,t){if(WD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!WD(e[n[i]],t[n[i]]))return!1;return!0}function bae(e,t){var n={},r=function(s){var a=e[s];typeof a=="function"&&(n[s]=function(){return t(a.apply(void 0,arguments))})};for(var i in e)r(i);return n}function KP(e){return function(n,r){var i=e(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function UD(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function B1(e,t){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=UD(e);var c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=UD(c),c=o(a,l)),c},o}}function Rae(e){return typeof e=="function"?B1(e):void 0}function Eae(e){return e?void 0:KP(function(t){return{dispatch:t}})}function Pae(e){return e&&typeof e=="object"?KP(function(t){return bae(e,t)}):void 0}const Tae=[Rae,Eae,Pae];function Aae(e){return typeof e=="function"?B1(e):void 0}function Iae(e){return e?void 0:KP(function(){return{}})}const xae=[Aae,Iae];function Dae(e,t,n){return Ue({},n,e,t)}function Fae(e){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(c,u,d){var h=e(c,u,d);return s?(!i||!o(h,a))&&(a=h):(s=!0,a=h),a}}}function Oae(e){return typeof e=="function"?Fae(e):void 0}function Mae(e){return e?void 0:function(){return Dae}}const kae=[Oae,Mae];var Lae=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Nae(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function _ae(e,t,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,c,u,d,h,p;function f(m,w){return c=m,u=w,d=e(c,u),h=t(r,u),p=n(d,h,u),l=!0,p}function C(){return d=e(c,u),t.dependsOnOwnProps&&(h=t(r,u)),p=n(d,h,u),p}function y(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(h=t(r,u)),p=n(d,h,u),p}function g(){var m=e(c,u),w=!a(m,d);return d=m,w&&(p=n(d,h,u)),p}function v(m,w){var E=!s(w,u),P=!o(m,c,w,u);return c=m,u=w,E&&P?C():E?y():P?g():p}return function(w,E){return l?v(w,E):f(w,E)}}function Bae(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=lu(t,Lae),s=n(e,o),a=r(e,o),l=i(e,o),c=o.pure?_ae:Nae;return c(s,a,l,e,o)}var Hae=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function $y(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function Gae(e,t){return e===t}function Vae(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?wae:n,i=t.mapStateToPropsFactories,o=i===void 0?xae:i,s=t.mapDispatchToPropsFactories,a=s===void 0?Tae:s,l=t.mergePropsFactories,c=l===void 0?kae:l,u=t.selectorFactory,d=u===void 0?Bae:u;return function(p,f,C,y){y===void 0&&(y={});var g=y,v=g.pure,m=v===void 0?!0:v,w=g.areStatesEqual,E=w===void 0?Gae:w,P=g.areOwnPropsEqual,A=P===void 0?zy:P,R=g.areStatePropsEqual,T=R===void 0?zy:R,b=g.areMergedPropsEqual,I=b===void 0?zy:b,D=lu(g,Hae),F=$y(p,o,"mapStateToProps"),O=$y(f,a,"mapDispatchToProps"),_=$y(C,c,"mergeProps");return r(d,Ue({methodName:"connect",getDisplayName:function(H){return"Connect("+H+")"},shouldHandleStateChanges:!!p,initMapStateToProps:F,initMapDispatchToProps:O,initMergeProps:_,pure:m,areStatesEqual:E,areOwnPropsEqual:A,areStatePropsEqual:T,areMergedPropsEqual:I},D))}}const H1=Vae();Jse(Vl.unstable_batchedUpdates);function Wae(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function G1(e,t){var n=S.useState(function(){return{inputs:t,result:e()}})[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&Wae(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return S.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function Uae(e,t){return G1(function(){return e},t)}var Mt=G1,We=Uae,zae="Invariant failed";function $ae(e,t){throw new Error(zae)}var bo=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},qP=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},zD=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},jae=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},jy={top:0,right:0,bottom:0,left:0},YP=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?jy:r,o=t.border,s=o===void 0?jy:o,a=t.padding,l=a===void 0?jy:a,c=bo(qP(n,i)),u=bo(zD(n,s)),d=bo(zD(u,l));return{marginBox:c,borderBox:bo(n),paddingBox:u,contentBox:d,margin:i,border:s,padding:l}},Vi=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&$ae(),i},Kae=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Om=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=jae(r,n);return YP({borderBox:a,border:i,margin:o,padding:s})},Mm=function(t,n){return n===void 0&&(n=Kae()),Om(t,n)},V1=function(t,n){var r={top:Vi(n.marginTop),right:Vi(n.marginRight),bottom:Vi(n.marginBottom),left:Vi(n.marginLeft)},i={top:Vi(n.paddingTop),right:Vi(n.paddingRight),bottom:Vi(n.paddingBottom),left:Vi(n.paddingLeft)},o={top:Vi(n.borderTopWidth),right:Vi(n.borderRightWidth),bottom:Vi(n.borderBottomWidth),left:Vi(n.borderLeftWidth)};return YP({borderBox:t,margin:r,padding:i,border:o})},W1=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return V1(n,r)},$D=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function qae(e,t){return!!(e===t||$D(e)&&$D(t))}function Yae(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!qae(e[n],t[n]))return!1;return!0}function or(e,t){t===void 0&&(t=Yae);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var ep=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function U1(e,t){}U1.bind(null,"warn");U1.bind(null,"error");function Ra(){}function Qae(e,t){return Ue({},e,{},t)}function Xi(e,t,n){var r=t.map(function(i){var o=Qae(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var Xae="Invariant failed";function km(e){this.message=e}km.prototype.toString=function(){return this.message};function we(e,t){throw new km(Xae)}var Jae=function(e){Fv(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.callbacks=null,r.unbind=Ra,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var c=a.error;c instanceof km&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=Xi(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof km){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}($.Component),Zae=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Lm=function(t){return t+1},ele=function(t){return`
  You have lifted an item in position `+Lm(t.source.index)+`
`},z1=function(t,n){var r=t.droppableId===n.droppableId,i=Lm(t.index),o=Lm(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},$1=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},tle=function(t){var n=t.destination;if(n)return z1(t.source,n);var r=t.combine;return r?$1(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},jD=function(t){return`
  The item has returned to its starting position
  of `+Lm(t.index)+`
`},nle=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+jD(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+z1(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+$1(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+jD(t.source)+`
  `},yg={dragHandleUsageInstructions:Zae,onDragStart:ele,onDragUpdate:tle,onDragEnd:nle},sr={x:0,y:0},gr=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Ti=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Ea=function(t,n){return t.x===n.x&&t.y===n.y},$u=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Bl=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},tp=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},KD=function(t,n){return Math.min.apply(Math,n.map(function(r){return tp(t,r)}))},j1=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},rle=function(e,t){var n=bo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Gp=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},qD=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},ile={top:0,right:0,bottom:0,left:0},ole=function(t,n){return n?Gp(t,n.scroll.diff.displacement):t},sle=function(t,n,r){if(r&&r.increasedBy){var i;return Ue({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},ale=function(t,n){return n&&n.shouldClipSubject?rle(n.pageMarginBox,t):bo(t)},Eu=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=ole(t.marginBox,i),s=sle(o,r,n),a=ale(s,i);return{page:t,withPlaceholder:n,active:a}},QP=function(e,t){e.frame||we();var n=e.frame,r=Ti(t,n.scroll.initial),i=$u(r),o=Ue({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Eu({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),a=Ue({},e,{frame:o,subject:s});return a};function Nm(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function XP(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Wa(e,t){if(e.find)return e.find(t);var n=XP(e,t);if(n!==-1)return e[n]}function K1(e){return Array.prototype.slice.call(e)}var q1=or(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Y1=or(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),gC=or(function(e){return Nm(e)}),lle=or(function(e){return Nm(e)}),ju=or(function(e,t){var n=lle(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function JP(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function mC(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var vC=or(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),cle=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;var s=JP(o);if(!s)return null;function a(C){var y={type:"COMBINE",combine:{draggableId:C,droppableId:r.descriptor.id}};return Ue({},o,{at:y})}var l=o.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var u=vC(n,i);if(!c){if(!u.length)return null;var d=u[u.length-1];return a(d.descriptor.id)}var h=XP(u,function(C){return C.descriptor.id===c});h===-1&&we();var p=h-1;if(p<0)return null;var f=u[p];return a(f.descriptor.id)},Ku=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Q1={point:sr,value:0},np={invisible:{},visible:{},all:[]},ule={displaced:np,displacedBy:Q1,at:null},ro=function(e,t){return function(n){return e<=n&&n<=t}},X1=function(e){var t=ro(e.top,e.bottom),n=ro(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right,u=l&&c;if(u)return!0;var d=l&&s||c&&o;return d}},dle=function(e){var t=ro(e.top,e.bottom),n=ro(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},ZP={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},J1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},hle=function(e){return function(t){var n=ro(t.top,t.bottom),r=ro(t.left,t.right);return function(i){return e===ZP?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},ple=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:sr;return Gp(t,r)},fle=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},gle=function(t,n,r){return r(n)(t)},eT=function(t){var n=t.target,r=t.destination,i=t.viewport,o=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,a=o?ple(n,r):n;return fle(a,r,s)&&gle(a,i,s)},mle=function(t){return eT(Ue({},t,{isVisibleThroughFrameFn:X1}))},Z1=function(t){return eT(Ue({},t,{isVisibleThroughFrameFn:dle}))},vle=function(t){return eT(Ue({},t,{isVisibleThroughFrameFn:hle(t.destination.axis)}))},Cle=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[t])return!1;var s=o[t];return s?s.shouldAnimate:!0};function yle(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return bo(qP(n,r))}function rp(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce(function(l,c){var u=yle(c,r),d=c.descriptor.id;l.all.push(d);var h=mle({target:u,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return l.invisible[c.descriptor.id]=!0,l;var p=Cle(d,s,o),f={draggableId:d,shouldAnimate:p};return l.visible[d]=f,l},{all:[],visible:{},invisible:{}})}function Sle(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function YD(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=Sle(t,{inHomeList:n});return{displaced:np,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function _m(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,a=e.index,l=e.forceShouldAnimate,c=Ku(t,r);if(a==null)return YD({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=Wa(n,function(C){return C.descriptor.index===a});if(!u)return YD({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=vC(t,n),h=n.indexOf(u),p=d.slice(h),f=rp({afterDragging:p,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:f,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Ma(e,t){return!!t.effected[e]}var wle=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,c=Ma(s,o);return c?t?l:l-1:t?l+1:l},ble=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=n?l:l+1;return s<a||s>c?null:s},Rle=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,a=e.previousImpact,l=e.viewport,c=e.afterCritical,u=a.at;if(u||we(),u.type==="REORDER"){var d=ble({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:s});return d==null?null:_m({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var h=wle({isMovingForward:t,destination:o,displaced:a.displaced,draggables:i,combine:u.combine,afterCritical:c});return h==null?null:_m({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},Ele=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=!!(t.visible[r]||t.invisible[r]);return Ma(r,n)?o?sr:$u(i.point):o?i.point:sr},Ple=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=mC(n);i||we();var o=i.draggableId,s=r[o].page.borderBox.center,a=Ele({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return gr(s,a)},eB=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Tle=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},tT=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},QD=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Bl(n.line,r.marginBox[n.end]+eB(n,i),tT(n,r.marginBox,i))},XD=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Bl(n.line,r.marginBox[n.start]-Tle(n,i),tT(n,r.marginBox,i))},Ale=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Bl(n.line,r.contentBox[n.start]+eB(n,i),tT(n,r.contentBox,i))},Ile=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=ju(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return Ale({axis:l,moveInto:i.page,isMoving:a});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(Ma(d,o))return XD({axis:l,moveRelativeTo:h.page,isMoving:a});var p=Om(h.page,u.point);return XD({axis:l,moveRelativeTo:p,isMoving:a})}var f=s[s.length-1];if(f.descriptor.id===n.descriptor.id)return a.borderBox.center;if(Ma(f.descriptor.id,o)){var C=Om(f.page,$u(o.displacedBy.point));return QD({axis:l,moveRelativeTo:C,isMoving:a})}return QD({axis:l,moveRelativeTo:f.page,isMoving:a})},gb=function(e,t){var n=e.frame;return n?gr(t,n.scroll.diff.displacement):t},xle=function(t){var n=t.impact,r=t.draggable,i=t.droppable,o=t.draggables,s=t.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?Ile({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):Ple({impact:n,draggables:o,afterCritical:s})},CC=function(e){var t=xle(e),n=e.droppable,r=n?gb(n,t):t;return r},tB=function(e,t){var n=Ti(t,e.scroll.initial),r=$u(n),i=bo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return o};function JD(e,t){return e.map(function(n){return t[n]})}function Dle(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var Fle=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=tB(n,gr(n.scroll.current,o)),a=r.frame?QP(r,gr(r.frame.scroll.current,o)):r,l=t.displaced,c=rp({afterDragging:JD(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),u=rp({afterDragging:JD(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},p=[l,c,u];l.all.forEach(function(C){var y=Dle(C,p);if(y){h[C]=y;return}d[C]=!0});var f=Ue({},t,{displaced:{all:l.all,invisible:d,visible:h}});return f},Ole=function(e,t){return gr(e.scroll.diff.displacement,t)},nT=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=Ole(r,t),o=Ti(i,n.page.borderBox.center);return gr(n.client.borderBox.center,o)},nB=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,a=s===void 0?!1:s,l=Ti(r,t.page.borderBox.center),c=Gp(t.page.borderBox,l),u={target:c,destination:n,withDroppableDisplacement:o,viewport:i};return a?vle(u):Z1(u)},Mle=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,a=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=ju(r.descriptor.id,i),d=Ku(n,r),h=cle({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Rle({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:s,afterCritical:c});if(!h)return null;var p=CC({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c}),f=nB({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(f){var C=nT({pageBorderBoxCenter:p,draggable:n,viewport:s});return{clientSelection:C,impact:h,scrollJumpRequest:null}}var y=Ti(p,a),g=Fle({impact:h,viewport:s,destination:r,draggables:i,maxScrollChange:y});return{clientSelection:l,impact:g,scrollJumpRequest:y}},kr=function(t){var n=t.subject.active;return n||we(),n},kle=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=ro(s[a.start],s[a.end]),c=gC(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return X1(o.frame)(kr(d))}).filter(function(d){var h=kr(d);return t?s[a.crossAxisEnd]<h[a.crossAxisEnd]:h[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(d){var h=kr(d),p=ro(h[a.start],h[a.end]);return l(h[a.start])||l(h[a.end])||p(s[a.start])||p(s[a.end])}).sort(function(d,h){var p=kr(d)[a.crossAxisStart],f=kr(h)[a.crossAxisStart];return t?p-f:f-p}).filter(function(d,h,p){return kr(d)[a.crossAxisStart]===kr(p[0])[a.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var u=c.filter(function(d){var h=ro(kr(d)[a.start],kr(d)[a.end]);return h(n[a.line])});return u.length===1?u[0]:u.length>1?u.sort(function(d,h){return kr(d)[a.start]-kr(h)[a.start]})[0]:c.sort(function(d,h){var p=KD(n,qD(kr(d))),f=KD(n,qD(kr(h)));return p!==f?p-f:kr(d)[a.start]-kr(h)[a.start]})[0]},ZD=function(t,n){var r=t.page.borderBox.center;return Ma(t.descriptor.id,n)?Ti(r,n.displacedBy.point):r},Lle=function(t,n){var r=t.page.borderBox;return Ma(t.descriptor.id,n)?Gp(r,$u(n.displacedBy.point)):r},Nle=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,s=i.filter(function(a){return Z1({target:Lle(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var c=tp(t,gb(r,ZD(a,o))),u=tp(t,gb(r,ZD(l,o)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index});return s[0]||null},Vp=or(function(t,n){var r=n[t.line];return{value:r,point:Bl(t.line,r)}}),_le=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Bl(i.line,n[i.line]);var o=t.subject.page.contentBox[i.size],s=ju(t.descriptor.id,r),a=s.reduce(function(u,d){return u+d.client.marginBox[i.size]},0),l=a+n[i.line],c=l-o;return c<=0?null:Bl(i.line,c)},rB=function(t,n){return Ue({},t,{scroll:Ue({},t.scroll,{max:n})})},iB=function(t,n,r){var i=t.frame;Ku(n,t)&&we(),t.subject.withPlaceholder&&we();var o=Vp(t.axis,n.displaceBy).point,s=_le(t,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var l=Eu({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return Ue({},t,{subject:l})}var c=s?gr(i.scroll.max,s):i.scroll.max,u=rB(i,c),d=Eu({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:u});return Ue({},t,{subject:d,frame:u})},Ble=function(t){var n=t.subject.withPlaceholder;n||we();var r=t.frame;if(!r){var i=Eu({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Ue({},t,{subject:i})}var o=n.oldFrameMaxScroll;o||we();var s=rB(r,o),a=Eu({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return Ue({},t,{subject:a,frame:s})},Hle=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,a=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:np,displacedBy:Q1,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},u=CC({impact:c,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=Ku(i,s)?s:iB(s,i,o),h=nB({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?c:null}var p=t[s.axis.line]<=n.page.borderBox.center[s.axis.line],f=function(){var y=n.descriptor.index;return n.descriptor.id===i.descriptor.id||p?y:y+1}(),C=Vp(s.axis,i.displaceBy);return _m({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:C,last:np,index:f})},Gle=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,a=e.viewport,l=e.afterCritical,c=kle({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!c)return null;var u=ju(c.descriptor.id,o),d=Nle({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:u,afterCritical:l}),h=Hle({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:a,afterCritical:l});if(!h)return null;var p=CC({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l}),f=nT({pageBorderBoxCenter:p,draggable:r,viewport:a});return{clientSelection:f,impact:h,scrollJumpRequest:null}},Di=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Vle=function(t,n){var r=Di(t);return r?n[r]:null},Wle=function(e){var t=e.state,n=e.type,r=Vle(t.impact,t.dimensions.droppables),i=!!r,o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,f=h.droppables;return l?Mle({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Gle({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:p,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function nl(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function oB(e){var t=ro(e.top,e.bottom),n=ro(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function Ule(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function zle(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Bl(s.axis.line,t.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:tp(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function $le(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=gC(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!Ule(t,s))return!1;if(oB(s)(t.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],c=t[a.crossAxisStart],u=t[a.crossAxisEnd],d=ro(s[a.crossAxisStart],s[a.crossAxisEnd]),h=d(c),p=d(u);return!h&&!p?!0:h?c<l:u>l});return i.length?i.length===1?i[0].descriptor.id:zle({pageBorderBox:t,draggable:n,candidates:i}):null}var sB=function(t,n){return bo(Gp(t,n))},jle=function(e,t){var n=e.frame;return n?sB(t,n.scroll.diff.value):t};function aB(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function Kle(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var qle=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,a=e.afterCritical,l=r.axis,c=Vp(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],p=vC(n,i),f=Wa(p,function(y){var g=y.descriptor.id,v=y.page.borderBox.center[l.line],m=Ma(g,a),w=aB({displaced:o,id:g});return m?w?h<=v:d<v-u:w?h<=v+u:d<v}),C=Kle({draggable:n,closest:f,inHomeList:Ku(n,r)});return _m({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:c,index:C})},Yle=4,Qle=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=Vp(i.axis,t.displaceBy),c=l.value,u=n[a.start],d=n[a.end],h=vC(t,o),p=Wa(h,function(C){var y=C.descriptor.id,g=C.page.borderBox,v=g[a.size],m=v/Yle,w=Ma(y,s),E=aB({displaced:r.displaced,id:y});return w?E?d>g[a.start]+m&&d<g[a.end]-m:u>g[a.start]-c+m&&u<g[a.end]-c-m:E?d>g[a.start]+c+m&&d<g[a.end]+c-m:u>g[a.start]+m&&u<g[a.end]-m});if(!p)return null;var f={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return f},lB=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,a=e.afterCritical,l=sB(n.page.borderBox,t),c=$le({pageBorderBox:l,draggable:n,droppables:i});if(!c)return ule;var u=i[c],d=ju(u.descriptor.id,r),h=jle(u,l);return Qle({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:a})||qle({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},rT=function(e,t){var n;return Ue({},e,(n={},n[t.descriptor.id]=t,n))},Xle=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,o=Di(n),s=Di(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=Ble(a);return rT(i,l)},Jle=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,s=Xle({previousImpact:i,impact:o,droppables:r}),a=Di(o);if(!a)return s;var l=r[a];if(Ku(t,l)||l.subject.withPlaceholder)return s;var c=iB(l,t,n);return rT(s,c)},ph=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,a=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Ti(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:gr(t.initial.client.borderBoxCenter,u)},h={selection:gr(d.selection,a.scroll.current),borderBoxCenter:gr(d.borderBoxCenter,a.scroll.current),offset:gr(d.offset,a.scroll.diff.value)},p={client:d,page:h};if(t.phase==="COLLECTING")return Ue({phase:"COLLECTING"},t,{dimensions:l,viewport:a,current:p});var f=l.draggables[t.critical.draggable.id],C=o||lB({pageOffset:h.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),y=Jle({draggable:f,impact:C,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),g=Ue({},t,{current:p,dimensions:{draggables:l.draggables,droppables:y},impact:C,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return g};function Zle(e,t){return e.map(function(n){return t[n]})}var cB=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,a=Zle(s.all,r),l=rp({afterDragging:a,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return Ue({},t,{displaced:l})},uB=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,a=CC({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return nT({pageBorderBoxCenter:a,draggable:n,viewport:o})},dB=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&we();var i=t.impact,o=r||t.viewport,s=n||t.dimensions,a=s.draggables,l=s.droppables,c=a[t.critical.draggable.id],u=Di(i);u||we();var d=l[u],h=cB({impact:i,viewport:o,destination:d,draggables:a}),p=uB({impact:h,draggable:c,droppable:d,draggables:a,viewport:o,afterCritical:t.afterCritical});return ph({impact:h,clientSelection:p,state:t,dimensions:s,viewport:o})},ece=function(e){return{index:e.index,droppableId:e.droppableId}},hB=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=Vp(n.axis,t.displaceBy),s=ju(n.descriptor.id,r),a=s.indexOf(t);a===-1&&we();var l=s.slice(a+1),c=l.reduce(function(p,f){return p[f.descriptor.id]=!0,p},{}),u={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c},d=rp({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:d,displacedBy:o,at:{type:"REORDER",destination:ece(t.descriptor)}};return{impact:h,afterCritical:u}},tce=function(e,t){return{draggables:e.draggables,droppables:rT(e.droppables,t)}},nce=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Om(t.client,n),o=Mm(i,r),s=Ue({},t,{placeholder:Ue({},t.placeholder,{client:i}),client:i,page:o});return s},rce=function(e){var t=e.frame;return t||we(),t},ice=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=rce(a),c=l.scroll.diff.value,u=gr(i,c),d=nce({draggable:o,offset:u,initialWindowScroll:r.scroll.initial});return d})},oce=function(e){var t=e.state,n=e.published,r=n.modified.map(function(m){var w=t.dimensions.droppables[m.droppableId],E=QP(w,m.scroll);return E}),i=Ue({},t.dimensions.droppables,{},q1(r)),o=Y1(ice({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=Ue({},t.dimensions.draggables,{},o);n.removals.forEach(function(m){delete s[m]});var a={droppables:i,draggables:s},l=Di(t.impact),c=l?a.droppables[l]:null,u=a.draggables[t.critical.draggable.id],d=a.droppables[t.critical.droppable.id],h=hB({draggable:u,home:d,draggables:s,viewport:t.viewport}),p=h.impact,f=h.afterCritical,C=c&&c.isCombineEnabled?t.impact:p,y=lB({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:C,viewport:t.viewport,afterCritical:f}),g=Ue({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:a,afterCritical:f,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var v=Ue({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},mb=function(t){return t.movementMode==="SNAP"},Ky=function(t,n,r){var i=tce(t.dimensions,n);return!mb(t)||r?ph({state:t,dimensions:i}):dB({state:t,dimensions:i})};function qy(e){return e.isDragging&&e.movementMode==="SNAP"?Ue({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var e0={phase:"IDLE",completed:null,shouldFlush:!1},sce=function(e,t){if(e===void 0&&(e=e0),t.type==="FLUSH")return Ue({},e0,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&we();var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:sr},d={client:u,page:{selection:gr(u.selection,o.scroll.initial),borderBoxCenter:gr(u.selection,o.scroll.initial),offset:gr(u.selection,o.scroll.diff.value)}},h=gC(s.droppables).every(function(me){return!me.isFixedOnPage}),p=hB({draggable:l,home:c,draggables:s.draggables,viewport:o}),f=p.impact,C=p.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:f,afterCritical:C,onLiftImpact:f,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&we();var g=Ue({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||we(),oce({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;nl(e)||we();var v=t.payload.client;return Ea(v,e.current.client.selection)?e:ph({state:e,clientSelection:v,impact:mb(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return qy(e);nl(e)||we();var m=t.payload,w=m.id,E=m.newScroll,P=e.dimensions.droppables[w];if(!P)return e;var A=QP(P,E);return Ky(e,A,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;nl(e)||we();var R=t.payload,T=R.id,b=R.isEnabled,I=e.dimensions.droppables[T];I||we(),I.isEnabled===b&&we();var D=Ue({},I,{isEnabled:b});return Ky(e,D,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;nl(e)||we();var F=t.payload,O=F.id,_=F.isCombineEnabled,N=e.dimensions.droppables[O];N||we(),N.isCombineEnabled===_&&we();var H=Ue({},N,{isCombineEnabled:_});return Ky(e,H,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;nl(e)||we(),e.isWindowScrollAllowed||we();var L=t.payload.newScroll;if(Ea(e.viewport.scroll.current,L))return qy(e);var M=tB(e.viewport,L);return mb(e)?dB({state:e,viewport:M}):ph({state:e,viewport:M})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!nl(e))return e;var ne=t.payload.maxScroll;if(Ea(ne,e.viewport.scroll.max))return e;var oe=Ue({},e.viewport,{scroll:Ue({},e.viewport.scroll,{max:ne})});return Ue({phase:"DRAGGING"},e,{viewport:oe})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&we();var G=Wle({state:e,type:t.type});return G?ph({state:e,impact:G.impact,clientSelection:G.clientSelection,scrollJumpRequest:G.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var re=t.payload.reason;e.phase!=="COLLECTING"&&we();var z=Ue({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:re});return z}if(t.type==="DROP_ANIMATE"){var K=t.payload,Q=K.completed,de=K.dropDuration,ue=K.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||we();var X={phase:"DROP_ANIMATING",completed:Q,dropDuration:de,newHomeClientOffset:ue,dimensions:e.dimensions};return X}if(t.type==="DROP_COMPLETE"){var se=t.payload.completed;return{phase:"IDLE",completed:se,shouldFlush:!1}}return e},ace=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},lce=function(t){return{type:"LIFT",payload:t}},cce=function(t){return{type:"INITIAL_PUBLISH",payload:t}},uce=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},dce=function(){return{type:"COLLECTION_STARTING",payload:null}},hce=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},pce=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},fce=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},pB=function(t){return{type:"MOVE",payload:t}},gce=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},mce=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},vce=function(){return{type:"MOVE_UP",payload:null}},Cce=function(){return{type:"MOVE_DOWN",payload:null}},yce=function(){return{type:"MOVE_RIGHT",payload:null}},Sce=function(){return{type:"MOVE_LEFT",payload:null}},iT=function(){return{type:"FLUSH",payload:null}},wce=function(t){return{type:"DROP_ANIMATE",payload:t}},oT=function(t){return{type:"DROP_COMPLETE",payload:t}},fB=function(t){return{type:"DROP",payload:t}},bce=function(t){return{type:"DROP_PENDING",payload:t}},gB=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Rce=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,c=s.movementMode,u=n();u.phase==="DROP_ANIMATING"&&r(oT({completed:u.completed})),n().phase!=="IDLE"&&we(),r(iT()),r(ace({draggableId:a,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},h={draggableId:a,scrollOptions:d},p=e.startPublishing(h),f=p.critical,C=p.dimensions,y=p.viewport;r(cce({critical:f,dimensions:C,clientSelection:l,movementMode:c,viewport:y}))}}}},Ece=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},sT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ip={opacity:{drop:0,combining:.7},scale:{drop:.75}},aT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ja=aT.outOfTheWay+"s "+sT.outOfTheWay,fh={fluid:"opacity "+ja,snap:"transform "+ja+", opacity "+ja,drop:function(t){var n=t+"s "+sT.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+ja,placeholder:"height "+ja+", width "+ja+", margin "+ja},t0=function(t){return Ea(t,sr)?null:"translate("+t.x+"px, "+t.y+"px)"},vb={moveTo:t0,drop:function(t,n){var r=t0(t);return r?n?r+" scale("+ip.scale.drop+")":r:null}},Cb=aT.minDropTime,mB=aT.maxDropTime,Pce=mB-Cb,n0=1500,Tce=.6,Ace=function(e){var t=e.current,n=e.destination,r=e.reason,i=tp(t,n);if(i<=0)return Cb;if(i>=n0)return mB;var o=i/n0,s=Cb+Pce*o,a=r==="CANCEL"?s*Tce:s;return Number(a.toFixed(2))},Ice=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,a=r.droppables,l=Di(t),c=l?a[l]:null,u=a[n.descriptor.droppableId],d=uB({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:c||u,viewport:i}),h=Ti(d,n.client.borderBox.center);return h},xce=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;if(!r.at||n!=="DROP"){var a=cB({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=Ue({},r,{displaced:np});return{impact:l,didDropInsideDroppable:!0}},Dce=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=t(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(bce({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&we(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||we();var l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],d=xce({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),h=d.impact,p=d.didDropInsideDroppable,f=p?JP(h):null,C=p?mC(h):null,y={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:y,reason:s,mode:o.movementMode,destination:f,combine:C},v=Ice({impact:h,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:h},w=!Ea(o.current.client.offset,v)||!!g.combine;if(!w){n(oT({completed:m}));return}var E=Ace({current:o.current.client.offset,destination:v,reason:s}),P={newHomeClientOffset:v,dropDuration:E,completed:m};n(wce(P))}}}},vB=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Fce(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function Oce(e){var t=e.onWindowScroll;function n(){t(vB())}var r=ep(n),i=Fce(r),o=Ra;function s(){return o!==Ra}function a(){s()&&we(),o=Xi(window,[i])}function l(){s()||we(),r.cancel(),o(),o=Ra}return{start:a,stop:l,isActive:s}}var Mce=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},kce=function(e){var t=Oce({onWindowScroll:function(r){e.dispatch(gce({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Mce(r)&&t.stop(),n(r)}}},Lce=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=function(){return t},i},Nce=function(){var e=[],t=function(o){var s=XP(e,function(c){return c.timerId===o});s===-1&&we();var a=e.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return t(s)}),a={timerId:s,callback:o};e.push(a)},r=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},_ce=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},Bce=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},Hce=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},yd=function(t,n){n()},Hf=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},Yy=function(t,n,r,i){if(!t){r(i(n));return}var o=Lce(r),s={announce:o};t(n,s),o.wasCalled()||r(i(n))},Gce=function(e,t){var n=Nce(),r=null,i=function(h,p){r&&we(),yd("onBeforeCapture",function(){var f=e().onBeforeCapture;if(f){var C={draggableId:h,mode:p};f(C)}})},o=function(h,p){r&&we(),yd("onBeforeDragStart",function(){var f=e().onBeforeDragStart;f&&f(Hf(h,p))})},s=function(h,p){r&&we();var f=Hf(h,p);r={mode:p,lastCritical:h,lastLocation:f.source,lastCombine:null},n.add(function(){yd("onDragStart",function(){return Yy(e().onDragStart,f,t,yg.onDragStart)})})},a=function(h,p){var f=JP(p),C=mC(p);r||we();var y=!Hce(h,r.lastCritical);y&&(r.lastCritical=h);var g=!_ce(r.lastLocation,f);g&&(r.lastLocation=f);var v=!Bce(r.lastCombine,C);if(v&&(r.lastCombine=C),!(!y&&!g&&!v)){var m=Ue({},Hf(h,r.mode),{combine:C,destination:f});n.add(function(){yd("onDragUpdate",function(){return Yy(e().onDragUpdate,m,t,yg.onDragUpdate)})})}},l=function(){r||we(),n.flush()},c=function(h){r||we(),r=null,yd("onDragEnd",function(){return Yy(e().onDragEnd,h,t,yg.onDragEnd)})},u=function(){if(r){var h=Ue({},Hf(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(h)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:u}},Vce=function(e,t){var n=Gce(e,t);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},Wce=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&we(),e.dispatch(oT({completed:r.completed}))}}},Uce=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(gB())}};n=requestAnimationFrame(function(){n=null,t=Xi(window,[s])})}}}},zce=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},$ce=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},jce=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Kce=function(e){return function(t){return function(n){return function(r){if(jce(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&we(),e.start(i);return}n(r),e.scroll(t.getState())}}}},qce=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(fB({reason:r.reason})))}}}},Yce=A1,Qce=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return T1(sce,Yce(Qse(Ece(r),zce(t),Rce(t),Dce,Wce,Uce,qce,Kce(s),kce,$ce(n),Vce(i,o))))},Qy=function(){return{additions:{},removals:{},modified:{}}};function Xce(e){var t=e.registry,n=e.callbacks,r=Qy(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=r,d=u.additions,h=u.removals,p=u.modified,f=Object.keys(d).map(function(g){return t.draggable.getById(g).getDimension(sr)}).sort(function(g,v){return g.descriptor.index-v.descriptor.index}),C=Object.keys(p).map(function(g){var v=t.droppable.getById(g),m=v.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:m}}),y={additions:f,removals:Object.keys(h),modified:C};r=Qy(),n.publish(y)}))},s=function(u){var d=u.descriptor.id;r.additions[d]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},a=function(u){var d=u.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=Qy())};return{add:s,remove:a,stop:l}}var CB=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=Ti({x:n,y:t},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},yB=function(){var e=document.documentElement;return e||we(),e},SB=function(){var e=yB(),t=CB({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},Jce=function(){var e=vB(),t=SB(),n=e.y,r=e.x,i=yB(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,c=bo({top:n,left:r,right:a,bottom:l}),u={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:sr,displacement:sr}}};return u},Zce=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=Jce(),o=i.scroll.current,s=t.droppable,a=r.droppable.getAllByType(s.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(o)}),c={draggables:Y1(l),droppables:q1(a)},u={dimensions:c,critical:t,viewport:i};return u};function r0(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var eue=function(e,t){var n=null,r=Xce({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(p,f){e.droppable.exists(p)||we(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:f})},o=function(p,f){n&&(e.droppable.exists(p)||we(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:f}))},s=function(p,f){n&&(e.droppable.exists(p)||we(),t.updateDroppableScroll({id:p,newScroll:f}))},a=function(p,f){n&&e.droppable.getById(p).callbacks.scroll(f)},l=function(){if(n){r.stop();var p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(f){return f.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(p){n||we();var f=n.critical.draggable;p.type==="ADDITION"&&r0(e,f,p.value)&&r.add(p.value),p.type==="REMOVAL"&&r0(e,f,p.value)&&r.remove(p.value)},u=function(p){n&&we();var f=e.draggable.getById(p.draggableId),C=e.droppable.getById(f.descriptor.droppableId),y={draggable:f.descriptor,droppable:C.descriptor},g=e.subscribe(c);return n={critical:y,unsubscribe:g},Zce({critical:y,registry:e,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:u,stopPublishing:l};return d},wB=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},tue=function(e){window.scrollBy(e.x,e.y)},nue=or(function(e){return gC(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),rue=function(t,n){var r=Wa(nue(n),function(i){return i.frame||we(),oB(i.frame.pageMarginBox)(t)});return r},iue=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=rue(t,r);return o},Pa={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},oue=function(e,t){var n=e[t.size]*Pa.startFromPercentage,r=e[t.size]*Pa.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},bB=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var o=r-t,s=o/i;return s},lT=1,sue=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Pa.maxPixelScroll;if(e===t.startScrollingFrom)return lT;var n=bB({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=Pa.maxPixelScroll*Pa.ease(r);return Math.ceil(i)},i0=Pa.durationDampening.accelerateAt,o0=Pa.durationDampening.stopDampeningAt,aue=function(e,t){var n=t,r=o0,i=Date.now(),o=i-n;if(o>=o0)return e;if(o<i0)return lT;var s=bB({startOfRange:i0,endOfRange:r,current:o}),a=e*Pa.ease(s);return Math.ceil(a)},s0=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=sue(t,n);return o===0?0:i?Math.max(aue(o,r),lT):o},a0=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=oue(t,i),a=n[i.end]<n[i.start];return a?s0({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*s0({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},lue=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},cue=j1(function(e){return e===0?0:e}),RB=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=a0({container:n,distanceToEdges:s,dragStartTime:t,axis:ZP,shouldUseTimeDampening:o}),l=a0({container:n,distanceToEdges:s,dragStartTime:t,axis:J1,shouldUseTimeDampening:o}),c=cue({x:l,y:a});if(Ea(c,sr))return null;var u=lue({container:n,subject:r,proposedScroll:c});return u?Ea(u,sr)?null:u:null},uue=j1(function(e){return e===0?0:e>0?1:-1}),cT=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,o=gr(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return Ea(s,sr)?null:s}}(),EB=function(t){var n=t.max,r=t.current,i=t.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=uue(i),a=cT({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},uT=function(t,n){return EB({current:t.scroll.current,max:t.scroll.max,change:n})},due=function(t,n){if(!uT(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return cT({current:i,max:r,change:n})},dT=function(t,n){var r=t.frame;return r?EB({current:r.scroll.current,max:r.scroll.max,change:n}):!1},hue=function(t,n){var r=t.frame;return!r||!dT(t,n)?null:cT({current:r.scroll.current,max:r.scroll.max,change:n})},pue=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=RB({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&uT(t,s)?s:null},fue=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var a=RB({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&dT(t,a)?a:null},l0=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],l=a.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,u=pue({dragStartTime:n,viewport:c,subject:l,center:s,shouldUseTimeDampening:r});if(u){i(u);return}}var d=iue({center:s,destination:Di(t.impact),droppables:t.dimensions.droppables});if(d){var h=fue({dragStartTime:n,droppable:d,subject:l,center:s,shouldUseTimeDampening:r});h&&o(d.descriptor.id,h)}},gue=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=ep(t),i=ep(n),o=null,s=function(u){o||we();var d=o,h=d.shouldUseTimeDampening,p=d.dragStartTime;l0({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h})},a=function(u){o&&we();var d=Date.now(),h=!1,p=function(){h=!0};l0({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),o={dragStartTime:d,shouldUseTimeDampening:h},h&&s(u)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},mue=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(c,u){var d=gr(c.current.client.selection,u);t({client:d})},o=function(c,u){if(!dT(c,u))return u;var d=hue(c,u);if(!d)return n(c.descriptor.id,u),null;var h=Ti(u,d);n(c.descriptor.id,h);var p=Ti(u,h);return p},s=function(c,u,d){if(!c||!uT(u,d))return d;var h=due(u,d);if(!h)return r(d),null;var p=Ti(d,h);r(p);var f=Ti(d,p);return f},a=function(c){var u=c.scrollJumpRequest;if(u){var d=Di(c.impact);d||we();var h=o(c.dimensions.droppables[d],u);if(h){var p=c.viewport,f=s(c.isWindowScrollAllowed,p,h);f&&i(c,f)}}};return a},vue=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=gue({scrollWindow:n,scrollDroppable:t}),o=mue({move:r,scrollWindow:n,scrollDroppable:t}),s=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},a={scroll:s,start:i.start,stop:i.stop};return a},Pu="data-rbd",Tu=function(){var e=Pu+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),yb=function(){var e=Pu+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Cue=function(){var e=Pu+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),c0={contextId:Pu+"-scroll-container-context-id"},yue=function(t){return function(n){return"["+n+'="'+t+'"]'}},Sd=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},Sue="pointer-events: none;",wue=function(e){var t=yue(e),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Tu.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Sue,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+fh.outOfTheWay+`;
    `;return{selector:t(yb.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:t(Cue.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:Sd(s,"always"),resting:Sd(s,"resting"),dragging:Sd(s,"dragging"),dropAnimating:Sd(s,"dropAnimating"),userCancel:Sd(s,"userCancel")}},Fi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Xy=function(){var t=document.querySelector("head");return t||we(),t},u0=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function bue(e,t){var n=Mt(function(){return wue(e)},[e]),r=S.useRef(null),i=S.useRef(null),o=We(or(function(d){var h=i.current;h||we(),h.textContent=d}),[]),s=We(function(d){var h=r.current;h||we(),h.textContent=d},[]);Fi(function(){!r.current&&!i.current||we();var d=u0(t),h=u0(t);return r.current=d,i.current=h,d.setAttribute(Pu+"-always",e),h.setAttribute(Pu+"-dynamic",e),Xy().appendChild(d),Xy().appendChild(h),s(n.always),o(n.resting),function(){var p=function(C){var y=C.current;y||we(),Xy().removeChild(y),C.current=null};p(r),p(i)}},[t,s,o,n.always,n.resting,e]);var a=We(function(){return o(n.dragging)},[o,n.dragging]),l=We(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=We(function(){i.current&&o(n.resting)},[o,n.resting]),u=Mt(function(){return{dragging:a,dropping:l,resting:c}},[a,l,c]);return u}var PB=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function yC(e){return e instanceof PB(e).HTMLElement}function Rue(e,t){var n="["+Tu.contextId+'="'+e+'"]',r=K1(document.querySelectorAll(n));if(!r.length)return null;var i=Wa(r,function(o){return o.getAttribute(Tu.draggableId)===t});return!i||!yC(i)?null:i}function Eue(e){var t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),o=We(function(h,p){var f={id:h,focus:p};return t.current[h]=f,function(){var y=t.current,g=y[h];g!==f&&delete y[h]}},[]),s=We(function(h){var p=Rue(e,h);p&&p!==document.activeElement&&p.focus()},[e]),a=We(function(h,p){n.current===h&&(n.current=p)},[]),l=We(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&s(h)}))},[s]),c=We(function(h){n.current=null;var p=document.activeElement;p&&p.getAttribute(Tu.draggableId)===h&&(n.current=h)},[]);Fi(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var u=Mt(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,c,l,a]);return u}function Pue(){var e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){var p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function r(d){t.length&&t.forEach(function(h){return h(d)})}function i(d){return e.draggables[d]||null}function o(d){var h=i(d);return h||we(),h}var s={register:function(h){e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,p){var f=e.draggables[p.descriptor.id];f&&f.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,f=i(p);f&&h.uniqueId===f.uniqueId&&(delete e.draggables[p],r({type:"REMOVAL",value:h}))},getById:o,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return Nm(e.draggables).filter(function(p){return p.descriptor.type===h})}};function a(d){return e.droppables[d]||null}function l(d){var h=a(d);return h||we(),h}var c={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=a(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:l,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return Nm(e.droppables).filter(function(p){return p.descriptor.type===h})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:c,subscribe:n,clean:u}}function Tue(){var e=Mt(Pue,[]);return S.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var hT=$.createContext(null),Bm=function(){var e=document.body;return e||we(),e},Aue={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Iue=function(t){return"rbd-announcement-"+t};function xue(e){var t=Mt(function(){return Iue(e)},[e]),n=S.useRef(null);S.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Ue(o.style,Aue),Bm().appendChild(o),function(){setTimeout(function(){var l=Bm();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]);var r=We(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var Due=0,Fue={separator:"::"};function pT(e,t){return t===void 0&&(t=Fue),Mt(function(){return""+e+t.separator+Due++},[t.separator,e])}function Oue(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function Mue(e){var t=e.contextId,n=e.text,r=pT("hidden-text",{separator:"-"}),i=Mt(function(){return Oue({contextId:t,uniqueId:r})},[r,t]);return S.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",Bm().appendChild(s),function(){var l=Bm();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var SC=$.createContext(null);function TB(e){var t=S.useRef(e);return S.useEffect(function(){t.current=e}),t}function kue(){var e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&we();var a={abandon:s};return e=a,a}function i(){e||we(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}var Lue=9,Nue=13,fT=27,AB=32,_ue=33,Bue=34,Hue=35,Gue=36,Vue=37,Wue=38,Uue=39,zue=40,Gf,$ue=(Gf={},Gf[Nue]=!0,Gf[Lue]=!0,Gf),IB=function(e){$ue[e.keyCode]&&e.preventDefault()},wC=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Wa(t,function(r){return"on"+r in document});return n||e}(),xB=0,d0=5;function jue(e,t){return Math.abs(t.x-e.x)>=d0||Math.abs(t.y-e.y)>=d0}var h0={type:"IDLE"};function Kue(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,c=s.clientY;if(a===xB){var u={x:l,y:c},d=r();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&we();var h=d.point;if(jue(h,u)){s.preventDefault();var p=d.actions.fluidLift(u);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){t();return}if(s.keyCode===fT){s.preventDefault(),t();return}IB(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&we(),a.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:wC,fn:t}]}function que(e){var t=S.useRef(h0),n=S.useRef(Ra),r=Mt(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===xB&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var h=e.findClosestDraggableId(d);if(h){var p=e.tryGetLock(h,s,{sourceEvent:d});if(p){d.preventDefault();var f={x:d.clientX,y:d.clientY};n.current(),c(p,f)}}}}}},[e]),i=Mt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var h=e.findClosestDraggableId(d);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&d.preventDefault())}}}}},[e]),o=We(function(){var d={passive:!1,capture:!0};n.current=Xi(window,[i,r],d)},[i,r]),s=We(function(){var u=t.current;u.type!=="IDLE"&&(t.current=h0,n.current(),o())},[o]),a=We(function(){var u=t.current;s(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[s]),l=We(function(){var d={capture:!0,passive:!1},h=Kue({cancel:a,completed:s,getPhase:function(){return t.current},setPhase:function(f){t.current=f}});n.current=Xi(window,h,d)},[a,s]),c=We(function(d,h){t.current.type!=="IDLE"&&we(),t.current={type:"PENDING",point:h,actions:d},l()},[l]);Fi(function(){return o(),function(){n.current()}},[o])}var hc;function Yue(){}var Que=(hc={},hc[Bue]=!0,hc[_ue]=!0,hc[Gue]=!0,hc[Hue]=!0,hc);function Xue(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===fT){o.preventDefault(),n();return}if(o.keyCode===AB){o.preventDefault(),r();return}if(o.keyCode===zue){o.preventDefault(),e.moveDown();return}if(o.keyCode===Wue){o.preventDefault(),e.moveUp();return}if(o.keyCode===Uue){o.preventDefault(),e.moveRight();return}if(o.keyCode===Vue){o.preventDefault(),e.moveLeft();return}if(Que[o.keyCode]){o.preventDefault();return}IB(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:wC,fn:n}]}function Jue(e){var t=S.useRef(Yue),n=Mt(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==AB)return;var s=e.findClosestDraggableId(o);if(!s)return;var a=e.tryGetLock(s,u,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,c=a.snapLift();t.current();function u(){l||we(),l=!1,t.current(),r()}t.current=Xi(window,Xue(c,u),{capture:!0,passive:!1})}}},[e]),r=We(function(){var o={passive:!1,capture:!0};t.current=Xi(window,[n],o)},[n]);Fi(function(){return r(),function(){t.current()}},[r])}var Jy={type:"IDLE"},Zue=120,ede=.15;function tde(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===fT&&i.preventDefault(),t()}},{eventName:wC,fn:t}]}function nde(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,c=a.clientY,u={x:l,y:c};o.preventDefault(),s.actions.move(u)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&we();var a=o.touches[0];if(a){var l=a.force>=ede;if(l){var c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&t();return}if(c){if(s.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:wC,fn:t}]}function rde(e){var t=S.useRef(Jy),n=S.useRef(Ra),r=We(function(){return t.current},[]),i=We(function(p){t.current=p},[]),o=Mt(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var f=e.findClosestDraggableId(p);if(f){var C=e.tryGetLock(f,a,{sourceEvent:p});if(C){var y=p.touches[0],g=y.clientX,v=y.clientY,m={x:g,y:v};n.current(),d(C,m)}}}}}},[e]),s=We(function(){var p={capture:!0,passive:!1};n.current=Xi(window,[o],p)},[o]),a=We(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(Jy),n.current(),s())},[s,i]),l=We(function(){var h=t.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=We(function(){var p={capture:!0,passive:!1},f={cancel:l,completed:a,getPhase:r},C=Xi(window,nde(f),p),y=Xi(window,tde(f),p);n.current=function(){C(),y()}},[l,r,a]),u=We(function(){var p=r();p.type!=="PENDING"&&we();var f=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:f,hasMoved:!1})},[r,i]),d=We(function(p,f){r().type!=="IDLE"&&we();var C=setTimeout(u,Zue);i({type:"PENDING",point:f,actions:p,longPressTimerId:C}),c()},[c,r,i,u]);Fi(function(){return s(),function(){n.current();var f=r();f.type==="PENDING"&&(clearTimeout(f.longPressTimerId),i(Jy))}},[r,s,i]),Fi(function(){var p=Xi(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var ide={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function DB(e,t){if(t==null)return!1;var n=!!ide[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:DB(e,t.parentElement)}function ode(e,t){var n=t.target;return yC(n)?DB(e,n):!1}var sde=function(e){return bo(e.getBoundingClientRect()).center};function ade(e){return e instanceof PB(e).Element}var lde=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Wa(t,function(r){return r in Element.prototype});return n||e}();function FB(e,t){return e==null?null:e[lde](t)?e:FB(e.parentElement,t)}function cde(e,t){return e.closest?e.closest(t):FB(e,t)}function ude(e){return"["+Tu.contextId+'="'+e+'"]'}function dde(e,t){var n=t.target;if(!ade(n))return null;var r=ude(e),i=cde(n,r);return!i||!yC(i)?null:i}function hde(e,t){var n=dde(e,t);return n?n.getAttribute(Tu.draggableId):null}function pde(e,t){var n="["+yb.contextId+'="'+e+'"]',r=K1(document.querySelectorAll(n)),i=Wa(r,function(o){return o.getAttribute(yb.id)===t});return!i||!yC(i)?null:i}function fde(e){e.preventDefault()}function Vf(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function OB(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!wB(n.getState(),i))}function gde(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,a=e.sourceEvent,l=OB({lockAPI:t,store:r,registry:i,draggableId:o});if(!l)return null;var c=i.draggable.getById(o),u=pde(n,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&ode(u,a))return null;var d=t.claim(s||Ra),h="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function f(){return t.isActive(d)}function C(P,A){Vf({expected:P,phase:h,isLockActive:f,shouldWarn:!0})&&r.dispatch(A())}var y=C.bind(null,"DRAGGING");function g(P){function A(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(A(),h!=="PRE_DRAG"&&we()),r.dispatch(lce(P.liftActionArgs)),h="DRAGGING";function R(T,b){if(b===void 0&&(b={shouldBlockNextClick:!1}),P.cleanup(),b.shouldBlockNextClick){var I=Xi(window,[{eventName:"click",fn:fde,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(I)}A(),r.dispatch(fB({reason:T}))}return Ue({isActive:function(){return Vf({expected:"DRAGGING",phase:h,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(b){return R("DROP",b)},cancel:function(b){return R("CANCEL",b)}},P.actions)}function v(P){var A=ep(function(T){y(function(){return pB({client:T})})}),R=g({liftActionArgs:{id:o,clientSelection:P,movementMode:"FLUID"},cleanup:function(){return A.cancel()},actions:{move:A}});return Ue({},R,{move:A})}function m(){var P={moveUp:function(){return y(vce)},moveRight:function(){return y(yce)},moveDown:function(){return y(Cce)},moveLeft:function(){return y(Sce)}};return g({liftActionArgs:{id:o,clientSelection:sde(u),movementMode:"SNAP"},cleanup:Ra,actions:P})}function w(){var P=Vf({expected:"PRE_DRAG",phase:h,isLockActive:f,shouldWarn:!0});P&&t.release()}var E={isActive:function(){return Vf({expected:"PRE_DRAG",phase:h,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:v,snapLift:m,abort:w};return E}var mde=[que,Jue,rde];function vde(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?mde:[],i||[]),a=S.useState(function(){return kue()})[0],l=We(function(v,m){v.isDragging&&!m.isDragging&&a.tryAbandon()},[a]);Fi(function(){var v=n.getState(),m=n.subscribe(function(){var w=n.getState();l(v,w),v=w});return m},[a,n,l]),Fi(function(){return a.tryAbandon},[a.tryAbandon]);for(var c=We(function(g){return OB({lockAPI:a,registry:r,store:n,draggableId:g})},[a,r,n]),u=We(function(g,v,m){return gde({lockAPI:a,registry:r,contextId:t,store:n,draggableId:g,forceSensorStop:v,sourceEvent:m&&m.sourceEvent?m.sourceEvent:null})},[t,a,r,n]),d=We(function(g){return hde(t,g)},[t]),h=We(function(g){var v=r.draggable.findById(g);return v?v.options:null},[r.draggable]),p=We(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(iT()))},[a,n]),f=We(a.isClaimed,[a]),C=Mt(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:f}},[c,u,d,h,p,f]),y=0;y<s.length;y++)s[y](C)}var Cde=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function wd(e){return e.current||we(),e.current}function yde(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,s=S.useRef(null),a=TB(e),l=We(function(){return Cde(a.current)},[a]),c=xue(t),u=Mue({contextId:t,text:o}),d=bue(t,i),h=We(function(T){wd(s).dispatch(T)},[]),p=Mt(function(){return HD({publishWhileDragging:uce,updateDroppableScroll:hce,updateDroppableIsEnabled:pce,updateDroppableIsCombineEnabled:fce,collectionStarting:dce},h)},[h]),f=Tue(),C=Mt(function(){return eue(f,p)},[f,p]),y=Mt(function(){return vue(Ue({scrollWindow:tue,scrollDroppable:C.scrollDroppable},HD({move:pB},h)))},[C.scrollDroppable,h]),g=Eue(t),v=Mt(function(){return Qce({announce:c,autoScroller:y,dimensionMarshal:C,focusMarshal:g,getResponders:l,styleMarshal:d})},[c,y,C,g,l,d]);s.current=v;var m=We(function(){var T=wd(s),b=T.getState();b.phase!=="IDLE"&&T.dispatch(iT())},[]),w=We(function(){var T=wd(s).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),E=Mt(function(){return{isDragging:w,tryAbort:m}},[w,m]);n(E);var P=We(function(T){return wB(wd(s).getState(),T)},[]),A=We(function(){return nl(wd(s).getState())},[]),R=Mt(function(){return{marshal:C,focus:g,contextId:t,canLift:P,isMovementAllowed:A,dragHandleUsageInstructionsId:u,registry:f}},[t,C,u,g,P,A,f]);return vde({contextId:t,store:v,registry:f,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(function(){return m},[m]),$.createElement(SC.Provider,{value:R},$.createElement(tae,{context:hT,store:v},e.children))}var Sde=0;function wde(){return Mt(function(){return""+Sde++},[])}function bde(e){var t=wde(),n=e.dragHandleUsageInstructions||yg.dragHandleUsageInstructions;return $.createElement(Jae,null,function(r){return $.createElement(yde,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var MB=function(t){return function(n){return t===n}},Rde=MB("scroll"),Ede=MB("auto"),p0=function(t,n){return n(t.overflowX)||n(t.overflowY)},Pde=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return p0(r,Rde)||p0(r,Ede)},Tde=function(){return!1},Ade=function e(t){return t==null?null:t===document.body?Tde()?t:null:t===document.documentElement?null:Pde(t)?t:e(t.parentElement)},Sb=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ide=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},xde=function(e){var t=Ade(e),n=Ide(e);return{closestScrollable:t,isFixedOnPage:n}},Dde=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,a=e.page,l=e.closest,c=function(){if(!l)return null;var p=l.scrollSize,f=l.client,C=CB({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:f,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:C,diff:{value:sr,displacement:sr}}}}(),u=o==="vertical"?ZP:J1,d=Eu({page:a,withPlaceholder:null,axis:u,frame:c}),h={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:s,page:a,frame:c,subject:d};return h},Fde=function(t,n){var r=W1(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},c=qP(l,r.border),u=YP({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return u},Ode=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,a=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=Fde(t,c),d=Mm(u,i),h=function(){if(!c)return null;var f=W1(c),C={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:Mm(f,i),scroll:Sb(c),scrollSize:C,shouldClipSubject:l}}(),p=Dde({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return p},Mde={passive:!1},kde={passive:!0},f0=function(e){return e.shouldPublishImmediately?Mde:kde};function Hm(e){var t=S.useContext(e);return t||we(),t}var Wf=function(t){return t&&t.env.closestScrollable||null};function Lde(e){var t=S.useRef(null),n=Hm(SC),r=pT("droppable"),i=n.registry,o=n.marshal,s=TB(e),a=Mt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=S.useRef(a),c=Mt(function(){return or(function(w,E){t.current||we();var P={x:w,y:E};o.updateDroppableScroll(a.id,P)})},[a.id,o]),u=We(function(){var w=t.current;return!w||!w.env.closestScrollable?sr:Sb(w.env.closestScrollable)},[]),d=We(function(){var w=u();c(w.x,w.y)},[u,c]),h=Mt(function(){return ep(d)},[d]),p=We(function(){var w=t.current,E=Wf(w);w&&E||we();var P=w.scrollOptions;if(P.shouldPublishImmediately){d();return}h()},[h,d]),f=We(function(w,E){t.current&&we();var P=s.current,A=P.getDroppableRef();A||we();var R=xde(A),T={ref:A,descriptor:a,env:R,scrollOptions:E};t.current=T;var b=Ode({ref:A,descriptor:a,env:R,windowScroll:w,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),I=R.closestScrollable;return I&&(I.setAttribute(c0.contextId,n.contextId),I.addEventListener("scroll",p,f0(T.scrollOptions))),b},[n.contextId,a,p,s]),C=We(function(){var w=t.current,E=Wf(w);return w&&E||we(),Sb(E)},[]),y=We(function(){var w=t.current;w||we();var E=Wf(w);t.current=null,E&&(h.cancel(),E.removeAttribute(c0.contextId),E.removeEventListener("scroll",p,f0(w.scrollOptions)))},[p,h]),g=We(function(w){var E=t.current;E||we();var P=Wf(E);P||we(),P.scrollTop+=w.y,P.scrollLeft+=w.x},[]),v=Mt(function(){return{getDimensionAndWatchScroll:f,getScrollWhileDragging:C,dragStopped:y,scroll:g}},[y,f,C,g]),m=Mt(function(){return{uniqueId:r,descriptor:a,callbacks:v}},[v,a,r]);Fi(function(){return l.current=m.descriptor,i.droppable.register(m),function(){t.current&&y(),i.droppable.unregister(m)}},[v,a,y,m,o,i.droppable]),Fi(function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Fi(function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Zy(){}var g0={width:0,height:0,margin:ile},Nde=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?g0:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},_de=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,o=Nde({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?fh.placeholder:null}};function Bde(e){var t=S.useRef(null),n=We(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,s=e.contextId,a=S.useState(e.animate==="open"),l=a[0],c=a[1];S.useEffect(function(){return l?r!=="open"?(n(),c(!1),Zy):t.current?Zy:(t.current=setTimeout(function(){t.current=null,c(!1)}),n):Zy},[r,l,n]);var u=We(function(h){h.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=_de({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return $.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}var Hde=$.memo(Bde),gT=$.createContext(null),Gde=function(e){Fv(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}($.PureComponent),m0={dragging:5e3,dropAnimating:4500},Vde=function(t,n){return n?fh.drop(n.duration):t?fh.snap:fh.fluid},Wde=function(t,n){return t?n?ip.opacity.drop:ip.opacity.combining:null},Ude=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function zde(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,o=e.dropping,s=!!i,a=Ude(e),l=!!o,c=l?vb.drop(r,s):vb.moveTo(r),u={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Vde(a,o),transform:c,opacity:Wde(s,l),zIndex:l?m0.dropAnimating:m0.dragging,pointerEvents:"none"};return u}function $de(e){return{transform:vb.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function jde(e){return e.type==="DRAGGING"?zde(e):$de(e)}function Kde(e,t,n){n===void 0&&(n=sr);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=V1(i,r),s=Mm(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:e,placeholder:a,displaceBy:l,client:o,page:s};return c}function qde(e){var t=pT("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,a=e.isEnabled,l=Mt(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),c=We(function(p){var f=i();return f||we(),Kde(n,f,p)},[n,i]),u=Mt(function(){return{uniqueId:t,descriptor:n,options:l,getDimension:c}},[n,c,l,t]),d=S.useRef(u),h=S.useRef(!0);Fi(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),Fi(function(){if(h.current){h.current=!1;return}var p=d.current;d.current=u,r.draggable.update(u,p)},[u,r.draggable])}function Yde(e){e.preventDefault()}function Qde(e){var t=S.useRef(null),n=We(function(T){t.current=T},[]),r=We(function(){return t.current},[]),i=Hm(SC),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=Hm(gT),c=l.type,u=l.droppableId,d=Mt(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:u}},[e.draggableId,e.index,c,u]),h=e.children,p=e.draggableId,f=e.isEnabled,C=e.shouldRespectForcePress,y=e.canDragInteractiveElements,g=e.isClone,v=e.mapped,m=e.dropAnimationFinished;if(!g){var w=Mt(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:C,isEnabled:f}},[d,a,r,y,C,f]);qde(w)}var E=Mt(function(){return f?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:Yde}:null},[o,s,p,f]),P=We(function(T){v.type==="DRAGGING"&&v.dropping&&T.propertyName==="transform"&&m()},[m,v]),A=Mt(function(){var T=jde(v),b=v.type==="DRAGGING"&&v.dropping?P:null,I={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:T,onTransitionEnd:b},dragHandleProps:E};return I},[o,E,p,v,P,n]),R=Mt(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return h(A,v.snapshot,R)}var kB=function(e,t){return e===t},LB=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},Xde=function(t){return t.combine?t.combine.draggableId:null},Jde=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Zde(){var e=or(function(i,o){return{x:i,y:o}}),t=or(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=or(function(i,o,s,a,l,c,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:u,snapshot:t(o,a,l,c,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],c=Di(o.impact),u=Jde(o.impact),d=o.forceShouldAnimate;return n(e(a.x,a.y),o.movementMode,l,s.isClone,c,u,d)}if(o.phase==="DROP_ANIMATING"){var h=o.completed;if(h.result.draggableId!==s.draggableId)return null;var p=s.isClone,f=o.dimensions.draggables[s.draggableId],C=h.result,y=C.mode,g=LB(C),v=Xde(C),m=o.dropDuration,w={duration:m,curve:sT.drop,moveTo:o.newHomeClientOffset,opacity:v?ip.opacity.drop:null,scale:v?ip.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:f,dropping:w,draggingOver:g,combineWith:v,mode:y,forceShouldAnimate:null,snapshot:t(y,p,g,v,w)}}}return null};return r}function NB(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ehe={mapped:{type:"SECONDARY",offset:sr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:NB(null)}};function the(){var e=or(function(s,a){return{x:s,y:a}}),t=or(NB),n=or(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}}}),r=function(a){return a?n(sr,a,!0):null},i=function(a,l,c,u){var d=c.displaced.visible[a],h=!!(u.inVirtualList&&u.effected[a]),p=mC(c),f=p&&p.draggableId===a?l:null;if(!d){if(!h)return r(f);if(c.displaced.invisible[a])return null;var C=$u(u.displacedBy.point),y=e(C.x,C.y);return n(y,f,!0)}if(h)return r(f);var g=c.displacedBy.point,v=e(g.x,g.y);return n(v,f,d.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var c=a.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var nhe=function(){var t=Zde(),n=the(),r=function(o,s){return t(o,s)||n(o,s)||ehe};return r},rhe={dropAnimationFinished:gB},ihe=H1(nhe,rhe,null,{context:hT,pure:!0,areStatePropsEqual:kB})(Qde);function _B(e){var t=Hm(gT),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:$.createElement(ihe,e)}function v0(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return $.createElement(_B,Ue({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function ohe(e){var t=S.useContext(SC);t||we();var n=t.contextId,r=t.isMovementAllowed,i=S.useRef(null),o=S.useRef(null),s=e.children,a=e.droppableId,l=e.type,c=e.mode,u=e.direction,d=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,f=e.snapshot,C=e.useClone,y=e.updateViewportMaxScroll,g=e.getContainerForClone,v=We(function(){return i.current},[]),m=We(function(I){i.current=I},[]);We(function(){return o.current},[]);var w=We(function(I){o.current=I},[]),E=We(function(){r()&&y({maxScroll:SB()})},[r,y]);Lde({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:v});var P=$.createElement(Gde,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(I){var D=I.onClose,F=I.data,O=I.animate;return $.createElement(Hde,{placeholder:F,onClose:D,innerRef:w,animate:O,contextId:n,onTransitionEnd:E})}),A=Mt(function(){return{innerRef:m,placeholder:P,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,P,m]),R=C?C.dragging.draggableId:null,T=Mt(function(){return{droppableId:a,type:l,isUsingCloneFor:R}},[a,R,l]);function b(){if(!C)return null;var I=C.dragging,D=C.render,F=$.createElement(_B,{draggableId:I.draggableId,index:I.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(O,_){return D(O,_,I)});return Fc.createPortal(F,g())}return $.createElement(gT.Provider,{value:T},s(A,f),b())}var eS=function(t,n){return t===n.droppable.type},C0=function(t,n){return n.draggables[t.draggable.id]},she=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Ue({},t,{shouldAnimatePlaceholder:!1}),r=or(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=or(function(s,a,l,c,u,d){var h=u.descriptor.id,p=u.descriptor.droppableId===s;if(p){var f=d?{render:d,dragging:r(u.descriptor)}:null,C={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:f}}if(!a)return n;if(!c)return t;var y={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),o=function(a,l){var c=l.droppableId,u=l.type,d=!l.isDropDisabled,h=l.renderClone;if(a.isDragging){var p=a.critical;if(!eS(u,p))return n;var f=C0(p,a.dimensions),C=Di(a.impact)===c;return i(c,d,C,C,f,h)}if(a.phase==="DROP_ANIMATING"){var y=a.completed;if(!eS(u,y.critical))return n;var g=C0(y.critical,a.dimensions);return i(c,d,LB(y.result)===c,Di(y.impact)===c,g,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var v=a.completed;if(!eS(u,v.critical))return n;var m=Di(v.impact)===c,w=!!(v.impact.at&&v.impact.at.type==="COMBINE"),E=v.critical.droppable.id===c;return m?w?t:n:E?t:n}return n};return o},ahe={updateViewportMaxScroll:mce};function lhe(){return document.body||we(),document.body}var che={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:lhe},wb=H1(she,ahe,null,{context:hT,pure:!0,areStatePropsEqual:kB})(ohe);wb.defaultProps=che;const uhe=Fu(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),dhe=Fu(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),y0=Fu(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),hhe=()=>{const[e,t]=S.useState([]);S.useState("ws://on34c03190440/ws/tasks");const[n,r]=S.useState(""),[i,o]=S.useState(""),[s,a]=S.useState([]);S.useEffect(()=>{(async()=>{const[g,v]=await Promise.all([fetch("https://on34c03190440:5000/api/tasks"),fetch("https://on34c03190440:5000/api/workers")]),m=await g.json(),w=await v.json(),E=[];w.forEach(A=>{const R=[],T={name:A.name,tasks:R,droppableId:A.droppable_id};m.forEach(b=>{if(b.droppable_id===A.droppable_id){const I={draggableId:b.draggable_id,name:b.name,startDate:b.start_date,description:b.description};R.push(I)}}),E.push(T)});const P=[];m.forEach(A=>{if(A.droppable_id==="taskList"){const R={draggableId:A.draggable_id,name:A.name,startDate:A.start_date,description:A.description};P.push(R)}}),t(P),a(E)})()},[]);const l=async y=>{var P,A,R,T,b;const g=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),{source:v,destination:m}=y;if(!y.destination||(v==null?void 0:v.droppableId)===(m==null?void 0:m.droppableId)&&(v==null?void 0:v.index)===(m==null?void 0:m.index))return;const w=(I,D,F,O)=>{const[_]=I.splice(F,1);return _.startDate=g,D.splice(O,0,_),_},E=async(I,D,F)=>{try{const O=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});await fetch("https://on34c03190440:5000/api/tasks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({draggable_id:I,source_droppable_id:D,destination_droppable_id:F,start_date:O})})}catch(O){console.log("Failed to update task ownership: ",O)}};if(v.droppableId===m.droppableId)if(v.droppableId==="taskList"){const I=e;w(I,I,v.index,m.index),t(I)}else{const I=((P=s.find(D=>D.droppableId===v.droppableId))==null?void 0:P.tasks)||[];w(I,I,v.index,m.index),a(D=>D.map(F=>F.droppableId===v.droppableId?{...F,tasks:I}:F))}else if(v.droppableId==="taskList"){const I=Array.from(e);if(s.find(F=>F.droppableId===m.droppableId)){const F=((A=s.find(_=>_.droppableId===m.droppableId))==null?void 0:A.tasks)||[],O=w(I,F,v.index,m.index);t(I),a(_=>_.map(N=>N.droppableId===m.droppableId?{...N,tasks:F}:N)),await E(O.draggableId,v.droppableId,m.droppableId)}}else if(m.droppableId==="taskList"){const I=Array.from(e);if(s.find(F=>F.droppableId===v.droppableId)){const F=((R=s.find(_=>_.droppableId===v.droppableId))==null?void 0:R.tasks)||[],O=w(F,I,v.index,m.index);t(I),a(_=>_.map(N=>N.droppableId===v.droppableId?{...N,tasks:F}:N)),await E(O.draggableId,v.droppableId,m.droppableId)}}else if(v.droppableId!=="taskList"&&m.droppableId!=="taskList"){const I=((T=s.find(O=>O.droppableId===v.droppableId))==null?void 0:T.tasks)||[],D=((b=s.find(O=>O.droppableId===m.droppableId))==null?void 0:b.tasks)||[],F=w(I,D,v.index,m.index);a(O=>O.map(_=>_.droppableId===v.droppableId?{..._,tasks:I}:_)),a(O=>O.map(_=>_.droppableId===m.droppableId?{..._,tasks:D}:_)),await E(F.draggableId,v.droppableId,m.droppableId)}},c=async()=>{if(n.trim()==="")return;const y={draggableId:Date.now().toString(),name:n,startDate:"",description:p},g=[...e,y];t(g),r(""),f(""),await fetch("https://on34c03190440:5000/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y.name,draggable_id:y.draggableId,droppable_id:"taskList",start_date:"",description:p})})},u=async()=>{if(i.trim()==="")return;const y={name:i,tasks:[],droppableId:Date.now().toString()};try{await fetch("https://on34c03190440:5000/api/workers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y.name,droppable_id:y.droppableId})}),a(g=>[...g,y]),o("")}catch(g){console.log("Could not add worker: ",g)}},d=async(y,g)=>{const v=y.draggableId,m=g.droppableId,w=g.tasks||[],E=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),P=w.filter(A=>A.draggableId!==v);a(A=>A.map(R=>R.droppableId===g.droppableId?{...R,tasks:P}:R)),await Promise.all([fetch("https://on34c03190440:5000/api/completed_tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name,task:y.name,start_date:y.startDate,end_date:E})}),fetch("https://on34c03190440:5000/api/tasks",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({droppable_id:m,draggable_id:v})})])},h=(y,g)=>{const v=new Date(y),E=(new Date(g).getTime()-v.getTime())/(1e3*60*60*24);return Math.round(E)},[p,f]=S.useState(""),C=async y=>{await fetch("https://on34c03190440:5000/api/tasks",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({draggable_id:y})}),t(g=>g.filter(v=>v.draggableId!==y))};return x.jsxs(x.Fragment,{children:[x.jsxs(Xn,{sx:{width:"100%",mb:2,display:"flex",justifyContent:"space-between"},children:[x.jsxs(Xn,{sx:{display:"flex",alignItems:"center",gap:2},children:[x.jsx(Po,{label:"Enter a worker...",value:i,onChange:y=>o(y.target.value)}),x.jsx(Kn,{variant:"contained",onClick:u,children:"Add Worker"})]}),x.jsxs(Xn,{sx:{display:"flex",alignItems:"center",gap:2},children:[x.jsx(Po,{label:"Enter a task...",value:n,onChange:y=>r(y.target.value)}),x.jsx(Po,{label:"Enter a description...",value:p,onChange:y=>f(y.target.value)}),x.jsx(Kn,{variant:"contained",onClick:c,children:"Add Task"})]})]}),x.jsx(Xn,{display:"flex",sx:{width:"100%",gap:2},children:x.jsxs(bde,{onDragEnd:l,children:[x.jsx(Xn,{display:"flex",sx:{width:"75%",gap:2,flexWrap:"wrap"},children:s.map((y,g)=>x.jsxs(Xn,{sx:{height:"400px",borderRadius:2,width:"45%",background:"#F5F5F5"},children:[x.jsx($i,{variant:"h6",color:"textSecondary",sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"#313d4f",borderRadius:1,height:"40px",color:"white"},children:y.name}),x.jsx(Xn,{sx:{height:"95%",padding:1},children:x.jsx(wb,{droppableId:y.droppableId,children:v=>{var m;return x.jsx(Xn,{display:"flex",sx:{height:"90%",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between"},children:x.jsxs(Jg,{...v.droppableProps,ref:v.innerRef,style:{listStyle:"none",padding:0,width:"100%",height:"100%",overflow:"auto"},children:[(m=s[g].tasks)==null?void 0:m.map((w,E)=>x.jsx(v0,{draggableId:w.draggableId,index:E,children:P=>x.jsxs(pw,{ref:P.innerRef,...P.draggableProps,...P.dragHandleProps,style:{padding:"10px 0px",margin:"4px 0",backgroundColor:"#C4DAD2",borderRadius:"4px",...P.draggableProps.style},children:[x.jsx(Mc,{sx:{cursor:"grab"},children:x.jsx(y0,{})}),x.jsxs(Xn,{display:"flex",sx:{width:"100%",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs(iI,{sx:{width:"100%",background:"#f0f0f0"},children:[x.jsx(sI,{children:x.jsx($i,{sx:{color:"#333333"},children:w.name})}),x.jsx(oI,{children:x.jsx($i,{children:w.description})})]}),x.jsxs(Xn,{display:"flex",sx:{alignItems:"center",gap:2,ml:2},children:[x.jsx($i,{style:{width:"50px",display:"flex",justifyContent:"center",color:"#333333"},children:(()=>{const A=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return`Day ${h(w.startDate,A)}`})()}),x.jsx(Mc,{color:"primary",onClick:()=>d(w,y),children:x.jsx(uhe,{})})]})]})]})},w.draggableId)),v.placeholder]})})}})})]},g))}),x.jsxs(Xn,{sx:{width:"25%",borderRadius:2,display:"flex",flexWrap:"wrap",height:"75vh",position:"fixed",right:20,background:"#F5F5F5"},children:[x.jsx($i,{variant:"h6",color:"textSecondary",sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",borderRadius:2,background:"#313d4f",height:"40px",color:"white"},children:"Task Board"}),x.jsx(Xn,{sx:{height:"100%",width:"100%",padding:1},children:x.jsx(wb,{droppableId:"taskList",children:y=>x.jsxs(Jg,{...y.droppableProps,ref:y.innerRef,style:{listStyle:"none",padding:0,width:"100%",height:"92%",overflow:"auto"},children:[e.map((g,v)=>x.jsx(v0,{draggableId:g.draggableId,index:v,children:m=>x.jsxs(pw,{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,sx:{padding:"10px 0",margin:"4px 0",backgroundColor:"#C4DAD2",borderRadius:"4px",...m.draggableProps.style},children:[x.jsx(Mc,{sx:{cursor:"grab"},children:x.jsx(y0,{})}),x.jsxs(iI,{sx:{width:"90%",background:"#f0f0f0"},children:[x.jsx(sI,{children:x.jsx($i,{sx:{color:"#333333"},children:g.name})}),x.jsx(oI,{children:x.jsx($i,{children:g.description})})]}),x.jsx(Mc,{onClick:()=>C(g.draggableId),children:x.jsx(dhe,{})})]})},g.draggableId)),y.placeholder]})})})]})]})})]})},phe=()=>{const[e]=S.useState([{field:"task",headerName:"Task",sortable:!0,filter:!0},{field:"start_date",headerName:"Start Date",sortable:!0,filter:!0},{field:"end_date",headerName:"End Date",sortable:!0,filter:!0},{field:"days",headerName:"Days Taken",sortable:!0,filter:!0},{field:"worker",headerName:"Worker",sortable:!0,filter:!0}]),[t,n]=S.useState([]);S.useEffect(()=>{(async()=>{const s=await(await fetch("https://on34c03190440:5000/api/completed_tasks")).json();s.forEach(a=>{a.days=r(a.start_date,a.end_date)}),n(s)})()},[]);const r=(i,o)=>{const s=new Date(i),c=(new Date(o).getTime()-s.getTime())/(1e3*60*60*24);return Math.round(c)};return x.jsx(x.Fragment,{children:x.jsx(Xn,{className:"ag-theme-quartz",sx:{width:"100%",height:"90vh"},children:x.jsx(xP,{rowData:t,columnDefs:e,domLayout:"normal",onGridReady:i=>{i.api.sizeColumnsToFit()}})})})};function fhe(){const e=window.location.pathname!=="/signin-oidc"?x.jsx(p8,{to:"/"}):x.jsx(x.Fragment,{});return x.jsx(x.Fragment,{children:x.jsx(b8,{children:x.jsxs("div",{className:"main-container",children:[x.jsx(T8,{}),x.jsx("div",{className:"content-container",children:x.jsxs(g8,{children:[x.jsx(Xa,{path:"/",element:x.jsx(EY,{})}),x.jsx(Xa,{path:"/environments",element:x.jsx(Rf,{interactionType:Oe.Redirect,children:x.jsx(voe,{})})}),x.jsx(Xa,{path:"/pivottable",element:x.jsx(Rf,{interactionType:Oe.Redirect,children:x.jsx($se,{})})}),x.jsx(Xa,{path:"/taskboard",element:x.jsx(Rf,{interactionType:Oe.Redirect,children:x.jsx(hhe,{})})}),x.jsx(Xa,{path:"/completedtasks",element:x.jsx(Rf,{interactionType:Oe.Redirect,children:x.jsx(phe,{})})}),x.jsx(Xa,{path:"*",element:e})]})})]})})})}const ghe=new NE(vY);kO(document.getElementById("root")).render(x.jsx(hY,{instance:ghe,children:x.jsx(fhe,{})}));
